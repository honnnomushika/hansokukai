
-------------------------------
　Ver3.588 の更新履歴　2025/04/25
-------------------------------

【ゲーム部の修正】

●【動作指定とイベント起動/不具合】
　「並列実行」イベントからの「主人公」の「動作指定」を行った際の
　イベント起動タイミングの挙動がVer3.584あたりから
　変わってしまっていた現象を修正

●【動作指定+並列実行/不具合】
　「主人公」を「並列実行」イベントの動作指定で動かして
　「プレイヤーからの接触」起動のイベントを実行する場合、
　【マスの上にちょうど乗ったタイミング】で起動するよう修正。
　※従来は上記のケースだと「移動開始した瞬間」に
　 「次のマスのプレイヤーからの接触」イベントが起動しており、
　 通常の移動時とは違うタイミングの起動になっていました。
　※これに伴い、主人公が超高速(1マス1フレーム)で移動したときに
　　最初の1歩目のイベントが起動しないバグも解消されます。
　→　ただし様々なイベント起動タイミングの問題を解消するため
　　「並列実行」の「動作指定」で「プレイヤー接触」Evに触れた瞬間だけ、
　　「主人公」の実行中の動作指定が1フレーム分停止する仕様となります。
　　その点はご容赦ください。
　（通常の移動で「プレイヤーからの接触」イベントに触れた場合は
　　挙動に何も変化はありません）



【エディター部の修正】

●【DB操作/不具合】「可変DB」で「新データ挿入」などを選んだ状態で
　　DBタイプを「ユーザDB」などに変えると「項目」の「名前」チェックが
　　切り替え不能になってしまうバグを修正



-------------------------------
　Ver3.587 の更新履歴　2025/04/24
-------------------------------

【エディター部の修正】

●【文章の表示/調整】「編集」時の「2回改行で自動入力」と
 「[入力]のたびに消去」のチェック状態を、
 （「編集」モードでない）「イベントコマンド挿入ウィンドウ」上での
 「文章の表示」のチェックボックスの状態に合わせるよう修正

●【コモンイベント(コマンド)/不具合】
　「イベントの挿入」コマンドでコモンイベントを指定し、
　その呼び出すコモンイベント側の「設定」で文字列入力の数を変えると、
　最初に設定したコマンドの「編集」時に「返り値」のデータが
　おかしくなったりクラッシュするバグを修正


-------------------------------
　Ver3.586 の更新履歴　2025/04/23
-------------------------------

【エディター部の修正】

●【ゲームデータの作成/不具合】
　「Dataフォルダ丸ごと暗号化」すると、サイズが2GB～4GBになる場合に
　エラーもなく0バイトのData.wolfが出力されてしまうバグを修正。

●【ゲームデータの作成/調整】
　「Game時全メモリ読込」と書いていない暗号化バージョンで暗号化する場合は、
　「1フォルダ2GB以内」の制限も撤廃しました。
　また、それらの暗号化バージョンに[大容量可]と追記しました。
→ これにより、「ChaCha20暗号化」などを選択すれば、
　 1つ6GBの「丸ごと暗号化 Data.wolf」ファイルなども使用可能になります。


-------------------------------
　Ver3.585 の更新履歴　2025/04/21
-------------------------------

【ゲーム部の修正】

●【変数操作+/仕様変更】「その他」の「[ﾒﾓﾘ]残り物理メモリ量[MB]」を、
　「実際にウディタのGame.exe内で使用できるメモリ量」を返すよう修正。
　さらに名前を「[ﾒﾓﾘ]残りメモリ量[MB]」に変更。
→　ウディタのGame.exeは64bitのWindows環境であれば
　　最大4GBまでメモリを使用できるのですが、従来は技術的都合で
　　「【PC側】の全残りメモリの値(4GB超になってしまう)」を
　　返していました。


【エディター部の修正】

●【ゲームデータの作成/不具合】サイズが大きいファイルを含んだフォルダを
　暗号化すると「処理が中断されました」と出てゲームデータ作成が
　中断してしまうことがあったバグを修正

●【ゲームデータの作成/仕様変更】暗号化した[.wolf]ファイルが
　「累計4GB以上」になるとエラーを出して処理を中断していましたが、
　「Game時全メモリ読込」でない暗号化バージョンであれば
　累計4GB以上でも動作することがわかったため、その制限を解除しました。
→　「Game時全メモリ読込」と書かれていない「ChaCha20暗号化」などであれば、
　　大容量のゲームも暗号化できます。


-------------------------------
　Ver3.584 の更新履歴　2025/04/20
-------------------------------

【ゲーム部の修正】

●【文字列操作/調整】「正規表現」系の処理が重く、
　500万回エラーに達するまで非常に時間がかかるので、
　500万回エラーのカウント時には1回あたり50回分の処理とみなす補正を追加
→ 実は「文字列操作」など、「変数操作」の数十倍以上重い処理には、
　処理の重さに応じて1回あたり＋50回または＋100回として
　カウントされるよう内部補正を行っています。

●【動作指定/不具合】Ver3.582で修正した、「主人公」を並列イベントで
　移動させたときに最初の1歩目の乗れる「プレイヤーからの接触」イベントが
　起動しないバグ修正によって別の問題が発生したので再修正しました。


-------------------------------
　Ver3.583 の更新履歴　2025/04/20
-------------------------------

【ゲーム部の修正】

●【動作指定/不具合】「自動移動」で目標地点に「イベント」があると
　　動作開始しなくなっていたバグを修正
　→　目標地点にイベントがある場合でも、ひとまずマップ上経路を使って
　　　そこへ向かおうとするのが仕様です
　　（移動開始できないのはゴールが「マップ的に」通行不能だった場合のみです）

●【動作指定/不具合】「自動移動」を行った際、目標地点が遠すぎるために
　　経路探索に失敗して「移動開始できない」状況でも
　　1歩だけ移動してしまうことがあるバグを修正

●【システム変数/不具合】「Sys131:主人公　中心X補正」を変更した状態で
　「場所移動」を行うと、「Sys104:Xスクロール値」が通常では出ない数値に
　なることがあるバグを修正

●【変数操作+/不具合】「スクロール値が0以外の場合」かつ「マップズーム」を
　おこなった状態で「その他」の「[ﾏｳｽ]ﾏｳｽ座標にあるEvID」と
　「[ﾏｳｽ]ﾏｳｽ座標の範囲拡張EvID」を行うと
　正常にイベントIDが取得できないバグを修正

●【変数操作+/不具合】「位置→画面座標」の
　「px座標のイベントID」「px座標のイベントID+範囲拡張」、
　ならびに「その他」の「[ﾏｳｽ]ﾏｳｽ座標にあるEvID」と
　「[ﾏｳｽ]ﾏｳｽ座標の範囲拡張EvID」の実行時、
　イベントが「ループ境界上」にいると半身分の範囲だけ
　正常にイベントIDを取得できないことがあったバグを修正


-------------------------------
　Ver3.582 の更新履歴　2025/04/19
-------------------------------

【ゲーム部の修正】

●【動作指定/不具合】「並列処理」のイベントで動作指定によって
　「主人公」を移動させたとき、「プレイヤー接触」のイベントに乗っても
　特定条件で起動しないことがあるバグを修正
→　Ver3.50以降から発生したバグです。
　（並列イベントの動作指定によって「プレイヤー接触」イベントを
　　起動できるようになったのはVer3.50から）

●【動作指定/仕様変更･不具合】「座標指定」のコマンド、「の座標に一歩接近」
　「自動移動（各種）」を行った際、半歩でも移動した方向（縦か横）の
　「ピクセル補正」が0になるように修正。
　また、「の座標にジャンプ」をした場合は必ずマスの区切りに移動するよう修正。
 → これはつまり【完全に縦に移動する場合は横方向のピクセル補正が維持されます】
  　が、【縦や横に1歩でも動くとその方向のピクセル補正は0に戻される】
  　ということです。
 → この修正により、「ピクセル補正」と「自動移動」を併用すると
 　 無限に同じ位置を行き来してしまうバグも解消されます。
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.566時点の挙動で動作」に設定すると
　　従来の挙動に戻せます。

●【動作指定/不具合】「自動移動」による行き先が
　「侵入不能なマップチップ」の場合でも移動することがあったバグを修正
　→　Ver3.5の最初は確かこの仕様だったのですが、
　　　これまでの修正で期待通りの挙動をしなくなっていました。
　　　今回自動移動をいっぱいいじったので
　　　何かおかしな挙動になってたら教えてください。
　→　なお、「移動できない場合は飛ばす」がオンの場合に限り、
　　　移動開始できなかった場合に次のコマンドに移ります

●【特殊文字/不具合】\cdb[A:B]、\sdb[A:B]、\udb[A:B]の
　　　特殊文字の後ろに「:」の文字が存在した場合、
　　　「エラー：\?dbの「:」が見つかりません」という
　　　エラーがでてしまうバグを修正



【エディター部の修正】

●【複数行のコマンド/調整】「選択肢」や「条件」「ループ」など
　複数行に渡るコマンドの入力時、「Shift」を押しながら「入力」すると
　入力後のカーソル位置がコマンド末尾になる機能を追加
→　以前の入力を使いたい人向けの切り替え機能です。
    何も押さない場合、今は「一つ目の選択肢の中」に
　　自動的にカーソル移動します。

●【イベント画像選択/不具合】イベント画像を選択する際、
　（タイルセット）でない画像を選んで「拡大率」を切り替え、
　画像部分をクリックすると□が2つ表示されてしまうバグ修正


-------------------------------
　Ver3.581 の更新履歴　2025/04/18
-------------------------------

【ゲーム部の修正】

●【自動移動･経路探索/不具合】Ver3.580のみ経路探索の
　　最初の1歩目の情報がなくなっていたバグを修正
　→ これにより自動移動の挙動もこれまでと違った動きに
　　なってしまっていました。



【エディター部の修正】

●【DB操作/不具合】Ver3.580のみDB操作コマンドを「編集」して
　「OK」を押すとクラッシュするバグを修正

●【マップ選択/不具合】システムDBタイプ0で「遠景ファイル」を
　手動で設定したときだけ、「マップ選択」でマップを切り替えると
　（ファイルがあっても）遠景ファイルがありませんと言われて
　遠景が表示されないバグを修正


-------------------------------
　Ver3.580 の更新履歴　2025/04/17
-------------------------------

【ゲーム部の修正】

●【自動移動･経路探索/調整】広いマップでの経路探索の処理を最適化。
　条件次第で従来より高速に処理されるようになります。
　また経路探索や自動移動させる際に1000マス以上の非常に広いマップになると
　処理が遅くなっていた現象に対し、今回の修正でマップサイズにかかわらず
　常にほぼ同じ処理速度が出るようになりました。
 → 特に数千×数千サイズのマップでは従来の
 　 10倍以上の効率が出るようになります。



【エディター部の修正】

●【システム変数/調整】Sys120の名前を
　　「ﾘｾｯﾄ履歴 0=ﾅｼ/1=F12/2=[ﾀｲﾄﾙ画面へ]ｺﾏﾝﾄﾞ」に変更
　→　従来は[ﾀｲﾄﾙ画面へ]部分がなく、当該コマンドによるフラグだと
　　　分かりにくかったためです

●【DB操作/不具合】プルダウンメニュー選択時、下部のキャプション欄に
　　選んだメニュー内容が反映されていなかったのを修正

●【パーティ画像/不具合】「パーティ画像」の入力後のコマンドが黒色で
　　表示されていたのを黄色に修正。

●【データベースウィンドウ/調整】右の項目欄の
　「入力欄」と「プルダウンメニュー」の基本サイズが、リソースDLL内の
　「ダイアログ側で指定されている1個目のサイズ」に応じて変わるよう修正
　→　普通の利用者の方には影響ありません、翻訳時などにのみ影響があります。

●【空データ作成処理/調整】 空データ作成処理がマルウェアの挙動と
   誤認される現象があったので処理を調整してみました。


-------------------------------
　Ver3.579 の更新履歴　2025/04/09
-------------------------------

【エディター部の修正】

●【マップ保存/不具合】マップのサイズを一気に大きくしたあとに「保存」した際、
　　　クラッシュすることがあったバグを修正

●【マップ設定/調整】マップサイズ入力欄の下部のキャプションに
　　　「10×8より小さい」「縦か横が10000以上」「縦×横が1000万チップ超」
　　　の各種エラーを表示するよう修正

●【マップ設定/調整】マップサイズ欄で上下キーを押すと最大1024マスまでしか
　　　　増やせなかったのを、最大9999まで拡張



-------------------------------
　Ver3.578 の更新履歴　2025/04/04
-------------------------------

【新機能】

●【システム変数/新機能】「Sys38:ｷｰﾎﾞ入力中受付可?[1:ﾏｳｽﾀｯﾁ+2ﾊﾟｯﾄﾞ]」追加。
　「文字列操作」の「キーボード入力」中でも「マウス」「タッチ」「パッド入力」を
　「キー入力」コマンドで受け付けられるようにするシステム変数です。
　1ならマウスやタッチが有効、2ならパッドが有効、3(1+2)なら両方有効になります。
　→　従来は「キーボード入力」中は何の「キー入力」も受け付けられませんでしたが、
　　　これを利用すれば文字入力中でもマウスで別の入力欄に切り替えたりできます。
　→　デフォルト値は「0」(キーボード入力中は全入力を受け付けない）です。



【ゲーム部の修正】

●【システム文字列/調整】「SysS26:キーボード入力中文字列」入力時、
　カーソルが最後尾にあったなら入力後も自動で最後尾に、
　そうでなければ入力前後でカーソル位置を維持するように修正


-------------------------------
　Ver3.577 の更新履歴　2025/04/03
-------------------------------

【ゲーム部の修正】

●【条件(文字列)/不具合】「～が最後にある」を使用したとき、
　　特定条件でクラッシュすることがあったバグを修正

●【システム文字列/不具合】「SysS22:[読]ダウンロード中データ内容」を
　　読み込んだときに低確率でクラッシュすることがあったバグ修正

●【画面描画/不具合】Config.exeで「グラフィック表示モード」を
　「ソフトウェアモード」にしていると画面に何も映らなくなるバグ修正

●【画像読込(プロ版)/不具合】Ver3.567で「.wolfx」の画像を読み込むと
　　正常に表示されなくなっていたバグ修正



【エディター部の修正】

●【DB操作/不具合】なんらかの条件で数値入力欄の位置が
　　　移動してしまうことがあるバグへの修正を試みました。

●【マップ・コモンイベントウィンドウ/不具合】
　「コマンド内容を挿入ウィンドウに取込」をするたびに
　数値入力欄が縮んでいく場所があったバグを修正

●【システム変数/調整】「Sys12：メッセージ表示中？(1=ON)」の名前を
　「文章の表示 実行中？(1=ON)」に変更


-------------------------------
　Ver3.576 の更新履歴　2025/03/29
-------------------------------

【ゲーム部の修正】

●【エフェクト/不具合】「ピクチャ」の「変換」系エフェクトをかけると
　　半透明部分の色が変わってしまうバグを修正

●【キャラクター画像/不具合】半透明のキャラクター画像に
　色相変化<HUE=100>などの隠しコードをセットすると
　半透明部分の色が変わってしまうバグを修正

●【キャラ･タイル･ピクチャ･メッセージ内画像/調整】
　上記の修正に伴い、キャラやピクチャを（マップズーム含めて）
　拡大縮小回転したとき、ドット絵の「透明部分」と
　「不透明部分」の境界色として、画像によっては100%時に見えない色が
　表示されてしまうことがある現象が改善されます。
→　ただしこの仕様に調整した都合上、「乗算」処理で
　　半透明の画像を表示した際、以前より半透明部分が黒くなる現象が
　　発生してしまうようですのでご注意ください。
　　「半透明なし」画像ならばそういった問題は起きないので、
　　必要に応じて調整をお願いいたします。


●【マップ設定/不具合】マップ設定にてBGMとBGSを両方
　　設定しているとき、BGMが「MIDI形式」のファイルだと
　　BGMが再生されなくなるバグを修正

●【サウンド/不具合】システム変数「Sys95:再生中BGM音量[%]」や
　「Sys100:BGM音量補正[%]」に操作を行うと
　「MIDI」のBGMが停止するバグの修正を試みました



【エディター部の修正】

●【選択肢/調整】 選択肢の文字数制限を緩和し、
　枠からはみ出す文字列でも入力可能に。最大300文字まで。


-------------------------------
　Ver3.575 の更新履歴　2025/03/27
-------------------------------

【新機能】

●【システム文字列/新機能】
　システム文字列「SysS26:キーボード入力中文字列」を追加。
　「文字列操作」の「キーボード入力」中の文字列を読み取ったり、
　キーボード入力中の文字列を変更することができます。
→ なお、このSysS26に文字列を「代入」すると
　 キーボード入力中のカーソルは「最後尾」に移動します。

●【文字列操作/新機能】「隠しコード実行」に
　「<<GET_STRING_BYTE_COUNT>>(文字列)」を搭載。
　(文字列)部分のバイト数を文字列変数に返します。
 → 数値にする場合は変数操作で Cself10 = S0(※3000000)
   などと指定すると文字列を数値に変換できます。
 → これは主に 文字列のバイト切り取り「<<CUT_STRING_?_?>>」と
 　 併用して使うことを想定して実装したものです。
 　「前回読み込んだ文字列のバイト数をあらかじめ得ておいて、
 　 追加部分だけ切り取る」といった処理が可能になります。



【ゲーム部の修正】

●【ピクチャ/不具合】「ピクチャ挙動Ver2」時、
　「文字列ピクチャ」の「基準位置」を変えて「表示」や「消去」したとき
　基準座標の変化分の補正が期待通り行われておらず、
　移動しないはずの状況で移動してしまうバグを修正
→　「基準位置」を変えても画像サイズ分を正しく補正して「表示」すれば
　　元の位置から動かず、かつ「消去」時には止まって表示されるのが
　　「ピクチャ挙動Ver2」における期待通りの挙動です。

●【文字列操作/不具合】文字列を切り取る隠しコード
　「<<CUT_STRING_～」において
　「文字性質変化/文字表示制御」の特殊文字は内部的に
　元の文字に戻してからカットするように修正
→　従来は特殊文字変換後のバイナリコードのままカットされてしまい、
　　クラッシュなどの危険性がありました。



-------------------------------
　Ver3.574 の更新履歴　2025/03/26
-------------------------------

【エディター部の修正】

●【データベースウィンドウ/不具合】「検索」機能で
　「文字列」を検索したとき、2行目以降の文章がヒットすると
　選択位置がずれてしまうバグを修正

-------------------------------
　Ver3.573 の更新履歴　2025/03/23
-------------------------------

【ゲーム部の修正】

●【場所移動/不具合】ゲーム起動時、背景があるマップから
　　開始0フレーム目で他マップに「場所移動」すると
　　クラッシュするバグを修正



【エディター部の修正】

●【ゲーム基本設定/調整】「Game.exe動作バージョン調整」で
　選択できる各バージョンに(2025-03)のような「年月」表記を追加

●【文章の表示/調整】「デバッグ文」ボタンを少し小さめに修正。
　→　私の好みですがコメントを入れようとしてうっかりデバッグ文を
　　　押してしまうことが多かったので変化を付けました。


-------------------------------
　Ver3.572 の更新履歴　2025/03/22
-------------------------------

【ゲーム部の修正】

●【DB操作/不具合】XY配列の「指定X列内の[指定Y列]に挿入する」を
　オンにしたとき、特定条件で指定した個数より1個多く
　Y列に挿入されてしまうことがあるバグを修正

●【エフェクト/不具合】「自由変形」したピクチャに
　「ピクチャリンク」すると正しくキャラに追従されないバグ修正

●【ピクチャ/不具合】「自由変形」のピクチャを
　「0フレーム」で「消去」して同じIDで通常ピクチャ表示を行ったとき、
　自由変形時のサイズが引き継がれてしまうバグを修正
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.50時点の挙動で動作」に設定すると
　　従来の挙動に戻せます。


-------------------------------
　Ver3.571 の更新履歴　2025/03/21
-------------------------------

【ゲーム部の修正】

●【文字列操作/不具合】
　隠しコードなどでファイル名に「..」(../ではない)が
　含まれるだけでエラーになってしまっていたバグを修正


●【DB操作/不具合】XY配列の「指定Y列を抜き取る」が
　　Yが0以外のときに正常に動作していなかったバグ修正


-------------------------------
　Ver3.570 の更新履歴　2025/03/21
-------------------------------

【ゲーム部の修正】

●【セーブ･ロード処理/不具合】
　文字列操作の隠しコード「<<MAKE_EVENT～>>」にて
　「/TR=」で起動条件を指定して空イベントを生成した後、
　連続してロードを繰り返すと空イベントの起動条件などの
　設定がセーブ時と変わってしまうバグを修正

●【ファイル読込系/不具合】
　一部の画像・音声のファイル指定時に、ファイル「../../」と
　指定すると上位フォルダが読み込めてしまう箇所を修正
 →　画像・音声の読込箇所で対応漏れがありました。
 　　TXT読み込み処理などは問題なさそうでした。

●【ファイル読込系/不具合】
　ファイル名に「..」(../ではない)が含まれるだけで
　文字列操作時などでのファイル入出力が
　エラーになってしまっていたバグを修正

●【文字列操作/不具合】
  「\\self[0]」(\self[0]という文字を"変換せずに"表示）のように
　代入特殊文字の先頭に「\」を1つ余分に付けた文字列を
　文字列変数に格納して「↓から特殊文字を消去して格納を」すると
　\self[0]の値が数値に変換されて表示されてしまうバグを修正
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.50時点の挙動で動作」に設定すると
　　従来の挙動に戻せます。

●【特殊文字/不具合】ルビの特殊文字\r[A,B]内の
　「A」部分内では特殊文字「\r[]」のみ変換しないよう修正



【エディター部の修正】

●【起動時引数/不具合】
　「-txtinput」「-txtoutput」（テキスト入出力）モード時、
　「-wait」を付けていなくてもキー待ちになってしまうバグを修正



-------------------------------
　Ver3.569 の更新履歴　2025/03/21
-------------------------------

【ゲーム部の修正】

●【セーブ･ロード処理/不具合】
　文字列操作の隠しコード「<<MAKE_EVENT～>>」にて
　「/TR=」で起動条件を指定して空イベントを生成した後、
　「場所移動」と「セーブデータへの書き込み」を行うと
　ロード時にその空イベントの「起動条件」が
　変わってしまうバグを修正


●【イベント起動/不具合】ループ境界ごしに
　「決定キー起動/プレイヤー接触/イベント接触」のイベントが
　起動しないことがあったバグを修正



【エディター部の修正】

●【コモンイベントウィンドウの検索/不具合】
　検索で何かにヒットするたびに「更新」ボタンが押せるように
　なってしまうバグを修正
→　ただし検索により「折りたたみ」された部分が
　　「展開」された場合は、「更新」ボタンが押せるようになります。
　（折りたたみ、展開操作はイベントが編集されたものとして扱われます）



-------------------------------
　Ver3.568 の更新履歴　2025/03/20
-------------------------------

【ゲーム部の修正】

●【マップイベントのオプション/不具合】
　ゲームをロードした際、「セーブ時のイベントページの起動条件」が
　「数値が0では成立しない」条件を含むページになっていた場合、
　「当たり判定■」「方向固定」「すり抜け」「前面表示」
　「半歩/全歩移動」「影番号」がそのページの設定で上書きされてしまい
　セーブ時の値が反映されないバグを修正
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.50時点の挙動で動作」に設定すると
　　従来の挙動に戻せます。




-------------------------------
　Ver3.567 の更新履歴　2025/03/20
-------------------------------

【ゲーム部の修正】

●【特殊文字/不具合】XY配列の「Y1列」を表示する
　　「\xyN[(文字列):(数字)]」の代入特殊文字を使うと
　　クラッシュすることがあるバグを修正

●【セーブ･ロード処理/不具合】
　文字列操作の隠しコード「<<MAKE_EVENT～>>」で、
　「/TR=」で指定した空イベントの「起動条件」が
　ロード時に変わってしまうバグを修正

●【マップEv当たり判定/不具合】
　主人公の当たり判定が「1×1」のとき、
　イベントの当たり判定が「0.5×1」で「イベント接触」の場合に
　そのイベントの「半歩上」に主人公が行くと触れてもいないのに
　イベントが起動し続けてしまうバグ修正
→　Ver3.50以前では起きていなかったバグでした



【エディター部の修正】

●【データベースウィンドウ/調整】
　データベースの「データ」欄に横スクロールバーを追加。
 　→　長いデータ名がリスト上からでは読めなかったため


-------------------------------
　Ver3.566 の更新履歴　2025/03/18
-------------------------------

【新機能】

●【ゲーム基本設定/新機能】「DB操作[代入]時の挙動」項目を追加。
　「[数値/文字]自動変換ON (標準)」と
　「[数値/文字]自動変換OFF (エラー表示)」から選択可能です。
 →　ONにすると「代入」時に数値と文字列が自動変換されます。
　　OFFにすると格納先と読込先が数値と文字列で異なる場合に
　　エラーが出て処理が中断されます。
 → 格納先と読込先の[数値/文字列]が異なる場合にエラーが出る
 　 旧処理の方が好みという方も多いようなので追加しておきました。



【ゲーム部の修正】

●【DB操作/仕様変更】「可変DB」の「データ」を「名前」で指定したとき、
　　そのタイプの「データIDの設定方法」が「最初の文字列データと同じ」に
　　してあった場合は最新の「データ名」に合わせて処理するよう修正
 →　実はDBの「データ名」の「名前」呼び出しは
　　「ゲーム起動時点のデータ名」でしか判定されないようになっていました。
　　これを「ゲーム中のデータ名の変化」に対応できるようにします。
 →　これにより、ゲーム中に「キャラ名」が変わるといった演出がある場合、
　　「キャラ名」で「データ名」指定しているとエラーが起きるように
　　なるといったケースが発生しうるのでご注意ください。
 　（たとえばデータ名「ヒーローさん」(最初の文字列)に対して
  　　DB操作していた場合、1つめの文字列「ヒーローさん」が
  　「スーパーヒーローさん」という名前に変わると、
  　　これまでと同じDB操作が受け付けられなくなります）
　　その場合は↓の手順を行って対応してください。
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.50時点の挙動で動作」に設定すると、
　　「データ名」として「起動時点のものだけ」が反映される
　　従来の挙動に戻せます。
　　（すでにゲームデータ時に「動作Verを固定化」されている方も、
　　　問題は起きません）


●【エフェクト/不具合】「ピクチャリンク」で「XYズーム連動」で
　　「表」に表示して、マップをズームすると100%のままになるバグ修正。
　→　おそらくVer3.564から発生していたバグでした。




【エディター部の修正】

●【マップ編集(プロ版)/不具合】マップレイヤーを4～5にして編集後、
　　マップレイヤーを少なくしてマップサイズ変更を行い、
　　「保存」するとクラッシュすることがあるバグを修正


-------------------------------
　Ver3.565 の更新履歴　2025/03/17
-------------------------------

【ゲーム部の修正】
●【エフェクト(プロ版)/不具合】「トランジション実行」中に
　「マップF」「全体F」効果がオフになってしまうバグを修正
 → 整合を取るため、「場所移動」時のキャラ表示タイミングも
 　調整したので問題が起きないか様子見中です。



-------------------------------
　Ver3.564 の更新履歴　2025/03/15
-------------------------------

【ゲーム部の修正】

●【F7ピクチャ一覧】ピクチャリンクされたピクチャのリンクレイヤーが
　　　　すべて「裏」表記になってしまうバグ修正



【エディター部の修正】

●【コモンイベントウィンドウ/不具合】TXT入出力でコモンイベントを
　　　読み込んだ際、コモンイベントコマンドの「入力」の「選択肢」が
　　　他コモンの分も増えてしまうことがあるバグ修正


-------------------------------
　Ver3.563 の更新履歴　2025/03/14
-------------------------------

【ゲーム部の修正】

●【文字列操作/不具合】文字列操作の隠しコード、
　「<<MAKE_EVENT～（空イベント生成）」でイベント生成した際、
　存在しない画像を指定したときのエラー行数が
　最後のコモン並列イベントになってしまっていたバグ修正



【エディター部の修正】

●【エフェクト/不具合】「ピクチャ/キャラ/マップのエフェクト」の
　　数値欄の上下ボタン/キーが一部機能しなくなるバグ修正

●【キー入力/不具合】コマンド編集時、「特定キーのみ判定」の
　　キーコード欄が表示されなくなるバグ修正


-------------------------------
　Ver3.562 の更新履歴　2025/03/13
-------------------------------

【新機能】

●【メインウィンドウ/新機能】「テスト」「絵」「文」の
　　　各作業時間がタイトルバーに表示される機能を追加。
　→ 「テスト」「絵」「文」に指定したアプリが前面になっているとき、
　　各項目に時間が加算されるようになります。
　　各項目のアプリEXE名は「Editor.ini」内の[EditTimeCount]項目内で
　　設定できます（一般的と思われるソフトはすでに入力済です）。
　例： EditTimeCount_TestPlay_Exe=Game.exe,GamePro.exe,
　 (意味:Game.exeやGamePro.exeが前面にあると[テスト]時間に加算される)
　　
　→　もしこの追加部分だけ見えないようにしたい場合は、Editor.iniの
　　[EditTimeCount]内の「EditTimeCount_View=1」を「=0」にしてください。
　　その場合は従来通り、各時間が () 側に加算されます　
　　
　→「他（EditTimeCount_Etc_EXE=）」という空き枠も用意されているので、
　　必要ならEditor.ini内でEXE名を設定してご利用ください。




【エディター部の修正】

●【データベースウィンドウ/調整】ウィンドウを閉じて次に開いたとき、
　　　　最後に選んでいた「項目」が選ばれたままになるよう修正

●【TXT入出力機能/不具合】「基本データTXT出力」や「全マップTXT出力」で
　　　「コモンイベント名」や「DBのデータ名と番号の対応付け」などが
　　　正常に取れていない部分があったバグを修正

●【エディターオプション/不具合】「全TXT→全マップのみ読込」後に
　　　エディターオプションを終了した際、マップ再読込が
　　　行われない場合があったバグを修正



-------------------------------
　Ver3.561 の更新履歴　2025/03/12
-------------------------------

【新機能】

●【Game.ini/新機能】Game.iniにて、「DebugWindow_ShowBootText」で
　　起動時のデバッグ表示（現在はフォントの有無判定のみ）の有無を
　　切り替えられるように。
→ Game.iniの「DebugWindow_ShowBootText=1」の行を
　 「DebugWindow_ShowBootText=0」にすると
　 「起動時のフォントチェック」や、将来的に搭載される
　 起動時デバッグ文が全て表示されなくなります。


●【システム文字列/新機能】「SysS22:ダウンロード中ファイル内容」追加。
　　ストリーミング的に応答が返ってくる場合や
　　データ先頭の状態を見て素早く中断の判断をしたい場合に、
　　ダウンロード途中のデータ内容をいち早く読み込むことができます。
 →　ただしダウンロードが完了すると「<<NoData>>」が返されるため、
　　 終了時点で読み込み先を切り変える必要があります。
 →　データ中に0のコードが含まれている場合、
     バイナリファイル（Zipファイル等の文字列でないファイル）
 　　と認識して「<<BinaryFile>>」が返されます。
　　（通常のTXTファイルでは0コードは含まれません）



【ゲーム部の修正】

●【Game.ini/不具合】Game.ini内の余計な改行を消去

●【変数操作+/不具合】「位置」の
　　　「通行可能（タイル・Ev両方）[○=0/×=1]」にて、
　　　「精密座標」オフで、「2で割り切れる精密位置」にいる
　　　当たり判定「0.5×1マス」のイベントを判定すると
　　　「0（通行可能）」が返されてしまうバグ修正
　　→　おそらくVer3.553から発生していたバグでした。

●【コモンイベント/不具合】マップイベントが500層以上
　　　呼び出されたときにエラーが出なかったバグを修正
　→　コモン側は500層呼び出しでエラーが出ましたが、
　　　マップイベント側のチェックが抜けており、
　　　クラッシュするようになっていました。




【エディター部の修正】

●【データベースウィンドウ/調整】見えない改行が含まれる文を
　　文字列項目に貼り付けた際、次に開き直した際に
　　改行が反映されるよう修正
　→　「文章の表示」コマンドの仕様に合わせました。

●【条件(変数)/不具合】「編集」で条件(変数)コマンドを開いた際、
　　　オープンになっていない分岐の数値欄のスピンボタンが
　　　はずれてしまっているバグ修正

●【TXT入出力/不具合】全TXT出力されたイベントコマンドのうち、
　　「DB操作」の表記上の「名前」と「番号」の対応付けが
　　うまくいっていなかったバグ修正

●【エディターオプション/調整】「全TXT→全マップのみ読込」した後、
　　マップ画面に戻ったときに
　　「全マップファイルをTXTから読み込んだため、
　　　現在のマップを再読込します」
　　というメッセージが出るよう修正

●【エディターオプション/調整】「.Auto.txt入出力」の処理が
　　並列処理として走っていたのを、終了するまで
　　ウィンドウ操作できないよう修正
　→ 処理が終了する前にエディター再起動されてしまったりして
　　 危険な挙動になっていました。



-------------------------------
　Ver3.560 の更新履歴　2025/03/11
-------------------------------

【エディター部の修正】
●【マップ一覧/不具合】マップ一覧にて、最後の番号の
　 「マップファイル名」が空ならツリーに表示しないように修正
　→ 「マップ設定画面」で何かの操作を行うとシステムDB、
　　タイプ0のデータの最後に空データが作られる場合がありますが、
　　これ自体は必要な挙動なのでツリー側で最後の空データを
　　表示しないようにして対応しました。


●【システムデータベース/調整】システムデータベース、
　　　タイプ24の「顔グラフィック名」の項目ロックを解除
　→　そもそも顔グラフィック名は基幹システムに
　　　影響しない部分でした。


-------------------------------
　Ver3.559 の更新履歴　2025/03/10
-------------------------------

【エディター部の修正】

●【エディター全体/不具合】なんらかの条件で、非表示のはずの数値入力欄の
　　「▲▼」部分だけが前面に出てきてしまう現象の抑制を試みました
→　「変数操作・条件分岐・キー入力・ピクチャ・エフェクト・サウンド・
　　　セーブロード操作・コモンイベント」コマンド、ならびに
　　「各データベースウィンドウ」内。

●【変数操作+･場所移動･動作指定ウィンドウ/調整】キャラ指定欄の
　　コモンセルフ変数に「コモンセルフ名」が表示されるように修正



-------------------------------
　Ver3.558 の更新履歴　2025/03/09
-------------------------------

【ゲーム部の修正】
●【セーブ・ロード処理/不具合】マップイベントの影番号が
　　　　保存されていなかったバグを修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.390時点の挙動で動作」に設定すると、
　　「影番号」が保存されない従来の挙動に戻せます。

●【セーブ・ロード処理/不具合】文字列操作の隠しコード、
　「<<MAKE_EVENT～（空イベント生成）」で生成した位置が
　マップ外だった場合、表示されるエラー行数が
　前回の場所移動コマンドの位置になってしまうバグ修正



-------------------------------
　Ver3.557 の更新履歴　2025/03/08
-------------------------------

【エディター部の修正】

●【文章入力欄/不具合】 特定言語で「文章の表示」などの
　　文章入力欄で「右Alt + A」を入力すると、
　　文字でなく「全選択」処理が実行されてしまうバグを修正


-------------------------------
　Ver3.556 の更新履歴　2025/03/07
-------------------------------

【ゲーム部の修正】

●【DB操作/仕様変更】「名前」または「文字列変数」で
 　「(タイプ番号/データ番号/項目番号)取得[数]」する際に、
　 対象にその文字列名がなかった場合は「-1」を返すように仕様変更
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.390時点の挙動で動作」に設定すると
　　「番号取得時、存在しない名前を指定するとエラーが出て、0が格納される」
　　という挙動に戻せます。

●【起動時/不具合】テストプレイでない通常起動でもLog.txtが
　　　　　生成されてしまっていたバグを修正

●【仮想全画面/調整】F4、F11などによる仮想全画面を解除した時の
　　　　　切り替えがスムーズに見えるよう調整



【エディター部の修正】

●【DB操作･コモンイベント/不具合】文字列入力可能な
　プルダウンメニューで「▼」ボタンを押して一覧展開中、プルダウンの
　「入力ボックス」上でホイール操作するとスクロールが戻る現象を修正

●【コモンイベントウィンドウ/不具合】Ctrl+Shift+F6/F7で
　　コモンイベントを挿入・抜き取りした際、
　　同時に「一つ元に戻す」の履歴を消去するよう修正
→　Ctrl+Shift+F6/F7したあとに「一つ元に戻す」をすると、ずれたところに
　　内容が復元され上書きされてしまうため、その予防です。

●【ゲームデータ作成/調整】ゲームデータ作成時の処理をより安定化

●【検索ウィンドウ/不具合】「置換」を行った際、置換した行より上に
　　　「折りたたみ」された行があると置換後の注目位置がずれるバグを修正
　→　「折りたたみ」を加味しない行数を選択しようとしており、
　　　状況によってクラッシュが発生していました。


-------------------------------
　Ver3.555 の更新履歴　2025/03/06
-------------------------------

【新機能】

●【システム変数/新機能】「Sys140:ｳｨﾝﾄﾞｳ拡縮ﾓｰﾄﾞ[くっきり=0/なめらか=1]」を追加。
　　従来はウィンドウを拡大縮小した時の「くっきり」か「なめらか」状態は
　　「ゲーム基本設定」内の「ピクチャ拡大縮小時の描画方法」に依存していましたが、
　　このシステム変数を変えることで自由に切り替え可能になります
　→　なお、デフォルト値として「ピクチャ拡大縮小時の描画方法」の設定が
　　　使用されるので、従来作品に影響を与えることはありません。

●【変数操作+/新機能】「その他」に以下の2つを追加
　- [処理時間]前ﾌﾚｰﾑのEv処理時間[x0.1ms]
　- [処理時間]前ﾌﾚｰﾑの描画処理時間[x0.1ms]
 → タイトルバーに表示されている「処理時間」の元値を取得可能です。
 　（タイトルバーの値は複数フレームの値を平均しており、
 　　人間の目に見える頻度で更新しています）



【ゲーム部の修正】

●【プログラム/調整】またMicrosoft DefenderにGame.exeが削除されたので
　　　　　　　再調整してみました。

●【仮想全画面･セーブロード処理/不具合】仮想全画面にして「ロード」すると
　　　　画面が100%サイズになってしまうバグを修正

●【エフェクト/不具合】ソフトウェアモードで実行時、「<CUT/～」で指定した
　　　ピクチャに対して「変換」系のエフェクトを行うと
　　　ピクチャの表示サイズが変わってしまうバグを修正



【エディター部の修正】

●【検索ウィンドウ/不具合】検索の数値欄の上下ボタンだけが
　　　「文字列」状態でも出てくることがあるのを抑制するよう修正



-------------------------------
　Ver3.554 の更新履歴　2025/03/05
-------------------------------

【ゲーム部の修正】

●【セーブ・ロード処理/不具合】Ver3.553のみ、「セーブデータに書き込み」で
　　　作ったセーブデータに対し、次回起動時に「セーブデータの内容読込」で
　　　アクセスするとクラッシュするバグが発生していたのを修正


【エディター部の修正】

●【コモンイベント・入力内容の設定/不具合】データ名を
　　「データベース参照」にして「システムDB」のタイプ「名」で指定したとき、
　　「コモンイベント」コマンド欄でそのプルダウンメニューが真っ白になって
　　何も選べなくなることがあったバグ修正

●【検索ウィンドウ/不具合】数値欄が見えてないタイミングで
　　　　数値欄の上下ボタンだけが表に出てくることがあるバグ修正


-------------------------------
　Ver3.553 の更新履歴　2025/03/05
-------------------------------

【ゲーム部の修正】

●【プログラム/対応】Microsoft Defenderにマルウェア扱いされる問題への
　　　　　　　　　対応を試みました。
　　→　最適化を1段階下げざるを得なかったので、この影響で
 　　　1～2割の処理速度低下が発生している可能性があります、ご容赦ください。

●【変数操作+/不具合】「通行可能（タイル・Ev両方）」を「精密座標」で
　　「0.5×1当たり判定」のイベントに対して使うと
　　「足下」でなく「頭側」にしか当たり判定がなかったバグ修正
　→　長年この状態だったようです。「ゲーム基本設定」の
　　　「Game.exe動作バージョン調整」で「旧Ver3.390時点の挙動で動作」に
　　　設定すると以前の挙動に戻せます。

●【DB操作/不具合】ロードしたデータに「DB操作」の「データ抜き取り↑」を
　　　おこなうとクラッシュすることがあったバグを修正

●【システム変数/不具合】「Sys150:特殊文字変換を無効化[1=ON]」を
　　　1にした状態で「代入特殊文字」を文字列変数に格納し、0に戻してから
　　　「文字列操作」でS1=S0（文字列変数に文字列変数を直接代入）などすると
　　　S0側が変換されないまま格納されるバグを修正
　→　他にもSys150を1から0に戻して操作しても変換されない手順があるかも
　　　しれませんので、見つけられた方は情報をいただけると助かります。

●【仮想フルスクリーン/不具合】「ゲーム基本設定」で
　　「ピクチャ拡縮時の描画方法」を「くっきり＆ガタガタ」にしていても
　　 F11などで仮想フルスクリーンにすると
　　「なめらか＆ぼんやり」拡大になってしまうバグ修正


●【仮想フルスクリーン/不具合】仮想フルスクリーン状態で
　　F12リセットを行うとその後の画面が全画面にならないバグを修正


-------------------------------
　Ver3.552 の更新履歴　2025/03/05
-------------------------------

【エディター部の修正】

●【ゲーム暗号化(プロ版のみ)/不具合】プロテクトキー使用暗号時の
　「Ver1.2」でゲームデータを暗号化した際、
 　一定確率でゲームが起動しない暗号化ファイルが生成されてしまうバグを再修正
　→　原因が不明な問題が起きているので、
　　　しばらく修正に苦戦するかもしれません。


-------------------------------
　Ver3.551 の更新履歴　2025/03/04
-------------------------------

【ゲーム部の修正】

●【特殊文字/調整】ルビの特殊文字\r[A,B]にて、
　　　「B」部分に記述した特殊文字が文字化けしていたのを、
　　　「特殊文字が変換されずに文字としてそのまま表示される」
　　　 ように修正

●【ゲーム暗号化(プロ版のみ)/不具合】「プロテクトキー使用暗号化Ver1.2」で
　　　ゲームデータ作成した際、正常にゲームが動作しなくなるバグを修正




【エディター部の修正】

●【ゲーム暗号化(プロ版のみ)/不具合】プロテクトキー使用暗号時の
　「Ver1.1」または「Ver1.2」でゲームデータを暗号化した際、
 　低確率でゲームが起動しない暗号化ファイルが生成されてしまうバグを修正
→　ゲーム自体に不明な問題が起きる可能性がありますので、
　　もし可能ならゲームデータを作り直してみてください。


●【プロテクトキー(プロ版のみ)/不具合】ファイルのプロテクト有無が
　　　異なるファイルが混ざっている場合、プロテクトキーの再設定で
　　　コモンイベントファイルが空になることがあるバグを修正
　→　もし空になってしまった場合は「BasicData」フォルダ内の
　　　「AutoBackup1～3」フォルダの中から「CommonEvent.dat」をコピーして
　　　「BasicData」内の「CommonEvent.dat」に貼り付けしてください。


●【マニュアル開く系ボタン/調整】エディター内、マニュアルを開くボタンの
　「確認メッセージウィンドウ」を「はい・いいえ」（×ボタンを押せない）から
　「OK・キャンセル」+「×ボタンを押せる」（Escで消せる）に変更。

●【イベントウィンドウ/不具合】イベントコード貼り付けを行った直後の
　　　行数が更新されていないバグ修正

●【コモンイベントウィンドウ/不具合】イベントコマンドを多数選択した状態で
　　　右クリックすると一瞬リストがブレる現象を修正



-------------------------------
　Ver3.550 の更新履歴　2025/03/04
-------------------------------

【ゲーム部の修正】

●【文字列操作/仕様変更】隠しコードの「<<DELETE_EVENT_ID>>」と
　　「<<SET_EVENT_NAME_ID=?>>」に成功したとき、
　　「<<OK>>」でなく「1 <<OK>>」を返すように修正
　→　成功時は数値変換時に「1」を得られるようにする原則に反していました。
　→　なお、失敗時は数値変換したときに「0」または
　　　「-1」が返されるのが標準動作です。
　　(たとえば<<Error>>文字列を数値変数に入れると「0」扱いになります)


●【文字列操作/仕様変更】隠しコードの「<<LOAD_IMAGE_TO_XY～」や
　　　「<<SAVE_PNG_FROM_XY」で「0 <<Error>>」を返していた部分を
　　　「<<Error>>」に統一、かつ、それらの一部エラーで「<>」が
　　　1重になっていたところを「<<>>」に修正
　→　他と違う表記になっていたため統一しました。



【エディター部の修正】

●【システムデータベース/調整】タイプ0「マップ設定」の
　　　項目5「BGMﾌｧｲﾙ名」、項目6「BGSﾌｧｲﾙ名」、項目7「遠景ﾌｧｲﾙ名」に
　　　「File」ボタンを表示するように修正
　→　これだけファイル指定なのに[File]ボタンが出ていなかったので
　　　追加しておきました。項目はロックされていますが、この修正によって
　　　[File]ボタンの「初期フォルダ」の変更は可能になっています。

●【システムデータベース/調整】ロックされている項目があるタイプを選択中、
　　「読み込み」ボタンに「読み込み *[データ]のみ可」と表記するように
　→　項目がロックされていると「タイプ設定」の読み込みはできませんが、
　　「データ[複数]」で保存されたものならば読み込み可能です。


-------------------------------
　Ver3.549 の更新履歴　2025/03/03
-------------------------------

【ゲーム部の修正】

●【ピクチャ/不具合】「分割」されており、かつ「<CUT/～」指定で部分切り抜きした
　　ピクチャに対してピクチャエフェクトの「変換」系の処理を行うと、
　　パターン分割画像でなくなってしまうバグを修正
　　（2以上のパターン数を指定できなくなる）

●【画像読込/不具合】存在しないキャラチップやタイル、
　　　　　メッセージ中の\i/\img画像を指定したとき、エラー後に
　　　　　「違う画像が表示されてしまう」のをなるべく抑制するよう修正

●【特殊文字/不具合】\img(S)の画像表示特殊文字が"]"で終わってなかった際、
　　　　　エラーが出るように修正

●【文字列操作/不具合】「隠しコード」の先頭に「<<」がない場合、
　　　　エラーは出ますが返り値に何も格納されていなかったので、
　　　　返り値に「<<Error>> Missing "<<"」が格納されるよう修正。
　　　　文字列中に「>>」(終端文字)が存在しない場合も文字列変数に
　　　　必ず「<<Error>> Missing ">>"」が返されるように修正。



【エディター部の修正】

●【エディターの時間/不具合】エディターの使用時間・無操作時間が
　　　　　　30倍速で増加していたバグ修正
　　　→　おそらくVer3.544から起きていたバグでした。



-------------------------------
　Ver3.548 の更新履歴　2025/03/02
-------------------------------

【ゲーム部の修正】

●【エフェクト/調整】「(重ね)キャラチップ変更」処理を最適化。
　　　「完全に同名ファイルが指定されたときは何もしない」、
　　　「最小限のキャラチップレイヤーだけ更新する」、
　　　など、不必要な処理を行わないように修正してみました。
　→　裏技の1レイヤーごとのエフェクトと組み合わせたキャラチップ変更処理が
　　　非常に重くなることが分かったのでその対策です。
　→　画像更新タイミングを最小限にしたため想定外のバグが
　　　出ている可能性もあるので、もし
　　　「従来と比べて画像が更新されない」「表示されない」
　　　などございましたらご報告ください。


●【DB操作/不具合】「新データ挿入↑」「データ抜き取り↑」を行ったとき、
　　　　　「データ名」だけが内部的に増減していなかったバグを修正
　→　データの最後尾でNoDataが返されてしまう、あるいは
　　　クラッシュするなどの現象が起きうる問題がありました。

●【サウンド/不具合】マップのBGM・BGS設定が「-2：イベントに任せる」の
    　マップに侵入した時、フェードイン中のBGM・BGSの音量が
    　一瞬で変わってしまうバグを修正

●【遠景・フォグ/仕様変更】遠景やフォグ画像が1画面サイズ以下だと
　　　エラーが出ていたのを、出てこないように修正
　→　マップズーム機能などがまだなかった頃に入れたエラーだったと思うので
　　　実状と合わなくなっていました

●【文字列操作/仕様変更】画像をXY配列に読み込む隠しコード
　　「<<LOAD_IMAGE_TO_XY(N)/A=?/R=?/G=?/B=?>>(ファイル名)」にて、
　　配列サイズが画像の読み込み順によっては
　　正しく調整されないことがあったバグを修正




【エディター部の修正】

●【DB操作・コモンイベント/調整】文字入力可能なプルダウンメニューへの
　　マウスホイール処理が期待通り動作しやすくなるよう再調整を試みました

●【テストプレイ/不具合】すでにテストプレイ起動中のときに
　　　「マップイベントウィンドウ」のテストプレイボタンを押すと
　　　「コモンイベントウィンドウ」が前面に出てきてしまうバグ修正

●【マップイベントウィンドウ/不具合】テストプレイすると
　　　　マップのイベント画像が表示されなくなるバグ修正



-------------------------------
　Ver3.547 の更新履歴　2025/03/02
-------------------------------

【ゲーム部の修正】
●【選択肢/不具合】\s[?]などの代入特殊文字で「文字列が空」の項目を
　　一番下に入れたとき、選択肢のウィンドウの高さが増えてしまう現象を修正


●【イベント起動/不具合】主人公の移動幅を「1.0マス（全歩）」にしていると
   「プレイヤーから接触」かつ「すり抜け」のイベントに乗ったときに
   2回起動してしまうバグを修正
 →　これはVer3.5から起きるようになった現象でした。



【エディター部の修正】

●【ファイル出力/不具合】コモンイベント内の「複数保存(TXT)」で出力された
　　　TXT内で、「コモンイベント」コマンドの「挿入」や「予約」の
　　　「このコモンからXつ上下のコモンEv」のコモン番号が
　　　正しく表記されないときがあるバグを修正

●【動作指定/不具合】「動作指定」画面の「マップ表示」にて
　　　マップ読み込み不能エラーが出にくくなるよう修正を試みました

●【文字入力可能プルダウンメニュー/調整】
　　「DB操作」コマンド欄と、「コモンイベント」コマンド欄の
　　文字入力可能プルダウンメニューでマウスホイール操作をしたとき、
　　従来は(他にフォーカス合わせた後だと)毎回ゼロ位置に戻ってしまっていたのを、
　　なるべく「同じ名前がある位置」を基準に上下操作できるよう修正

●【各コマンド入力欄/不具合】数値指定欄に数値入力時、
　　「コモンセルフ変数名」がキャプションが表示されないバグを修正
 →　文字列操作・条件（変数）・キー入力・セーブロード操作・
　　 パーティ画像・チップ処理・場所移動について修正してみました。



【サンプルゲーム内の修正】

●コモンイベント内に「デバッグ文全消去テスト」という
　並列実行コモンが入ったままになっていたのを消去



-------------------------------
　Ver3.546 の更新履歴　2025/02/28
-------------------------------

【ゲーム部の修正】

●【デバッグ文/不具合】デバッグ文の文字数が増えると
　「デバッグ文の全消去」で全て消えないことがあるバグを修正

●【起動時/不具合】「仮想フルスクリーン」で起動した際、
　　　画面の位置がおかしくなることがあるバグを修正



【エディター部の修正】

●【データベースウィンドウ/調整】「数値」の項目でEnterを押したとき、
　　　　　　　　　改行されないように修正


-------------------------------
　Ver3.545 の更新履歴　2025/02/26
-------------------------------

【ゲーム部の修正】

●【仮想フルスクリーン/不具合】これまでF4やF11での画面最大化で
　　　画面サイズが縦横数pxずつ小さく表示される問題があったので、
　　　抜本的に仮想フルスクリーン処理を作り直しました。

●【全画面化/不具合】「Sys138:画面ﾓｰﾄﾞ[ｳｨﾝﾄﾞｳ:0/仮想全:1/全:2]」やF4/F11で
　　ゲーム中に「仮想フルスクリーン」にして終了し、
　　次回ゲーム起動すると「ウィンドウモード」になってしまうバグ、
　　ならびに、Sys138=2で「(解像度切替)全画面化」をして終了して
　　次回起動すると「仮想フルスクリーン」で起動するバグを修正



【エディター部の修正】

●【テキスト出力/調整】マップ・コモン・各DB・タイルセット出力時の
　　　　　UTF-8のBOMを削除。
　→　技術的に最近流行りじゃないらしいので切っておきました。


-------------------------------
　Ver3.544 の更新履歴　2025/02/25
-------------------------------

【新機能】
●【変数操作+/新機能】「その他」の取得項目に以下を追加
　- [ﾏｯﾌﾟ]マップズーム拡大率[%]
　- [ﾏｯﾌﾟ]マップズーム中心X
　- [ﾏｯﾌﾟ]マップズーム中心Y



【ゲーム部の修正】

●【エフェクト/不具合】「ピクチャリンク」された「ピクチャ」に
　　　「描画座標シフト2[角/拡大前]」を行った際、
　　　ピクチャリンクによる拡大率の変化が反映されていなかったバグを修正



【エディター部の修正】

●【マップイベントウィンドウ/不具合】マップイベントウィンドウを
　　　　　一定サイズ以上にして終了したとき、次回起動時のサイズが
　　　　　縮んでしまうことがあったバグを修正



-------------------------------
　Ver3.543 の更新履歴　2025/02/24
-------------------------------

【ゲーム部の修正】
●【エフェクト/不具合】Ver3.542でのピクチャリンクの「キャラの表」に
　　リンクしたピクチャの表示順がイベントの優先度と逆になってたバグが
　　直ってなかった問題を修正


-------------------------------
　Ver3.542 の更新履歴　2025/02/24
-------------------------------

【ゲーム部の修正】

●【システム変数/調整】Sys136～Sys137「(精密)ウィンドウ拡大率[%]」で
　　　　指定したサイズがディスプレイサイズに制限されないように修正

●【エフェクト/不具合】ピクチャリンクの「キャラの表」にリンクしたピクチャの
　　　　　表示順がイベントの優先度と逆になってたバグを修正
　　　→　前面表示にしてる方が裏側に来る、などの現象が起きていました。



-------------------------------
　Ver3.541 の更新履歴　2025/02/23
-------------------------------

【ゲーム部の修正】

●【ピクチャ/不具合】<SCREENSHOT><MAP_SCREENSHOT>のピクチャを
　　複数「表示」したときに過剰にスプライトが作られてしまうバグ修正


●【マップの遠景・フォグ/不具合】「場所移動」したとき、マップサイズや
　　　移動先の場所によっては移動直後の1フレームだけ
　　　正常に「遠景」や「フォグ」が表示されてないことがあったバグ修正


-------------------------------
　Ver3.540 の更新履歴　2025/02/22
-------------------------------

【ゲーム部の修正】

●【起動時引数/調整】起動データフォルダ指定「-f "(フォルダ名)"」や
　　基本データ指定「-basic "(フォルダ名)"」「-basic2 "(フォルダ名)"」において
　　末尾に余計な「/」や「\」が含まれていた場合は自動で消すよう修正
　→　「-f "Data/"」などと指定されたとき、正常起動はするものの
　　　個別暗号化ファイルが読めなくなる問題などが発生するためです。

●【キー入力/不具合】「キー入力受け付け」で方向キーの
　　　「8方向　上のみ 下のみ 左のみ 右のみ」の場合に、
　　　「離した時のみ取得」が反応していなかったバグ修正



【エディター部の修正】

●【テストプレイ/不具合】テストプレイ時に内部的にGame.exeに与えている
　　　　起動データフォルダ名に末尾に余計な「/」が入っていたバグ修正
　　→　これによりテストプレイ時だけ個別暗号化ファイルが
　　　　読み込めなくなっていた問題が発生していました。

●【マップ設定を変更ウィンドウ/不具合】
　「変更する」チェックを入れないとBGMやBGSなどの情報が
　 更新されなくなっていたバグ修正

●【テキスト出力/調整】マップ・コモン・各DB・タイルセットで
　　　出力可能なテキストファイルに、UTF-8の「BOM」を付けるよう修正
　→　コモンのTXTファイルなどをサイトにアップしても
　　　UTF-8文字コードと認識されなくて不便だったためです。



-------------------------------
　Ver3.539 の更新履歴　2025/02/21
-------------------------------

【ゲーム部の修正】

●【サウンド/不具合】特定条件で「BGS」をフレーム「0」で「停止」すると
　　内部的に消えたことにならないことがあるバグ修正
　（停止後に同じBGSを再生しようとしても再生できないことがありました）



【エディター部の修正】

●【全てのTXT読込/不具合】DBやイベントウィンドウでTXTファイルを読み込んだ際、
　　　　　　クラッシュする可能性があったバグを修正

●【マップ・コモンイベントウィンドウ】コマンド選択カーソルの色を
　　　　Ver3.537以前の色に修正

●【文章選択肢・条件分岐・ループ系/仕様変更】
　コマンド入力後のカーソル位置を1つめの選択肢内部にするよう修正
 →　慣れてる人はしばらく慣れないかもしれませんが、入力後に
 　カーソル移動不要で入力作業を続けられるようになるので効率的です。

●【DB操作/不具合】下部キャプションにコモンセルフ変数名が
　　　　　　表示されなくなっていたバグを修正

●【DB操作/不具合】「モード」を切り替えると
　　下部キャプションの値が-1になる現象を修正


-------------------------------
　Ver3.538 の更新履歴　2025/02/20
-------------------------------

【ゲーム部の修正】

●【セーブ・ロード操作/不具合】「文章の表示」を行ったまま「ロード」すると
　　　　クラッシュする可能性があったバグを修正

●【キー入力/不具合】「キー入力受け付け」の「押し続けフレームを得る」にて、
　　　「上のみ、左のみ、右のみ、下のみ」キーだけ常に「0」を返していたバグ修正

●【キー入力/仕様変更】「キー入力受け付け」の「押し続けフレームを得る」は
　　　「新たに押されたフレーム中」に1を返すように統一
　→　キーボード、パッドは新押しされたフレーム中に「押し続けフレーム」が
　　　1になっていましたが、それ以外が1フレーム遅れの値になっていました。

●【F11/不具合】ボーダーレス全画面化したとき、端が全て映ってないことがある
　　　　　　　問題への調整を試みました
　→　環境によっては直ってないかもしれませんがこれ以上の対応は難しそうです。



【エディター部の修正】

●【マップ編集(プロ版)/不具合】「ゲーム基本設定Pro」で「OK」された際、
　　「一つ戻す」の履歴をリセットするよう修正
　→　「マップの最大レイヤー数」変更後に「一つ戻す」を含む操作を
　　　行うとクラッシュする問題への対策です。

●【エフェクト/不具合】「ピクチャ」のエフェクトの「ディレイ」欄が
　　　　　他のモードでも入力可能になってしまっていたバグ修正

●【セーブ・ロード操作/不具合】右下の「数値を手動入力」が
　　　　　常に有効になっていた問題を修正

●【変数操作・選択肢/調整】デザインを微調整

●【マップ・コモン・データベースウィンドウ/調整】
　「タブ」のサイズがウィンドウサイズ補正に応じて変わるように修正

●【テストプレイ/調整】すでにゲームが起動している場合の
　　　　　最前面化の処理に調整を加えました

●【マップ・コモンイベントウィンドウ/調整】
　コマンド選択中のカーソルが分かりやすくなるよう修正
　（まとめて選択した場合でもクリックを離した位置のみ
　　選択カーソルが出るように）


-------------------------------
　Ver3.537 の更新履歴　2025/02/19
-------------------------------

【エディター部の修正】

●【変数操作/不具合】「右辺」表記が埋もれることがあったのを修正

●【マップ・コモンイベントウィンドウ/調整】いくつかのコマンドの色を調整

●【テストプレイ/調整】Game.exeのプロセスが残っていてもGame.exeからの応答が
　　　 　　返ってこない場合、新たなGame.exeを立ち上げる処理を追加

●【システムデータベースウィンドウ/不具合】
　システムDBでロックされている項目やデータがあっても
　編集可能な操作が残っていたので、それらもロック対象に追加。
 →　追加で、タイプの貼り付け・削除・タイプ設定の読み込み、
 　　システム変数や文字列へのデータ操作などがロックされます。
　（「通常変数名」等、自由に編集してもシステム動作に影響のない
 　 「タイプ」だけは、これらの操作が可能です）


-------------------------------
　Ver3.536 の更新履歴　2025/02/17
-------------------------------

【エディター部の修正】

●【テストプレイ/不具合】Editor起動時の引数起動で「-f [フォルダ名]」と指定して
　　　ゲームデータフォルダを変更しているにも関わらず、
　　　テストプレイ時のデータフォルダが
　　　「Data」フォルダ固定のままになってしまっていたバグ修正
　　→　Ver3.50のテストプレイの仕様変更時に搭載漏れがありました。

●【文字列入力欄/調整】右クリックメニューに「削除」を追加

●【マップ・コモンイベントウィンドウ/調整】コマンド色を調整

●【データベース/不具合】DBのデータ名を「最初の文字列」にしたとき、
　　　データ名入力欄がグレーアウトしなくなっていたバグ修正
　　　→　Ver3.534のシステムDB制限の副作用で発生していたバグでした。
　　　
●【DBタイプの設定/修正】「項目の挿入・削除・コピー」の項目数値欄の
　　　　　　　　　初期値を1から0に変更



-------------------------------
　Ver3.535 の更新履歴　2025/02/16
-------------------------------

【ゲーム部の修正】

●【バージョン/不具合】Ver3.534に入ってたGame.exeが
　　　　　Ver3.533のものだったミスを修正



【エディター部の修正】

●【システムデータベースウィンドウ/調整】
　システムDB内で、変更してはいけない部分をロックするよう修正。
　→　うっかり変更するとゲームが動作しかねなくなる項目に対する、
　　　数値と文字列の切替や、項目の挿入・削除、あるいは、
　　　タイプやデータへのCtrl+Shift+F6/F7の挿入/削除などができなくなります。
　　　今さらながら初心者の方向けの安全対策です。


-------------------------------
　Ver3.534 の更新履歴　2025/02/16
-------------------------------

【ゲーム部の修正】

●【変数操作+/新機能】
　「位置」の取得内容に「タイル通行可能方向[1上+2左+4右+8下]」を追加。
　代わりに「キャラ通行可能方向[1上+2左+4右+8下]」を「キャラ」内に移動しました（後述）

●【変数操作+/調整】
　「キャラ通行可能方向[1上+2左+4右+8下]」の項目を「位置」から「キャラ」に移動し、
　「移動可能方向[1上+2左+4右+8下+16左上+32右上+64左下+128右下]」に強化。
　→　当初から「タイル通行可能方向」を実装するつもりが間違えて「位置」内に
　　　「キャラ通行可能方向」を実装していたことに気付いたので修正しました。
　　　コマンドが「位置」にあると、（キャラを指定していないので）キャラの
　　　当たり判定や全歩半歩モードが不明で、正確な通行可能方向取得が困難でした。

●【キャラ画像/不具合】Ver3.533にてT.png、TX.pngのキャラチップの
　　　　　歩行アニメーションがおかしくなっていたバグを修正



【エディター部の修正】

●【起動時/不具合】マップのファイル名が空だった場合、
　　　　マップ0番以降で最初にファイル名があるマップを
　　　　初期状態で読み込む機能が動作してなかったのを修正

●【メインウィンドウ/不具合】マップが読み込めなかった場合の画面で上書き保存をすると
　　　マップ0番のデータを空データで上書きしてしまうバグ修正
　→　さらに、そもそも保存不能な状態では「上書き保存」ボタンが
　　　アクティブにならないようにしておきました

●【メインウィンドウ/調整】Shiftを押しながら「テストプレイ開始」ボタンを押すと
　　　強制的に別プロセスで起動できる機能を追加。
　　　テストプレイボタンが動作しなくなった場合にご利用ください。
　（「テストプレイ開始」アイコンにカーソルを合わせるとShiftキーの説明が出ます）

●【メインウィンドウ/調整】アイコンバーの「マップ設定の変更」と「上書き保存」の間に
　　隙間を追加（マップ設定の変更を押す際に上書き保存を押してしまいにくいように）
　　「タイルセット設定」ボタンを「一つ戻す」アイコンの右側に独立。

●【メインウィンドウ/調整】アイコンにカーソルを合わせたときの説明を追加。
　　上書き保存は「Ctrl+S」、「レイヤーはキーボード番号キーで変更可能」など。


●【マップ編集/調整】イベントレイヤー時の右クリックメニューの1層目から
　　【「このマップの設定」を開く】をすぐ実行できるよう修正。
　　「新規マップ作成」と「マップ選択ウィンドウを開く」は
　　「その他のマップメニュー」に入っています。

●【マップ編集/調整】イベントレイヤー時の右クリックメニューの
　　「マップチップを手動更新」を「マップチップの画像再読込」に変更して
　　区切り位置を変更しました。

●【システムデータベースウィンドウ/調整】システムDBの場合だけ、
　　「タイプ数の変更」や一部の名前変更を無効にしました（変更しても元に戻るため）。
　　その他、タイトルバーに「設定を誤ると危険」といった警告文も追加しました。


-------------------------------
　Ver3.533 の更新履歴　2025/02/15
-------------------------------

【ゲーム部の修正】

●【DB操作/不具合】「XY配列」の「新データ挿入↑」で
　　　「指定X列内の[指定Y列]に挿入する」をオンにした際、
　　　「Y列」指定が内部的にX列と同じになってしまっていたバグや
　　　限界サイズが増えなかったバグを修正

●【DB操作/調整】「XY配列」の「データ挿入」でまだ作られてない位置に
　　　　「新データ挿入↑」した際はそこまで自動で配列が拡張されるよう修正

●【変数操作+/不具合】「ゲーム基本設定」で「4方向画像」時、
　　「画像なし」のイベントの「キャラ」の「ピクチャパターン」を取得すると
　　8方向前提のピクチャパターンが取得されてしまうバグ修正



【エディター部の修正】

●【メインウィンドウ/調整】アイコンバーの並びを再修正。
　　→　「上書き保存」の場所がウディタ開発者にも使いにくかったので
　　    「新規マップ・マップ設定変更・上書き保存　マップ選択　レイヤー1……」
　　　　の順に変更しました。

●【メインウィンドウ/調整】左上のボタンから新規マップを作成した際、自動で
　　　「マップ選択」ウィンドウが「データ更新」されるように修正

●【マップイベントウィンドウ/不具合】「ページ削除」をしてもセーブ可能に
　　　　　　　ならなかったバグ修正

●【ファイル選択ウィンドウ/不具合】タイルセット上でのスクロールによって
　　　　　　　　変なカーソル表示が下部に出てくることがあったバグ修正

●【マップ・コモンイベントウィンドウの検索/不具合】
　「【マップ/コモンイベント名】のみ検索」を行ったとき、一致する語句がないと
　フリーズしてしまう不具合を修正


-------------------------------
　Ver3.532 の更新履歴　2025/02/14
-------------------------------

【ゲーム部の修正】

●【DB操作】「XY配列」にて、指定X列内に「指定Y列にn個の項目を挿入する」コマンドが
　　　　実行されたとき、指定されたX列が1以上の時にまれにクラッシュするバグ修正



【エディター部の修正】

●【メインウィンドウ/調整】「保存」アイコンを右の方に移動。
　　　マップ関連の「新しいマップを作成・マップ設定・マップ一覧表示」を
　　　1セットにして左側に寄せました。
　→　保存を押す際、間違って押すと面倒になるボタンを左に寄せてみました。
　　（保存ボタンとレイヤー1ボタンは以前から隣接していたので特に問題ないと思います）

●【メインウィンドウ/不具合】レイヤー3ボタンの説明が「レイヤー4」になってたミス修正

●【メインウィンドウ/不具合】「一つ戻す」ボタンの説明が表示されてなかったのを修正

●【メインウィンドウ/不具合】マップを切り替えながらマップ編集している際、
　　　「１つ戻る」ボタンで前に開いていたマップ内容が
　　　今のマップに呼び出されてしまうバグ修正
　→　マップを切り替えた時点で「一つ戻る」の履歴が消えるようにしました。

●【マップ新規作成/マップ基本設定画面/調整】画面構成を修正。
　　・ループ設定やBGM・遠景等は「登録する」チェックを入れなくても変更可能に。
　　・新規作成時とマップ設定変更時で挙動を変更するように。

●【マップイベントウィンドウ/不具合】条件内の「変数」のプルダウンメニューを
　　　　　　切り替えてもセーブ可能にならないバグ修正

●【マップイベントウィンドウ/調整】横幅をさらに縮められるよう修正

●【マップイベントウィンドウ/調整】起動条件のプルダウンメニューの上に
　　　　　　「起動条件」の枠線が出てしまう症状をなるべく抑制

●【コモンイベントウィンドウ/バグ】システムDBから「通常変数」などのデータ数を
　　　増減させたとき、コモンイベントウィンドウを開き直すと「条件」の
　　　変数プルダウンメニューの値（の見た目だけ）が勝手に変わってしまうバグ修正

●【マップ・コモンイベントウィンドウ/調整】ウィンドウを縮めすぎたときに
　　　　ガガガガッと動作していたのを、自然な形でサイズ制限されるよう修正

●【検索ウィンドウ/不具合】検索で「【マップ/コモンイベント名】のみ検索」を
　　行ったとき、Shiftを押しながらの逆順検索が機能してなかったバグ修正



-------------------------------
　Ver3.531 の更新履歴　2025/02/12
-------------------------------

【ゲーム部の修正】

●【セーブ・ロード処理/不具合】文字列操作の隠しコード、
　「<<MAKE_EVENT～（空イベント生成）」で生成したイベントがある状態で
　　セーブしたファイルから変数読み込みすると今のイベントがおかしくなるバグ修正


-------------------------------
　Ver3.530 の更新履歴　2025/02/12
-------------------------------

【ゲーム部の修正】

●【文字列操作/不具合】「<<MAKE_EVENT～（空イベント生成）」で
　　　　SHADEの値が-1以下または256以上ならエラーが出るよう修正
　　　　（影の値は最大255までです）

●【文字列操作/不具合】「<<MAKE_EVENT～（空イベント生成）」で
　　　　生成したイベントのセーブ・ロード後、正常にセーブ時の情報が
　　　　読み込まれていなかったり、
　　　　「<<DELETE_EVENT_ID>>（空イベント削除）」すると
　　　　クラッシュするなどのバグ修正
　→　新しいGame.exeでセーブし直さないとこの問題は解消されないので
　　　ご注意ください。

●【文字列操作/不具合】「<<DELETE_EVENT_ID>>（空イベント削除）」で
　　「元からマップ上にあったイベント」まで削除できてしまうバグ修正



【エディター部の修正】

●【マップ選択/調整】マップ切り替えを高速化、かつ
　　マップ移動時に以前のようにマップイベントウィンドウを閉じるように。
　　（マップ切り替え時の移行が安定しなかったため）
　　また、マップ切り替え時に白い画面に一時切り替わってしまう現象を修正。


-------------------------------
　Ver3.529 の更新履歴　2025/02/10
-------------------------------

【ゲーム部の修正】

●【システム変数/新機能】システム変数に以下を追加。
　　　Sys155「[読]ｷｬﾗｸﾀｰ移動可能方向[4/8] ※ｹﾞｰﾑ基本設定」
　　　Sys156「[読]ｷｬﾗｸﾀｰ移動幅[0=0.5/1=1ﾏｽ] ※ｹﾞｰﾑ基本設定」
　　　Sys157「[読]横方向の字詰めピクセル[px] ※ｹﾞｰﾑ基本設定」
　　　Sys158「[読]改行の間隔[px] ※ｹﾞｰﾑ基本設定」
　　　Sys159「[読]選択肢の改行間隔 ※ｹﾞｰﾑ基本設定」
　　それぞれ「ゲーム基本設定」で設定された値を取得できます。



【エディター部の修正】

●【エディターオプション/新機能】ウィンドウ倍率に「アイコン」を追加。
　　　　　メインウィンドウ上部のアイコンのサイズを
　　　　　「自動サイズ」「100%固定」「150%固定」「200%固定」に切りかえできます。

●【エフェクト/調整】「キャラ」のエフェクトの「ピクチャリンク」の連動選択肢の中の、
　　　　　　　「XY拡大連動」を「XYｽﾞｰﾑ連動」に名称変更しました。
　　　　　　　（マップズームとの関連性が伝わりにくかったため）

●【マップ・コモンイベントウィンドウ/不具合】回数付きループ「0回」を
　　　コマンド挿入ウィンドウから入れると再クリックするまで
　　　その下のコマンドが緑色になるバグ修正



-------------------------------
　Ver3.528 の更新履歴　2025/02/09
-------------------------------

【ゲーム部の修正】

●【自動移動・隠しコードの経路探索/不具合】Ver3.527にて、
　　　　「自動移動」または「経路探索<<FIND_PATH_～>>」の処理において、
　　　　クラッシュの可能性が発生していたのを修正



-------------------------------
　Ver3.527 の更新履歴　2025/02/09
-------------------------------

【ゲーム部の修正】

●【ピクチャ･変数操作+/不具合】任意の文字列をピクチャとして表示した後、
　　　同じピクチャIDで空白文字列を表示したとき「変数操作+」で取得できる
　　　画像サイズ（横・縦）が0にならず前の値を引き継いでしまうバグを修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　「旧Ver3.390時点の挙動で動作」に設定すると以前の挙動に戻せます。

●【動作指定/不具合】「主人公」が「自動移動[スマート]」を行う際、
　　　　　　「画像なしイベント（すり抜けOFF）」を通行不能と
　　　　　　認識してしまっていたバグを修正
　　→　なおマップイベントは「(すり抜けOFFの)画像なしイベント」上を通れないので、
　　　　通行不能と認識します。

●【動作指定/不具合】「自動移動[スマート]」を行う際、
　　　「1マスの細さの道」の目標地点に(マスの区切りから)半歩ずれている
　　　イベントや主人公がいると到達不能扱いになり小迂回しなくなるバグを修正
　　→　ただし「【複数キャラ】が半歩ずれでゴール付近に重なっている」などの
　　　　複雑な状況になると、それらのイベントの当たり判定があるとみなされて
　　　　やはり到達不能扱いになります。
　　　　こういった状況は今のところカバーしきれないので、現状では仕様です。

●【動作指定/不具合】特定状況で、「自動移動[スマート]」で目標地点まで
　　　　　あと半歩の状況で隣接マスを行き来して振動するような状態に
　　　　　なってしまうバグを修正



【エディター部の修正】

●【上部アイコン/調整】試験的に「マップ設定」と「マップ選択」をアイコンバーの
　　　　　　左側に移動してみました。
　→　「マップ選択」ボタンの従来の場所が、多くの人がマップ選択ウィンドウを
　　　置くであろう「左側」からだいぶ遠かったのと、「マップ設定」ボタンが
　　　直感的でない場所に埋もれていて分かりにくかった気がしたためです。
　→　すでに慣れてくださっていた方には慣れ直しが必要になってしまうと思いますが
　　　長期的に見て有用な修正だと思いますのでどうかご協力ください。
　　（私もマップ設定とマップ一覧のアイコンを探すのにときどき迷っていたので）


●【上部アイコン/調整】「マップ選択」「各データベース」
　　　　　「コモンイベントウィンドウ」が開いている最中は
　　　　　そのアイコンがオンになるように修正

●【動作指定/調整】動作指定コマンド欄の横幅を少し延長



-------------------------------
　Ver3.526 の更新履歴　2025/02/08
-------------------------------

【ゲーム部の修正】

●【起動時/調整】「読み込まれた外部フォント」に含まれるフォント名が
　　　　　　より高確率で検出できるように修正。
　　　　　　検出されたフォント名は「英語名」で表示されるようになります。
　　　→　英語名フォントの方が海外OSでも動作させやすくなるためです。

●【文字列操作/不具合】並列マップイベントから隠しコード
  　「空イベント生成<<MAKE_EVENT～>>」で一定個数以上イベント生成すると
  　1万個に到達していないのにクラッシュするバグを修正

●【文字列操作/不具合】「空イベント生成<<MAKE_EVENT～>>」で空イベント生成後、
　　　　セーブ・ロードしてそのイベントを起動させようとすると
　　　　クラッシュする不具合を修正

●【場所移動/不具合】「移動後の向き」の「右上（9）」が反映されないバグ修正



-------------------------------
　Ver3.525 の更新履歴　2025/02/07
-------------------------------

【ゲーム部の修正】

●【緑帯エラー/調整】イベント内で行われていない処理の緑帯エラーの場合は
　　　　エラー発生行の代わりに「イベント処理[外]で問題が起きました」と
　　　　出すように修正

●【ピクチャ/調整】「分割数が画像サイズより大きすぎます」エラー時、
　　　　　その表示しようとしたファイル名も表示するように修正

●【ピクチャ/不具合】特定状況で「ピクチャ番号がマイナス」のピクチャで
　　　「<MAP_SCREENSHOT>」を表示しようとしたとき、サイズ0,0と認識されて
　　　「分割数が画像サイズより大きすぎます」エラーが出るバグを修正
　→　なお1フレーム中の描画において、「マップが描かれきる前」のタイミング、
　　つまりマイナスのピクチャ番号で<MAP_SCREENSHOT>を表示しようとした場合、
　　そのフレーム中には正常に描画されないことがあります。
　　(次のフレームになるとマップが期待通り表示されると思います)



【エディター部の修正】

●【DB操作/不具合】「データ番号」や「項目番号」欄にフォーカスを合わせても
　　　　　下部キャプションに説明が出なくなっていたバグ修正

●【コモンイベントウィンドウ/不具合】『クリップボード→イベントコード貼り付け』を
　　　　　　行うと、「一つ元に戻す」をしても戻らないバグを修正

●【コモンイベントウィンドウ/調整】「一つ元に戻す」が従来は
　　　　「貼り付け・削除」にしか機能しないようになっていたのを、
　　　　全てのコマンド入力・修正にも適用されるよう修正

●【マップ選択/不具合】マップを切り替えた直後、イベントウィンドウの表示が
　　　　　古いマップの内容のままになっていた現象を修正

●【データベースウィンドウ/調整】項目名表示の自動改行位置を微調整



-------------------------------
　Ver3.524 の更新履歴　2025/02/06
-------------------------------

【ゲーム部の修正】

●【文字列操作/不具合】隠しコードの自動改行処理
　　　　　　「<<AUTO_RETURN_STRING_WIDTH_COUNT=??>>」を使うと
　　　　　　特殊文字が消えてしまうバグを修正

●【Altキー/調整】Ver3.523でAltキーでゲームが止まる現象を修正しましたが
　　　　　　　ウィルス扱いされやすくなることが分かったので元に戻しました。
　→　Alt無視はライブラリ内の機能だったのですが、
　　　よく調べたらTempフォルダにDLLファイルを作ってGame.exeにフックするという、
　　　セキュリティソフトに疑われやすい処理でした。




【エディター部の修正】

●【マップイベントウィンドウ/不具合】「マップウィンドウ拡大率」を
　　　エディターオプションで拡大縮小したとき、
　　　画像欄の文章の文字サイズが変わらなかった問題を修正

●【マップ・コモンイベントウィンドウ/調整】条件分岐やループのコマンド色を
　　　黒寄りに再変更

●【コモンイベントウィンドウ/不具合】Ctrl+Shift+F6/F7で抜き差しした後、
　　　開いていない他のタブに切り替えると別のコモンになっているバグを修正



-------------------------------
　Ver3.523 の更新履歴　2025/02/05
-------------------------------

【ゲーム部の修正】

●【ピクチャ/不具合】ピクチャの<MAP_SCREENSHOT>や<MAP_SCREENSHOT>を
  　　「表示」するたびにスプライトが無限に増えていくバグ修正

●【ピクチャ・エフェクト/不具合】初めてマスク処理を使ったのと同じフレーム中に
　　　　「ピクチャ表示」とそれへの「変換系エフェクト」を使うとそのピクチャが
　　　　表示されなくなることがあるバグ修正

●【動作指定/不具合】ゴール地点から半歩下にいるときに
　　　　　　自動移動の[単純]または[スマート]を行うと
　　　　　　上でなく1歩左上に移動してしまうことがあるバグ修正

●【F7ピクチャ一覧/不具合】ピクチャリンクした「自由変形」ピクチャについて、
　　　　F7ピクチャ一覧画面内でリンク補正が反映されていなかったバグを修正

●【Altキー/調整】Altキーでゲームが止まる現象を修正(しましたがウィルス扱いされるのですぐ取り消し）




【エディター部の修正】

●【ゲーム基本設定/不具合】「システム言語」の文章位置がずれていたのを修正

●【マップ編集/不具合】イベントの移動・削除や、マップ編集中の
　　　　　　　　レイヤー切り替え・スクロールで選択カーソルが
　　　　　　　　画面に残ってしまう現象を修正


-------------------------------
　Ver3.522 の更新履歴　2025/02/04
-------------------------------

【ゲーム部の修正】

●【キャラ画像･文字列操作/不具合】XY_IMAGE指定と空イベント生成を使うと、
　　　　XY_IMAGE指定したキャラ画像が急に消えることがあるバグ修正

●【キャラ画像/不具合】キャラクター画像読み込み失敗時の緑帯中に
　　　　F12を押すとクラッシュする現象を修正


●【フォント/仕様変更】 システム上は存在しないフォントでもゲーム内で
　　表示できてしまうことが判明したため、「Game.exeバージョン挙動」が
　　3.50以上の場合や、「個別暗号化フォント」を使用していた場合は、
　　フォントがなくても強制的に使用を試みるように仕様修正しました。
→　「個別暗号化したフォント」を読ませてもシステム上は認識されないのですが、
　　ゲーム内では使用可能になっていたための対応です。
→　この仕様変更により、「存在しないフォント」が指定されていた場合は
　　どんな場合でも「ＭＳ ゴシック(あるいは言語別の代替フォント？)」で表示されます。
　　（これはライブラリ、ないしWindowsの処理です）


●【システム文字列/仕様変更】「Game.exeバージョン挙動」が3.50以上の場合や、
　　　　　「個別暗号化フォント」を使用していた場合、
　　　　　プロ版のSysS62～67「フォント上書き」文字列に格納されたフォント名が
　　　　　システム上見つからなかった場合は先頭に「<<?>>」が付くように修正
　　　　　（例：「<<?>>ＭＳ ゴシック」など）
　→　「個別暗号化フォント」は、読み込ませてもシステム上は認識されません。
　　　そのため、SysS62～67に暗号化フォントで追加されたフォント名を指定しても
　　　常に<<?>>が付きますが、表示自体は正常にできてしまうことが多いです。


●【起動時/修正】外部フォントファイルを読み込んだ場合、フォントを認識できた場合は
　　　その中に入っているフォント名一覧を「デバッグウィンドウ」に
　　　表示するように修正（起動時に「デバッグウィンドウ」がオンの場合のみ）
　→　ただしシステム上認識できない都合で、「個別暗号化フォント」を読んだ際の
　　　フォント名一覧は表示できません。
　→　すでに自分のOS内にインストールされているフォント名は認識されません。
　　　（新たに増えたフォントとの差分で表示しているため）


●【イベント起動/不具合】「イベントと接触」起動のイベントのページが
　　　　　どれも条件を満たさなくなったにもかかわらず、
　　　　　決定キーで起動できる状況があったバグ修正
　　　→　おそらくVer3.519あたりから起きた不具合です。




【エディター部の修正】

●【マップ編集画面/不具合】最大化などをしたとき、マップ画面サイズが一定だと
　　　　　　　　真っ黒に表示されてしまうことがあるバグ修正

●【マップ編集画面/不具合】マップウィンドウを大きくしていったとき、
　　　　　　スクロールバーをドラッグしても動かなくなることがあるバグ修正



-------------------------------
　Ver3.521 の更新履歴　2025/02/03
-------------------------------

【ゲーム部の修正】

●【キャラクター画像/不具合】<XY_IMAGE～>でキャラ画像を連続で指定したとき、
　　　　　　特定状況でキャラが表示されなくなるバグ修正

●【変数操作+/不具合】隠しコード「空イベント生成<<MAKE_EVENT～>>」で
　　　イベント生成したのと同じフレーム内に「キャラ」の「現在ピクチャパターン」を
　　　取得すると異常な値が入っているバグを修正

●【動作指定/不具合】「自動移動[大負荷]」で目標地点直前に変な移動を
　　　　　　　　することがあったバグ修正

●【個別ファイル暗号化/不具合】個別暗号化したファイルを[ピクチャ]等で読み込むと
　　　　　　　　キー間違いエラーが出て読み込みできなかったバグを修正

●【起動時/調整】起動時に読み込んだ「フォントファイル」名を
　　　　　デバッグウィンドウに表示するように修正
　　→　最初からデバッグウィンドウありで起動した場合のみ表示されます。



【エディター部の修正】

●【マップ編集ウィンドウ/不具合】マップ拡大率を切り替えた際、
　　　右と下にあるスクロールが更新されなかったバグを修正
　→　Ver3.520でマップ読込処理を高速化するために
　　　スクロール更新回数を最小化したことによる副作用でした。

●【コモンイベントウィンドウ/不具合】「折りたたみ」された場所より下で
　　　　　　削除や切り取り・貼り付け操作を行った後「一つ元に戻す」をすると
　　　　　　折りたたんだ行数だけ戻る位置がずれるバグを修正

●【個別ファイル暗号化/調整】フォントを暗号化したとき、
　「【△】 フォントなので【全てキーなし】で暗号化されました。
　　※ゲーム起動時、フォントはあらゆるキーの設定なしに自動で読み込まれます」
　という文言に修正。「※」以降を追記してフォントの扱いを分かりやすくしました。


-------------------------------
　Ver3.520 の更新履歴　2025/02/02
-------------------------------

【ゲーム部の修正】

●【キャラクター画像/不具合】<XY_IMAGE/～>でキャラ画像を指定したとき、
　　　　同一キャラに対して行ってもスプライトが無限に増えていくバグ修正、
　　　　ならびに、ときどき勝手に最新のXY配列の内容にしたがって
　　　　画像が勝手に書き換わってしまうバグがあった部分を修正

●【キャラクター画像/調整】<XY_IMAGE/～>でキャラ画像を指定したときの
　　　　　　　　画像読み込み速度が推定2倍くらいに高速化しました

●【キャラクター画像/調整】「<」から始まるファイル名を指定したとき、
　　　　　　　間違った指定でもエラーが出なかった問題を修正

●【エフェクト/調整】「キャラ」のエフェクトの「重ねキャラチップ変更」で
　　　　　指定できないファイルを指定したときはエラー表示後、
　　　　　そのファイル名情報を消すよう修正
　→　従来は表示できないキャラチップ画像の情報が残ってしまっていました

●【ピクチャ】同じピクチャ番号で<XY_IMAGE/～>を「表示」するたびに
　　　　F8画面の「画像数」が無限に増えていってしまうバグを修正

●【キー入力/不具合】「キー入力受け付け」の「キーボード全キー」と
　　　　「パッドボタン」にて、「押されるまで【待つ】」にしても
　　　　最初からそのキーを押しっぱなしで受理されてしまうバグを修正

●【システム変数/不具合】Configの[全画面モードB]のとき、
　　　　「Sys138:画面ﾓｰﾄﾞ[ｳｨﾝﾄﾞｳ:0/仮想全:1/全:2]」が「2」を返すはずが
　　　　「0」を返してしまっていたバグ修正



【エディター部の修正】

●【起動時/不具合】前回終了時に開いていたマップが開けなくなることがあるバグの
　　　　　　　　修正を試みました
　　→　ついでに、マップファイル名が空のマップを開こうとしていた場合、
　　　　システムDB内で最初にマップがある番号を自動で読み込むように修正

●【マップ選択ウィンドウ/不具合】マップ切り替え時などに非常に長い待ち時間が
　　　　　　　発生することがあったバグの修正を試みました

●【キー入力/調整】「パッド（300～）」という表記を「パッド（301～）」に変更
　　　　　→　パッド300番のボタンは受け付けされないため


-------------------------------
　Ver3.519 の更新履歴　2025/02/01
-------------------------------

【ゲーム部の修正】

●【ゲーム基本設定/不具合】Ver3.50以前のゲームデータを読み込んだとき、
　　　　　　　「ピクチャ挙動Ver1」になっていなかったバグを修正
　　→　古いゲームデータを最新のGame.exeで実行したときに
　　　　改行幅などが変わってしまう問題が起きてしまっていました

●【動作指定/不具合】自動移動「スマート/大負荷」において半歩移動時、
　　　　最後の半歩移動で変な向きに1歩移動してしまうことがあるバグ修正

●【マップイベント/不具合】条件を満たさないイベントの場所で決定キーを押すと
　　　　最後に出ていたページのイベント処理が実行されるようになってしまっていた
　　　　バグを修正
　　→　Ver3.510以降の生成イベント絡みのバグ修正によって発生していました。



【エディター部の修正】

●【データベースウィンドウ/不具合】DB画面で、ページの大きいタイプから
　　　　ページの小さいタイプに移ったときメモ欄が更新されないバグ修正



-------------------------------
　Ver3.518 の更新履歴　2025/01/31
-------------------------------

【ゲーム部の修正】

●【変数操作+/不具合】「仲間」の「移動中？[1=YES]」が状況にかかわらず
　　　　　　常に1か0のどちらかを返す異常な状態になっていたバグを修正

●【文字列操作/不具合】「場所移動」してから「空イベント生成<<MAKE_EVENT～>>」を
　　　　　行うとクラッシュするバグを修正

●【ピクチャ/不具合】「ゲーム基本設定」で「ピクチャ挙動Ver1」にしているとき、
　　　　　ファイル名に\cself[10]などの代入特殊文字を入れて「表示」しても
　　　　　画像が切り替わらなくなっていたバグを修正



【エディター部の修正】
●【マップ選択ウィンドウ/調整】マップが開けなかったときは
　　　　　元の場所にカーソルが合うように修正

●【マップ選択ウィンドウ/不具合】空のデータ名だとマップの「コピー」が
　　　　　　　できなかったバグを修正

●【マップ作成/調整】「OK」したとき、ファイル名として入力不能な文字を
　　　　　　エラーを出した上で削除するよう修正

●【マップ作成/不具合】新マップを作った際、マップサイズが最低値の10、8未満に
　　　　なっていることがあった問題を修正

●【変数操作+/不具合】「その他」の「ﾏｳｽ左/右/中ｸﾘｯｸ状態(平常=0,押=1,新押=2)」を
　　　　　　　常時表示するように修正
　→　「修正」時だけ表示するようにしていましたがキー入力側とは
　　　挙動が違うコマンドだったので入れ直しました。

●【マップイベントウィンドウ/調整】画像欄が空の場合に
　「（[画像なし]だと主人公のみ通れてEvは通れなくなります）」
　と表示するよう修正




-------------------------------
　Ver3.517 の更新履歴　2025/01/30
-------------------------------

【ゲーム部の修正】

●【ゲーム基本設定/調整】「字詰め」や\-[?]があると「選択肢」のカーソル幅が
　　　　　文字幅分より小さくなってしまう現象を修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　「旧Ver3.390時点の挙動で動作」に設定すると以前の表示に戻せます。

●【文字列操作/不具合】特定条件で「空イベント生成<<MAKE_EVENT～>>」を使用したとき
　　　　　　クラッシュすることがある不具合を修正

●【DB操作/不具合】データベース側の「データIDの設定方法」を
　　　「指定DBの指定タイプ名から」にしてると、「データ名取得」時にエラーが返るバグ修正

●【DB操作/仕様変更】「変数へ代入」時、タイプ・データ・項目が
　　　　文字列変数（ｺﾓﾝｾﾙﾌ5～9や文字列変数S0～）で「タイプ名/データ名/項目名 取得」に
　　　　してあった場合、「タイプ番号/データ番号/項目番号 取得」の処理になるよう修正
　　→　名前に「文字列変数」を指定して「データ名」を取得するのは意味がないためです。

●【F12リセット/不具合】特定状況でF12リセットしたときにクラッシュすることがあるバグ修正

●【エフェクト/不具合】「キャラ」の「ピクセル移動」で「仲間」がマスとマスの間にいるとき、
　　　　　　　  止まっていても「移動中アニメ」が行われてしまうバグ修正


●【システム変数/不具合】「Sys150:特殊文字変換を無効化[1=ON]」を1にして
　　　　　文字列変数に\cself[5]などの代入特殊文字を格納した後、Sys150を0に戻して
　　　　　その文字列に何か操作を行ったとき、「すでに格納されている文字列」の
　　　　　代入特殊文字がその時点では変換されない現象を修正




【エディター部の修正】

●【DB操作/調整】「変数へ代入」、「名前呼出」にチェックを入れても
　　　　「タイプ番号/データ番号/項目番号取得」にならないバグを修正

●【DB操作/仕様変更】「変数へ代入」時、タイプ・データ・項目が
　　　　文字列変数（ｺﾓﾝｾﾙﾌ5～9や文字列変数S0～）なら
　　　　「タイプ名/データ名/項目名 取得」が「タイプ番号/データ番号/項目番号 取得」の
　　　　チェックボックスになるように修正

●【DB操作/不具合】データベース側の「データIDの設定方法」を
　　　「指定DBの指定タイプ名から」にしてると、データ名として「文字列」を指定時に
　　　コマンド欄に番号が正常に表示されないバグ修正

●【マップ保存/不具合】マップ保存時、同時に行われるはずの
　　「自動TXT保存」と「暗号化ファイル保存」が機能しないセーブ処理があったのを修正

●【個別ファイル暗号化(プロ版)/不具合】マップファイルの自動暗号化ファイル保存時に
　　　クラッシュする可能性があったバグを修正

●【コモンイベントウィンドウ/不具合】エディターオプションの
　　「保存時の自動テキスト出力」がオンのとき、「更新」した直後に
　　入力されたコモンセルフ変数の名前が表示されなくなったりするバグ修正


-------------------------------
　Ver3.516 の更新履歴　2025/01/28
-------------------------------

【ゲーム部の修正】

●【動作指定/不具合】実行されているマップEvが起動条件を満たさなくなった状況で
　「空イベント生成<<MAKE_EVENT～>>」と「動作指定」を併用するとクラッシュするバグ修正



【エディター部の修正】

●【右クリックメニュー/調整】[変数呼び出し値]の「主人公の情報X / 9180000+X」を
　　　　　　　「主人公(Y=0)･仲間Yの情報X / 9180000+Y*10+X」に修正

●【右クリックメニュー/調整】コモンイベント内から「動作指定」を読んだ場合、
　　　　　　　右クリックメニューの[変数呼び出し値]に「マップセルフ変数」も
　　　　　　　表示するように
　　　　　→　コモンイベント内でも動作させるEvのマップセルフを使うため

●【変数操作･変数操作+/調整】左辺が「マップセルフ変数」の変数操作を
　　　コモンイベント側に貼り付けた後、コモンイベント側で
　　　マップセルフ変数の左辺を維持したままコマンド編集が可能になるよう修正
　　→　ただしコモンイベント上で他のマップセルフ変数への切り替えはできません。


-------------------------------
　Ver3.515 の更新履歴　2025/01/27
-------------------------------

【ゲーム部の修正】

●【コモンイベント/不具合】特定状況でコモンイベント呼出でクラッシュするバグを修正


-------------------------------
　Ver3.514 の更新履歴　2025/01/27
-------------------------------

【ゲーム部の修正】

●【文字列操作/不具合】「に↓から指定文字まで切出(＋↓文ｶｯﾄ)」は
　　　　　　　「区切り文字を省いて左辺と右辺に分ける」意図だったことを思い出したので
　　　　　　　Ver3.513で仕様変更しましたが再度修正し直しました。


-------------------------------
　Ver3.513 の更新履歴　2025/01/27
-------------------------------

【ゲーム部の修正】

●【場所移動/不具合】Ver3.512にて場所移動しただけでクラッシュするバグが発生していたのを修正

●【文字列操作/不具合】「に↓から指定文字まで切出(＋↓文ｶｯﾄ)」のコマンドで
　　　　　　　右辺に残される文字列が1バイト分だけ大きくなっており
　　　　　　　正しく切られていなかったバグを修正

●【ピクチャ/不具合】Game.exeの動作バージョン挙動を「3.390以前」にして
　　　　文字列ピクチャで\sp[]を指定すると、(以前と異なり)瞬間表示されるようになってしまい、
　　　　処理の整合がうまく取れなかったので、\sp[]に関しては
　　　　バージョン挙動を無視して常にVer3.50の挙動で動作するようにしました。


-------------------------------
　Ver3.512 の更新履歴　2025/01/27
-------------------------------

【ゲーム部の修正】

●【ゲーム基本設定/不具合】「存在しないフォント名」を指定していた場合、
　　　　　ロード時にフォントが「MS Gothic」に変わってしまっていたバグを修正
　→　後のVer3.522でフォントの有無の正確な確認ができないことが判明したので、
　　　結局また読み込み失敗時のフォントは「MS Gothic」に戻りました。
　
　
●【タイル描画/不具合】エフェクトの「ピクチャリンク」機能などを使っていた場合、
　　　一部の★タイル等に「色調補正」が正常に反映されない問題への対策を試みました

●【文字列操作/不具合】隠しコード「MAKE_EVENT(空イベント生成)」を
　　　　　並列イベント中に行うとクラッシュすることがあったバグの修正を試みました。

●【セーブ・ロード処理/不具合】並列実行で「選択肢」を表示した状態で
　　　　　「ロード」を繰り返すとクラッシュすることがあるバグを修正



【エディター部の修正】
●【文字列入力欄の右クリックメニュー/不具合】[「代入」特殊文字を挿入]内の誤字を修正



-------------------------------
　Ver3.511 の更新履歴　2025/01/26
-------------------------------

【ゲーム部の修正】
●【文字列操作/不具合】隠しコード「<<SAVE_PNG_FROM_XY(N)～」において、
　　　　XSIZEとYSIZEの指定が内部処理で一部逆になっていたバグを修正
　→　アルファ値の無指定時は全面255になるはずが一部0になってしまっていました。

●【サウンド/不具合】「Sys98:再生中BGS周波数(Ch=Sys99)[%]」を変更しても
　　　　　　BGSの周波数が変わらなくなっていたバグ修正

●【動作指定/仕様変更】「移動できない場合は飛ばす」フラグを「自動移動」でも適用するよう修正。
　　　　　　自動移動中に1歩でも移動できなかった場合、次のコマンドへ移ります。

●【動作指定/不具合】「自動移動」で目標地点から右または下に半歩以内の場所から
　　　　　移動開始させると（0，0）座標に向かって移動し続けてしまうバグ修正

●【キャラ画像/不具合】キャラチップ重ねレイヤー内の処理にクラッシュ要因があったので修正

●【ダウンロード/不具合】ダウンロードして文字列に格納する際、それが
　　「BOMありのUTF-8テキストファイル」だった場合はBOMを抜いて文字列に格納するよう修正



【エディター部の修正】
●【データベースウィンドウ/不具合】データ名に読めないDBの「データベース参照」が
　　　　　　　　設定されているとクラッシュする可能性があったバグを修正

●【データベースウィンドウ/不具合】「エディターオプション」で全体ウィンドウサイズ倍率を
　　　　　100%以外にしたとき、データベースウィンドウだけ補正が2回かかっていたバグを修正

●【タイルセット設定/不具合】全体ウィンドウサイズ倍率を大きくすると
　　　　　　　タイル一覧の下の方に記号が出なくなるバグ修正

●【タイルセット設定/調整】32px、48px表示状態を記憶するように修正

●【システム変数/誤字】システム変数「Sys94:再生中BGSパン(Ch=Sys99)[-255～255]」が
　　　　　「Sys94:再生中BGMパン(Ch=Sys99)[-255～255」になっていた誤字を修正

●【サウンド/調整】ファイル名選択時の「ループ開始[ms]」の欄に
　　　　　　　　「[0=自動指定]」という記述を追加
　　→　昔からループ位置「0」だと自動でファイル側のループ位置が使われる仕様でしたが、
　　　　エディター上から知る手段がありませんでした。

●【エディターオプション】「全TXT→基本データのみ読込」クリック時の文言に
　　　マップも読み込まれると記載されていたミスを修正（基本データとはマップ以外のことです）

●【エディターオプション】「全TXT→基本データのみ読込」を選んだあと、
　　　　「キャンセル」で画面を抜けると再起動処理が行われないバグ修正


-------------------------------
　Ver3.510 の更新履歴　2025/01/25
-------------------------------

【ゲーム部の修正】
●【デバッグ文/調整】デバッグ文が内部的に約100MB弱を超えたら
　　　　　　　　　自動で古いデバッグ文を消去していく処理を追加
　→　デバッグ文だけで、ゲーム全体で使用可能なメモリを全て消費してしまい
　　　強制終了してしまう状況が発生しえたためです。

●【文字列操作/調整】隠しコード「MAKE_EVENT(空イベント生成)」に「/1X1SIZE」オプション追加。
　　　　生成したイベントの当たり判定を「1×1」マスにできます。

●【自動移動・隠しコードの経路探索/調整】「自動移動」または
　　　　「経路探索<<FIND_PATH_～>>」の処理において、
　　　　無駄な蛇行移動をしにくくなるように修正



【エディター部の修正】

●【マップ/コモンイベントウィンドウ/不具合】上下キーで右欄のコマンドを移動したとき、
　　　　　折りたたみ行があるとそこから下に行けなくなる現象を修正

●【マップ/コモンイベントウィンドウ/不具合】正常な選択範囲が選ばれなくなるため、
　　　　　左クリックしたまま「スペースキー」での「コマンド編集」はできないよう修正

●【コモンイベントウィンドウ/不具合】「折りたたみ」を含む分岐の「分岐終了」に
　　　「スペースキー」で「コマンド編集」を行うとコマンドが崩れるバグを修正



-------------------------------
　Ver3.509 の更新履歴　2025/01/24
-------------------------------

【ゲーム部の修正】

●【ゲーム基本設定/不具合】フォント欄に「存在しないフォント名」を入れていた場合、
　　　　「空白」時にセットされるデフォルトフォントである「Yu Gothic UI」でなく
　　　　「MS Gothic」がセットされてしまっていたバグを修正
　　　　→　旧挙動に戻したい場合は、「Game.exe動作バージョン調整」を
　　　　　「旧Ver3.390時点の挙動」以前に戻してください。

●【ゲーム基本設定/調整】ゲーム基本設定で設定されていたフォントが読み込めなかった場合、
　　　　デバッグウィンドウ内にフォントのエラー通知を表示するよう修正
　　→　デバッグウィンドウをオンにして起動した場合に表示されます。

●【動作指定/不具合】IDとデータ位置が一致しないイベント(たとえばEv[2]で[0]番目にある、等)が
　　　「自動移動」の「スマート/大負荷」を行うと1歩だけ行ったり来たりする動作に
　　　なってしまうバグを修正


●【動作指定/不具合】自動移動の経路計算のための通行可能計算が間違っていた問題を修正
　　　　→　なぜ動いてたのか分かりませんが前よりはうまく動くことを期待したいです。
　　　　　　自動移動は今後も時間をかけて徐々に直していくことになるかもしれません。



【エディター部の修正】

●【マップ/コモンイベントウィンドウ/不具合】256行目以上の場所にある条件やループが
　　　　　　　折りたためなくなることがあるバグを修正


-------------------------------
　Ver3.508 の更新履歴　2025/01/24
-------------------------------

【エディター部の修正】
●【データベースウィンドウ】データを1つ消すだけで全データが消えてしまうバグ修正

-------------------------------
　Ver3.507 の更新履歴　2025/01/23
-------------------------------

【ゲーム部の修正】

●【ゲーム基本設定/不具合】「ピクチャ挙動Ver2」にしたときの「文字列の改行間隔」が
　　　　　すべて想定の値の半分になってしまっていたバグを修正しました。
　→　マウスで座標を取ったとき、どんなケースでも指定した通りの改行間隔になっているのが
　　　正しい「ピクチャ挙動Ver2」の動作です。
　→　タイルサイズ16の場合、ピクチャ挙動Ver1からVer2にしたとき改行間隔が2倍になります。
　　　変更が不要ならピクチャ挙動Ver1のままにしておき、もしVer2にする場合はゲーム基本設定の
　　　「改行間隔」や「選択肢の改行間隔」全ての「\space[?]」の値を半減させてください。

●【データベース/不具合】データIDや項目のデータベース参照に「名前呼出」を使った上で
　　　　　　　　セーブロードするとクラッシュするバグを修正

●【マップイベント描画/不具合】主人公のY座標によって「前面表示」のマップイベントが
　　　　　　　　チラ付く現象がまだ残っていた問題の修正を試みました

●【変数操作+/不具合】 「位置」の「キャラ通行可能方向[1上+2左+4右+8下]」の挙動が
　　　　　　　　　　　全体的に正しくなかったバグを修正

●【文字列操作・動作指定/不具合】隠しコードの「<<FIND_PASS_DIR～>>」や「自動移動」にて、
　　　　(FIND_PASSならオプションとして「MOVE_EV=0」を指定して)イベント0の経路を算出したとき、
　　　　イベント0自身の当たり判定が障害物として認識されて
　　　　想定外の経路を返してしまうバグを修正



【エディター部の修正】

●【マップエディタ/不具合】レイヤー4、5を利用しているとき、マップ編集中右ダブルクリックで
　　　　　　　　　レイヤー4～5に移動できなかったバグを修正

●【マップ/コモンイベントウィンドウ/不具合】Windowsでマウスの主ボタンを「右クリック」に
　　　　している場合、イベントコマンド欄だけ右クリックメニューが表示されなくなるバグを修正

●【コモンイベント/不具合】「入力内容の設定」でデータベース参照の「名前呼び出し」をオンにすると、
　　　「コモンイベント」コマンドの「入力」値の表示にキャプションが付かなくなっていたバグを修正

●【データベースウィンドウ/不具合】タイプを削除したあとに保存すると
　　　　　　　　　　　　　クラッシュすることがあるバグ修正

●【サウンド/不具合】イベントコマンド欄において、BGMとBGSの「途中再生」が0だと
　　　　　「処理時間」が2つ並んで表示されてしまうバグを修正



-------------------------------
　Ver3.506 の更新履歴　2025/01/22
-------------------------------

【ゲーム部の修正】

●【動作指定/不具合】指定座標まで残り1歩の状態から自動移動し始めたとき、
　　　　　自動移動で目標地点にたどり着かず半歩行き来し続けることがあったバグを修正

●【文字列操作/不具合】隠しコードの「空イベント作成(<<MAKE_EVENT_～>>)」を
　　　並列実行のマップイベント内で実行するとクラッシュすることがあるバグを修正

●【文字列操作/不具合】隠しコード「空イベント生成(<<MAKE_EVENT～)」でイベントを生成した状態で
　　　　セーブをしロードをするとイベントや主人公が表示されなくなるバグを修正
　　→　ロード時の生成イベントの内部IDが正しく再設定されていないことによるバグでした。
　　　　そのため、重複IDで生成できてしまう問題も発生しました。

●【セーブ・ロード処理/不具合】マップイベントとの会話中にセーブするとロード後にも
　　　　　　　　セーブ時点の向きのままになってしまい元に戻らない現象を修正
　　　　→　旧挙動に戻したい場合は、「Game.exe動作バージョン調整」を
　　　　　「旧Ver3.390時点の挙動」以前に戻してください。

●【マップイベント/不具合】タイル画像を指定したイベントが
　　　　　　下半身半透明タイル上にあると画像が正しく表示されないバグ修正

●【マップイベント/不具合】「前面表示」フラグがオンのマップイベントが
　　　　　　　▲チップの前にいるときにチラつきが発生することがあるバグを修正

●【特殊文字/不具合】デフォルトの文字速度として10万など非常に大きな値が入っている場合に
　　　　　　文字速度変更\sp[?]の特殊文字が正常に反映されなかったバグを修正



【エディター部の修正】
●【DB操作/不具合】「新データ挿入」などのコマンドを選択後、項目の「変数」のチェックボックスが
　　　　　選択できないままになるバグを修正


-------------------------------
　Ver3.505 の更新履歴　2025/01/21
-------------------------------

【ゲーム部の修正】

●【動作指定/不具合】隠しコードの「空イベント作成(<<MAKE_EVENT_～>>)」で作成したイベントを
　　　　　「自動移動」させるとクラッシュすることがあるバグを修正

●【文字列操作/不具合】隠しコードの「<<SAVE_PNG_FROM_XY/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>>」を
　　　　　　実行すると特定条件下でクラッシュすることがあるバグ修正

●【動作指定/不具合】自動移動の「目標地点」にすでに着いている状態で自動移動を開始すると、
　　　　　　　　　　(-1,-1)座標を目指して自動移動し始めてしまうバグを修正



【エディター部の修正】

●【マップエディタ/不具合】イベントにタイル画像を指定した際、マップ上の画像が
　　　　　　　　　　正しいタイル画像で表示されないバグを修正

●【動作指定/調整】「座標指定」の欄に「マップセルフ変数は【動作Ev】側の値が使われます」
　　　　　　という注意書きを追加

●【DB操作/不具合】DBを「XY配列」に切り替えたときや、「XY配列」時に「名前」チェックを
　　　　　　　　オンにした場合の初期名がXY配列のものになっていなかったバグを修正

●【マップ選択/調整】マップ選択の最後の番号のマップが「削除」された場合に限り、
　　　　　　　一覧からも消滅するように修正
　　　　→　途中の番号のマップは消滅させられませんが、新たなマップを作ると
　　　　　　若い空き番号から使われていきます。

●【マップ/コモンイベントウィンドウ/不具合】何を入れて検索してもヒットしてしまう「行」が
　　　　　　作れてしまうバグを修正

●【マップ/コモンイベントウィンドウ/不具合】「折りたたみ」を1つでも行ったイベント内で
　　　　　　正常に検索できなくなっていたバグを修正

●【マップ編集/不具合】チップ選択時、半分だけ×のチップを選ぶとタイトルバーが
　　　　　　　　　　文字化けするバグを修正。今は「○×」と表示されます。


-------------------------------
　Ver3.504 の更新履歴　2025/01/20
-------------------------------

【ゲーム部の修正】

●【イベント起動/調整】「予約」イベントと「決定キー/接触」イベントを同時に起動したとき
　　　　片方ずつ遅延して起動する旧挙動を「Game.exe 動作バージョン調整」で再現できるよう修正
　　→　これはバグとして修正された内容ですが、旧挙動に戻す処理を入れ忘れていました。
　　　　旧挙動に戻したい場合は、「Game.exe動作バージョン調整」を
　　　「旧Ver3.390時点の挙動」以前に戻してください。

●【キャラ画像/不具合】「タイルセット」の画像を指定したマップイベントの
　　　　　　キャラ画像が変更できくなっていた現象を修正

●【イベント描画/不具合】「タイルセット」の画像を指定したマップイベントが
　　　　　「下半身が半透明」のタイル上に配置されていると強制終了するバグ修正

●【文字列操作/不具合】「隠しコード実行」の「<<GET_IMAGE_ARGB～」で指定するX、Y座標が
　　　-1以下だったり画像より大きい場合のエラー返り値が返されなくなっていたバグを修正

●【DB操作/不具合】「データソート」で「項目」を「名前」で指定したときに
　　　　　　　　タイプが0として読まれてしまうバグを修正

●【動作指定/不具合】一番目にある「自動移動」処理が正常に動作していなかったバグを修正

●【動作指定/不具合】自動移動[大負荷]で、イベントや主人公で道をふさいだ場合、
　　　　　　　　　　(0,0)座標を目指してしまうバグ修正
　　→　イベントに道を塞がれている場合は「マップ通行判定上」の経路を行くようにしました。

●【動作指定/不具合】自動移動中のイベントの現位置が通行判定×でも「移動失敗」とならない問題を修正

●【動作指定/不具合】「変数で座標を指定」した「自動移動」を1回しか実行しないようにしても、
　　指定された変数の値が途中で変わったら移動完了後そちらへ移動し始めてしまうバグを修正
　　→　「一度目標地点に着いた時点で次のコマンドに移る」のが想定の挙動でした。




【エディター部の修正】

●【変数操作/調整】デザインを微調整

●【タブ/調整】右クリックメニューの文言をより誤解の少ないように調整

●【ファイル選択画面/不具合】初回開いた直後の画像が出ないバグの修正を試みました

●【ファイル選択画面/不具合】音声再生画面が出ているとき、
　　　　　スクロールやホイール操作、左欄の再選択をすると画面が消えるバグ修正

●【ファイル選択画面/調整】音声の再生時間が総時間を越えないよう修正

●【ファイル選択画面/不具合】タイル選択時にカーソルが範囲外に出ることがある現象を修正

●【コモンイベントウィンドウ/不具合】ファイル出力の「単体保存」「複数保存」「読込」での
　　ファイル出力、入力フォーマットが崩れていて処理時にクラッシュすることがあるバグを修正
　　→　Ver3.500～3.503以下では出力ファイルも読む処理も壊れていたので
　　　　コモンの入出力には最新版をご利用ください。

●【マップ/コモンイベントウィンドウ/不具合】折りたたみ可能フラグがずれることがある問題への
　　　対策としてフラグの再計算を行うタイミングを増やしてみました。


-------------------------------
　Ver3.503 の更新履歴　2025/01/19
-------------------------------

【ゲーム部の修正】
●【DB操作】可変DBに対する「データソート」機能で、項目番号を「変数」か「数値」で入力すると
　　　　　常に項目0番の値を用いてソートされてしまうバグを修正


【エディター部の修正】
●【コモンイベントウィンドウ/不具合】コモンイベントの「単体保存」「複数保存」出力時、
　　　　　　　　　出力されたデータが破損することがあるバグの修正を試みました

●【マップ/コモンイベントウィンドウ/調整】コマンド欄での右クリックメニューの
　　　　　「特殊メニュー」をなくして中味を展開（意外と不便だったため）

●【マップ/コモンイベントウィンドウ/調整】コマンド/コマンド挿入欄での
　　　　「コマンド内容を挿入ウィンドウに取込」のショートカットキーを
　　　　　Ctrl+SpaceからCtrl+Shift+Spaceに変更。
　　　→　Ctrl+Spaceはイベントコマンド挿入ウィンドウ上からの「コマンド編集」に
　　　　　割り当て直しました。

●【コモンイベントウィンドウ/不具合】「コマンド編集」直後にコモンイベントの色を変更すると
　　　　　　色が変更されなくなっていたバグを修正

●【エディターオプション/不具合】ウィンドウの全体サイズを87.5%以下にすると
　　　　　「自動マップ生成」「ゲーム基本設定」「タイル設定」「マップ設定」を開いたときに
　　　　　クラッシュするバグを修正



-------------------------------
　Ver3.502 の更新履歴　2025/01/19
-------------------------------

【ゲーム部の修正】
●【変数操作+/不具合】「マウス座標にあるイベントID」が常に0以上しか返さないバグを修正
　　　　→　何もない場所なら「-1」が返るはずでした。


【エディター部の修正】
●【ゲーム基本設定/調整】「ピクチャVer2」かつ「Game.exe 動作バージョンが3.50未満」のときに
　　　　「OK」したら移動で「ピクチャ挙動Ver1」に切り替えるよう修正。
　　　→　動作バージョンがVer3.50以上でないとピクチャ挙動Ver2にできないためです。

●【エディターオプション/不具合】「ウィンドウ設定」の「全体サイズ補正」を「87.5%」以下にすると
　　　　　次にエディターオプションを開こうとしたときクラッシュするバグ修正

●【動作指定/調整】「自動移動」は指定座標に到達するまでコマンドが進まないことを説明に追記

●【タブウィンドウ/不具合】エディターオプションでテーマを「クラシックグレー」にしてると
　　　　　　　　　タブ消去時に表示が残ってしまうバグ修正

●【マップ/コモンイベントウィンドウ/不具合】イベントエディタの名前欄やメモ欄で
　　　　　　　　　　日本語入力OFF状態での「G」の入力ができないバグ修正


-------------------------------
　Ver3.501 の更新履歴　2025/01/18
-------------------------------

【ゲーム部の修正】
●【代入特殊文字/調整】代入特殊文字は最大100層まで入れ子変換されるよう修正

●【動作指定/不具合】「自動移動」の「一歩のみ」フラグをオンにしても
　　　　　　　　　　　期待通り動作していなかったバグを修正

●【キー入力/不具合】「押されるまで【待つ】」の処理で「パッド」のボタンを取得した際、
　　　　　　押し続けている状態でもすぐに新押しされたものとして反応してしまうバグを修正

●【エフェクト】「キャラ」の「強制ピクチャパターン上書き」したらそのフレーム中に
　　　　　「変数操作+」で得られるピクチャパターン値も変わるよう修正
　　　→ 旧挙動では反映が1フレーム遅れます。旧挙動に戻したい場合は、
　　　　バージョン調整を「旧Ver3.390時点の挙動」以前にしてください。



【エディター部の修正】
●【マップイベントウィンドウ/不具合】名前を変更した際や起動条件のチェックを
　　　　　　　　切り替えた際などに、保存可能フラグが立たなかったバグを修正

●【マップイベントウィンドウ/調整】名前が空欄のときに画像選択したとき、
　　　　　　　　最初のフォルダ名と末尾の.pngを抜いてイベント名にするよう修正

●【メインウィンドウ/調整】メイン画面のセーブボタンを常に押せるように修正

●【コモンイベントウィンドウ/不具合】コモンイベントの内部コモンセルフ変数名が
　　　　　　正しく処理されてなかったバグを修正
　→　「検索」や「TXT出力」時のコモンセルフ名が正しくなくなる問題が発生していました


●【コモンイベントウィンドウ/不具合】一部環境でコモンイベントの色が変わらないのに対応すべく、
　　　　　　色変更時にコモンイベント欄の描画更新処理を追加

●【コモンイベントウィンドウ/不具合】コモンで『全てを選択』している状態で右クリックすると
　　　　　　　スクロールが強制的に一番下になる現象を修正

●【マップ・コモンイベントウィンドウ/不具合】イベントコマンド欄上で左クリックを押したまま
　　　　　　　右クリックを出せないように修正
　　　　→　条件分岐を破壊するような選び方ができてしまったためです

●【マップ・コモンイベントウィンドウ/不具合】0回ループより上にあるコマンドを修正すると、
　　　　　コメント色で表示される範囲が1行下にずれてしまうバグを修正
　　　　　
●【マップ・コモンイベントウィンドウ/不具合】右クリックすると選択中の範囲が
　　　　　縮小されてしまうことがあったバグを修正

●【タブウィンドウ全般/不具合】一部環境でタブの消去時に表示が残る問題が起きるので
　　　　　　　　　　タブ処理全般に表示リセット処理を追加して対応を試みました。

●【URL表示処理/不具合】「オンラインマニュアルを開く」など
　　　　　　　特定URLをブラウザで開く操作の方式を微調整。
　　　　　　　また、開くのに失敗したときにエラーを表示する処理を追加。

●【ピクチャ/調整】ボタン位置を微調整


-------------------------------
　Ver3.50 の更新履歴　2025/01/18
-------------------------------

【全体の新機能(ゲーム・エディター両方)】

◆ゲーム基本設定

●【ゲーム基本設定・ピクチャの挙動/新機能】
　「ピクチャ挙動Ver2[ver3.5以降]」が新たに設定可能になりました。
　「ピクチャ挙動Ver1[旧仕様]」を選ぶとVer3.39以前の挙動に戻せます。
　
　「レイヤー挙動」と「【表示】コマンド指定の挙動」に
　以下の差があります。基本は「Ver2挙動」で問題ありません。


 - ピクチャ挙動Ver2[ver3.5以降] Ver1挙動より自由度が高く、挙動に統一感があります。
　・レイヤー挙動：ピクチャ番号に応じた表示レイヤーが以下のようになります。
　　「-1～-99999なら『フォグの下 ・ ★マップチップの上』に表示」
　　「-100000～-199999なら『★マップチップより下・キャラや▲マップチップの上』に表示」
　　「-200000～-299999なら『キャラや▲マップチップより下 ・ マップの上』に表示」
　　「-300000～-399999なら『マップより下 ・ 遠景の上』に表示」
　　「-400000以下なら『遠景の下』に表示」

　・【表示】コマンド時の挙動が理解しやすく：
　　すでに同じIDでピクチャが表示されている場合、
　　処理途中でも「座標」や「不透明度」はその瞬間のパラメータを引き継ぎます。
　　つまり常に【移動】コマンドと同等の処理が行われます。
　
　・【ファイル指定時】の特殊文字変換の挙動が安定：
　　「ファイル直接指定」時、代入特殊文字(\s[0]等)の変換がより安定して行われます。
　　（Ver1ではファイル名の先頭に「<」があると正常に変換できません）

　・【システム変数】Sys1～6のメッセージ関連と、Sys26～27の選択肢の余白、の初期値が
　　　　　　　　　　より画面サイズに適したものになります。
　
　・【改行の間隔が半減する可能性あり】
　　「ゲーム基本設定」にある「文章表示」の「改行の間隔」の影響が、
　　タイルサイズ32以上だと「ピクチャ挙動Ver1」の「半分」に変わるので注意して下さい。
　　→「ゲーム基本設定」の「改行の間隔」を元の2倍の数値にすることで同じにできます。



 - ピクチャ挙動Ver1[旧挙動] 旧挙動に合わせて作っていた人向けです。
　・レイヤー挙動：ピクチャ番号に応じた表示レイヤーが以下のようになります。
　　「-1～-99999の場合は『キャラの下 ・ マップの上』に表示」
　　「-100000以下の場合は『マップの下 ・ 遠景の上』に表示」
　　
　・【表示】コマンド時の挙動：
　　 すでに同IDでピクチャが表示されているとき、「処理時間が残っている」状態で
　　「異なる画像で【表示】」または「文字列ピクチャの【表示】」をした場合だけ
　　『座標』『不透明度』などが「直前のピクチャ指定時点の値の状態に戻ったり」、
　　「新しい場所に瞬間表示される」場合があります。
　　
　・【システム変数】他、Sys1～6、Sys26～27のメッセージウィンドウ、選択肢ウィンドウ、
　　　ポーズカーソルの「初期値」や「-1」を格納したときの値が、
　　　画面サイズや画面倍率などを考慮していない昔の値のままになります。
　　
　・【改行の間隔】「ゲーム基本設定」にある「文章表示」の「改行の間隔」が、
　　　タイルサイズ32以上だと入力値の「2倍」になります。
　　→　これ自体はバグでしたが、従来の作品は全てこれに合わせて作られているので
　　　　ピクチャ挙動で切り替えられる形としています。



●【ゲーム基本設定Pro/新機能(プロ版のみ)】プロ版に限り、マップレイヤーが
　最大「5」レイヤーまで拡張できるようになりました。
　「ゲーム基本設定Pro」に「[Pro]マップレイヤーの最大レイヤー数」の項目が
　追加されており、通常の「レイヤー3[通常]」のほかに
　「レイヤー4 / 描画負荷+」「レイヤー5 / 描画負荷++」が選択可能です。
　→　レイヤー数を減らすと、見えなくしたレイヤーは編集画面に表示されなくなります。
　　　（内部的には保存されています）
　→　無料版のGame.exeで実行するとレイヤー3までしか表示されなくなります。




◆コマンド関連


●【コメント文/新機能】コメントの色機能が完成版になりました。
　　　　　　　　今後はプルダウンメニューで色を選べるようになります。
　　　→ 色を選ぶと(従来の仕様通りに)内部的に[RED]や[BLUE]の文字列が入りますが、
　　　　 コマンド一覧内や修正時にはその文字が表示されなくなります。


●【変数操作/新機能】代入演算子として「√[x1000]」を追加。
　　　　　　ルートの値を1000倍の値として返します。
　　　　→　√[x1000]で右辺が「5」なら、左辺に「2236」が代入されます。

●【変数操作/新機能】右辺の演算子として「ビット和」「排他ビット」「ビットシフト<<」を追加。
　　　　　 右辺のビット演算が可能です。すでにビット演算に詳しい人向けです。
　　　→　ビット和は「論理和」、排他ビットは「排他的論理和（XOR)」の意味です。
　　　→「ビットシフト<<」は数値のビットを左にシフトし、
　　　　　マイナスの値を入れると右シフトになります
　　　→　「X = A ビット和 B」「X = A 排他ビット B」「X = A ビットシフト<< B」
　　　　　としてチェックなしでコマンド入力すると、
　　　　　コモンイベント内で高速で処理されます。



●【DB操作/新機能】「データソート」機能が搭載されました。
　　　「昇順か降順か」で「指定した項目」の値の大小に応じて
　　　「指定したデータの範囲（例えばデータ2～5までなど）」を並び変えできます。
　　→「文字列」の比較も可能で、先頭文字（同じなら次の文字）で並び変えされます。
　　　　厳密にはUTF-8のコード値順に並び変えられるそうです。


●【DB操作/新機能】「XY配列」機能が搭載されました。
　　数値のみ格納できる二次元配列で、DBの「タイプ、データ番号、項目番号」と同じく、
　「配列番号/名前」「X列(データ番号)」「Y列(項目番号)」の3パラメータで指定します。
　「配列番号/名前」は無制限に使え、「X列・Y列」は0～9999の範囲で指定可能です。
　→ XY配列の「代入・読込」処理時のみ、「Y列の値が1万」を超えるごとに
　　「X列が+1」された値にアクセスします。
　　もしY列が1万で足りないときは複数のX列をまたいで使用してください。
　→「配列番号/名前」は「数値」か「名前」で呼び出しできます。
　　「数値」呼び出しで指定する方が処理は高速になります。
　　「名前」呼び出しは多少処理速度を犠牲にしますが、可読性が高くなります。
　※この2つは【別の配列】に保存されているので、「名前」モードで「数字」を入れても
　　「数値」呼び出し配列は呼び出せません。
　→「XY配列」の値は、[数値]呼び出しの配列なら代入特殊文字「\xy[1:2:3]」で、
　　[名前]呼び出しの配列なら「\xyN[TEST:1:2]」で表示可能です。
　→　DBと同じく、「挿入・抜き取り・コピー・ソート」などの各種データ操作や
　　　「CSVファイル入出力」も可能です。
　　　各種データ操作では「Y列のみ」に対して処理を行うオプションも使用できます。
　→　コモンイベント内では「配列番号/名前」さえ固定なら常に処理高速化が行われます。
　　　可変DBを2次元配列のように「CDB[TEST:Cself1:Cself2]」と変数2つを使う指定で
　　　アクセスする場合に比べ、「XY[TEST:Cself1:Cself2]」は5倍以上の速度で動作します。
　　（ただし「CDB[TEST:Cself1:キャラ名]」のように「真ん中だけ変数指定」した場合は、
　　　DBの方がさらにその3倍近く高速です。DBは「データ別アクセス」が強いのです）
　→　エディター内では、使用したXY配列の名前が最新500個まで記憶されます。
　　　(Editor.exeの場所にある「Editor_XY_array_Name.ini」に名前が保存されています)


●【文字列操作/新機能】「隠しコード実行」用のコマンドを複数追加。
　　　空イベント作成や経路探索機能は、作れるゲームの幅を広げられるでしょう。

　- 空イベント作成　<<MAKE_EVENT_X=??/Y=??>>(画像ファイル)
　　新たな空のイベントを作成し、作成したイベントの「ID」を
　　数値文字列として返します（23、など)。
　　
　・「??」部分には以下の「数値」を指定します。
　　X=??:設置するX座標
　　Y=??:設置するY座標
　　
　・「(画像ファイル名)」には「CharaChip/aaa.png」のような画像ファイル名、
　　あるいは「<TILE>32」（タイルセットの32番）のようなタイル番号を指定します。
　　  ※タイル番号は32以上でなければなりません（オートタイルは設定できないため）
　　  
　・その他のオプション　<<>>内に「/TR=??」などを追加で入れると反映されます
　　/TR=??:起動条件(1:決定キー 2:プレイヤー接触 3:イベント接触）を設定します。
　　　(「/TR=??」は省略も可、その場合は決定キー起動になります)
　　/HALF:「設置するX・Y座標」が[精密座標](2=1マス)になります。
　　/COPY=??:ID??のイベントをコピーして生成します。
　　　　　　 <<DELETE_EVENT_ID>>で消去できなくなるので注意してください
　　/EXTEND=?,?: 接触範囲拡張を数値で設定します、1つめの?がX拡張、2つめの?がY拡張です。
　　/SHADE=??: 影番号を数値??で設定します。
　　/ID=??: 生成するイベントのIDを??番に設定します。すでにその番号のイベントがある場合、
　　　　　「<<ERROR>> Invalid ID」が返され、イベント生成は行われません。

　　オプションを全部入れると、
　　　<<MAKE_EVENT_X=3/Y=5/TR=1/HALF/ID=10/COPY=3/EXTEND=4,2/SHADE=1>>CharaChip/AAA.png
　　のようになります。

　　※1マップ中に作れるイベントは10000個までです。
　　※/ID=?指定なしで生成されるイベントのIDは「一番番号が若い空きID」が使われます。
　　　IDが0番からみっちり詰まってたら新たな最終ID番号が使われます。
　　※生成されるイベントの「表示優先順位」は常に「後に作った方が上」です。
　　　ID番号で負けていても、後に作ったものほど上に表示されます。


　- 空イベントの削除 <<DELETE_EVENT_ID>>(イベントID)
　　指定した(イベントID)のイベントを削除します。
　　ただし対象は実質的に「空イベント」である必要があります。
　（ページ1のみ、イベントコマンドが空、決定キー起動、の3条件を満たす場合のみ）


　- 経路を探索する <<FIND_PATH_DIR??_SX=??/SY=??/EX=??/EY=??>>
　  オプション見本:<<FIND_PATH_DIR4_SX=??/SY=??/EX=??/EY=??/POS/TIME/EXE=10000/MOVE_EV=-2/XY=??>>
　   開始座標からゴール座標までの経路を探索し、文字列データとして返します。
　   経路は「24664882/END」のようにテンキーに対応した「向き」の数値列で返されます。
　   コードの「??」部分には以下を指定します。
　   　DIR= DIR8（8方向探索）かDIR4（4方向探索）を指定します。
　 　　SX、SY= 開始X、Y座標
　 　　EX、EY= 終了X、Y座標
　 　他のオプションは以下の通りです
　 　 /POS:返される経路文字列を「座標」式にします。
　 　 　　　「2,4/2,5/3,5/4,5/END」といった文字列が返されます。
　　　/TIME:ミリ秒の処理時間(TIME=)や処理数(EXE=)を「経路情報」の次の行に記載します。
　　　　　　 1回の処理数は「2万」が限界なので、探索距離の限界を知るのに使えるでしょう。
　　　　　　 TIMEは0～2(ミリ秒)を返すことが多いです。
 　　　　　　 ※1フレームは16.6ミリ秒なので長距離の経路探索を使いすぎると処理落ちします。
　　　/STEP: 最初の行に「24(=STEP)」のように移動予定の歩数情報が追加されます。
　　　　　　「経路情報」は次の行に記載されています。
　　　　　　先に移動予定の歩数を知っておきたい場合に。
　　　/LEN=?: ?には表示したい歩数の数値が入ります、?歩分の経路情報だけを返すようになります。
　　　　　　長距離の経路データを文字列として返すと
　　　　　　そのたびに文字列操作の処理に負荷がかかるため、
　　　　　　最小限の情報だけ欲しい場合にこれを指定してください。
　　　　　（経路探索自体は毎回フルで行われている点に注意して下さい）
　　　/EXE=?: ?には処理数の数値が入ります。経路探索にかける処理回数を指定します。
　　　　　　　初期値は5000で、100～200マスくらいは探索可能です。
　　　　　　　探索できない場合は数値を10000～20000などに増やしてみてください。
　　　/MOVE_EV=?: 「実行時点の各イベントの当たり判定」も考慮した経路を算出します。
　　　　　　「?」には「動かしたいイベント」のIDを指定することで、
　　　　　　 それ以外のイベントの当たり判定が考慮されます。
　　　　　(「?」が「-1」なら実行されたMapEvのID、「-2」なら主人公 になります）
　　　　　　イベントの当たり判定は、移動中や半マスずれた場所にいるときは
　　　　　　大きめに計算されます。
　　　/XY=?: ?にはXY配列の「番号」を指定します(「名前」指定はできません）。
　　　　　　 経路データをXY配列に出力できます。このとき、
　　　　　　 「X列」は歩数の軸で、各X列内には [Y=0]経路X値 [Y=1]経路Y値 の
　　　　　　 2データが格納されます。たとえばXY配列のX列4、Y列1には、
　　　　　　 「4」歩目の「1=次の向きのY軸差分(/POSありならY座標)」の値が入ります。

　　※この経路探索は1×1マス以上の道のみ認識します。半マスの隙間は認識しません。
　　※この経路探索は高速な代わりに、確実に最短経路を算出するものではありません。
　　　大きく遠回りするルートだと、たとえそれが最短でも採用されない場合があります。
　　※この経路探索は「マップの通行設定のみ」を見て経路を算出します。
　　　『イベントの当たり判定は考慮されません』。
　　　そのため、マップイベントで道を塞いでいる場合でも
　　　その経路を通ろうとしてしまう場合がありますのでご注意ください。
　　（そのマップイベントの足下に一時的に透明の通行不能タイルを設置するなどして対処が可能です）


　- イベント名を変更　<<SET_EVENT_NAME_ID=??>>(新イベント名)
　　イベントID「??」のイベントの名前を(新イベント名)に変更します。
　　空イベントを作成した後、イベント名をセットしたい場合にご利用ください。

　- コモンイベント番号から名前を得る　<<GET_COMMONEVENT_NAME_FROM_ID>>(コモンイベントID)
　　指定した(コモンイベントID)の数値に対応するコモンイベント名を取得します。
　　（コモンイベントID）が-1以下だったり範囲外だと<<NotFound>>が返されます。

　- ゲーム名の「メイン」を得る　<<GET_TITLE>>
　　これだけ入れると返り値としてゲーム名の「メイン」部分を得られます。
　
　- ゲーム名の「追記」を得る　<<GET_TITLE_PLUS>>
　　これだけ入れると返り値としてゲーム名の「追記」部分を得られます。

　- 指定バイトで文字列をカット　<<CUT_STRING_??_??>>(文字列)
　　(文字列)の??から??バイト目までを切り取ります。
　　「<<CUT_STRING_5_8>>ABCDEGGHIJK」なら「GGH」が返され、
　　「<<CUT_STRING_0_2>>ABCDEGGHIJK」なら「AB」が返されます(1文字目の前は「0」です）。
　　→　ただしそのバイト値がUTF-8文字(ひらがななら3バイト）の途中になっていたなら、
　　　　その「直後」の文字の区切りまで返します。
　
　- 指定行でカット　<<CUT_LINE_STRING_??_??>>(文字列)
　　(文字列)の??行目の始まりから??行目の最後まで切り取ります。「0」が1行目です。
　　「<<CUT_LINE_STRING_0_0>>ABC(改行)DEF」ならABCが返されます。
　　「<<CUT_LINE_STRING_1_2>>ABC(改行)DEF(改行)GHI」なら「DEF(改行)GHI」が返されます。
　
　- 指定幅で自動改行する　<<AUTO_RETURN_STRING_WIDTH_COUNT=??>>(文字列)
　　指定幅??を超えないように(文字列)を自動改行します。
　　幅は半角文字1、全角文字2としてカウントされます。

　- 画像のX、Y座標の不透明度、RGB値を得る <<GET_IMAGE_ARGB_X=?/Y=?>>(ﾌｧｲﾙ名)
　  (ファイル名)[例:CharaChip/aaa.png]で指定した画像の、X=?、Y=?座標のピクセルの
　  不透明度、RGB値を「不透明度(改行)R値(改行)G値(改行)B値」の文字列で得られます。
　  不透明度やRGB値はそれぞれ0～255の値を取ります。
　→　1枚絵上の「何か画像がある場所」を1マスごとに「不透明度」を取得して
　　　当たり判定に使ったり、「立ち絵のなにもない場所」を調べたりするのに使えます。

　- 画像の横、縦サイズを得る  <<GET_IMAGE_SIZE>>(ファイル名)
　　(ファイル名)[例:CharaChip/aaa.png]で指定した画像のサイズを、
　　「横サイズ(改行)縦サイズ」という文字列として得られます。

　- 4つのXY配列に画像を読み込む(数値呼び出しXY配列)
　 <<LOAD_IMAGE_TO_XY/A=?/R=?/G=?/B=?>>(ファイル名)
　　(ファイル名)[例:CharaChip/aaa.png]の画像をXY配列として読み込みます。
　　 ?、??には数値を指定しますが、何も入れなければ読み込まれません。
　　上の例では、アルファ値(不透明度)、R値、G値、B値について
　　A=?/R=?/G=?/B=?で指定した「数値」番のXY配列に保存されます(0-255の値)。

　- 4つのXY配列に画像を読み込む(名前呼び出しXY配列)
　 <<LOAD_IMAGE_TO_XYN/A=???/R=???/G=???/B=???>>(ファイル名)
　　「<<LOAD_IMAGE_TO_XY/A=?/R=?/G=?/B=?>>(ファイル名)」とほぼ同じですが
　　各???で指定した「名前(文字列)」のXY配列に画像情報が保存されます。
　　
　- 4つのXY配列(ARGB)から画像出力(数値呼び出しXY配列)
　 <<SAVE_PNG_FROM_XY/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>>(ファイル名)
　  (ファイル名)[例:CharaChip/aaa.png]に、4つのXY配列「?」番に記述された
　  A、R、G、B値に従って横幅XSIZE=??ピクセル、縦幅YSIZE=??ピクセルの
　  PNG画像を出力します（?、??には数値を指定します）。
　　ARGBのXY配列内には、0-255の範囲で値を格納してください。
　　※「暗号化されたフォルダ」内には出力できないので注意してください。
　　　もしセーブフォルダ内に出力する場合は(ファイル名)を
　　　「../Save/aa.png」のように指定してください。

　- 4つのXY配列(ARGB)から画像出力(名前呼び出しXY配列)
　 <<SAVE_PNG_FROM_XYN/A=???/R=???/G=???/B=???/XSIZE=??/YSIZE=??>>(ファイル名)
　　「<<SAVE_PNG_FROM_XY/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>>(ファイル名)」と
　　ほぼ同じですが、各???で指定した「名前(文字列)」のXY配列に画像情報が保存されます。

　-  各DBのタイプAの項目Bが「文字列」項目なら0、「数値」項目なら1を返す
　　 <<GET_ISNUMBER_CDB_ITEM/TYPE=?/ITEM=?>> : 可変DB
　　 <<GET_ISNUMBER_UDB_ITEM/TYPE=?/ITEM=?>> : ユーザDB
　 　<<GET_ISNUMBER_SDB_ITEM/TYPE=?/ITEM=?>> : システムDB
　 たとえば「<<GET_ISNUMBER_CDB_ITEM/TYPE=4/ITEM=2>>」と指定すると、
　 可変DBのタイプ4、項目2が数値項目なら「1」、文字列項目ならば「0」、
　 そもそも存在しないタイプや項目なら「-1」を返します。
　 ※タイプ番号、項目番号を「名前」から取得したい場合は
　  「DB操作」コマンドで得ることが可能です。
　
　- .wolfx暗号化ファイルの読込チェック <<LOAD_CHECK_WOLFX_FILE>>(ファイル名)
　　.wolfx暗号化した(ファイル名)を「Data/～」として指定すると
　　今の状態でその.wolfxファイルが正常に読み込みできるか判定できます。
　　 + キーが正しく、正常に読み込める場合は「1」が返されます。
　　 + キーが正しくない場合、「<<Failed>>」が返されます。
　　 + .wolfxファイルがなかった場合「<<NotFound>>」が返されます。
　　 + 「.wolfx」を付けずにファイル名を指定しても自動で.wolfxを付けて判定されます。


●【文字列操作/新機能】「隠しコード実行(<<から始まる)」コマンドを追加。
　　　　これまで「に↓のﾌｧｲﾙ内容読込」で行っていた隠しコードの
　　　　実行用コマンドを明示的に分離しました。
　　→　以前の通り、「に↓のﾌｧｲﾙ内容読込」でも隠しコードは実行可能です。


●【文字列操作/新機能】「から正規表現で()内を抽出」コマンドを追加。
　　　　　　　指定された正規表現で()内の文字列だけ抽出し、改行区切りで返します。
　　　→ 正規表現内では、ウディタの代入特殊文字は
　　　　 <<\s[1]>>のように<<と>>で挟んで記述した場合のみ機能します。
　　　→【例1】S1に「人数400人」が格納されているとします。
 　　　　　文字列操作：S1 =<正規表現で()内抽出> "人数(\d{1,4})人"
　　　　　と指定すると、(\d{1,4})部分に該当する「400」という数値だけS1に返されます。
　　　　　(\d:半角数字　{1,4}:直前の文字(ここでは\d)の1～4回の繰り返し）
　　　→【例2】S1に「人数400人500人」が格納されている場合に上と同じく
 　　　　　文字列操作：S1 =<正規表現で()内抽出> "人数(\d{1,4})人"
　　　　　と指定すると、S1には「400(改行)500」が格納されます。
　　　　（元文字列内で該当する場所が複数あった場合はそれぞれ抽出されます）


●【文字列操作/新機能】「から正規表現で置換」コマンドを追加。
　　　　　　　正規表現で置換対象を指定し、変換できます。
　　　→ 正規表現内では、ウディタの代入特殊文字は
　　　　 <<\s[1]>>のように<<と>>で挟んで記述した場合のみ機能します。
　　　→【例】S1に「人数400人」が格納されているとします。
　　　　文字列操作：S1 =<正規表現で置換> "(\d{1,4})" → "$1ですよ$1"
　　　　　と指定すると、S1には「人数400ですよ400人」という数値が返されます。
　　　　※元の文字列「人数400人」に対し、(\d{1,4})で「400」をとらえ、
　　　　　その部分を「400ですよ400」に置換しています。
　　　　 (\d:半角数字、{1,4}:直前の文字(ここでは\d)の1～4回の繰り返し、
　　　　　$1:1つめの()内で囲んだ内容を再現）



●【文字列操作/新機能】「に↓から指定文字まで切り出し(+↓文ｶｯﾄ)」コマンドを追加。
　　　指定文字までを切り出した値を左辺に代入し、右辺に残りを代入します。
　→　従来は「から指定文字まで切り出し」と「の指定文字以降を切り出し」の
　　　2コマンドがありましたが、「に↓から指定文字まで切り出し(+↓文ｶｯﾄ)」は
　　　この2コマンドを同じ文字列に対して1回で行える処理となります。
　→　処理の最適化も行われており、上の2コマンドを実行するより高速です。



●【変数操作+/新機能】取得できる情報を追加しました。

+【キャラ】コマンドに追加
- 画面X座標(ｷｬﾗ中央/ﾏｯﾌﾟｽﾞｰﾑ反映)
- 画面Y座標(足下/ﾏｯﾌﾟｽﾞｰﾑ反映)
　→　通常の画面X・Y座標と違い、「マップズームの拡大率」の影響を加味した
　　　現在の画面上の座標を返します。

- すりぬけ属性[1=YES 0=NO]


+【位置】コマンドに追加
- 画面X座標(ﾏｽ中央/ﾏｯﾌﾟｽﾞｰﾑ反映)
- 画面Y座標(ﾏｽ中央/ﾏｯﾌﾟｽﾞｰﾑ反映)
 → そのマスの中央の「マップズームの拡大率」の影響を加味した
 　画面座標が返されます。

- キャラ通行可能方向[1上+2左+4右+8下]
- タイルのカウンター属性[1=YES 0=NO]


+【位置】の【画面座標】用コマンド追加 （「画面座標」は新規追加）
　「画面座標(ピクセル単位)」を指定し、その位置の情報を得ることができます。

- px座標のイベントID(ﾏｯﾌﾟｽﾞｰﾑ加味)
　→　指定座標下にイベントがあるか判定できます。
　　　入力にマウス座標(Sys71～72:ﾏｳｽXY座標）を指定すれば
　　　マウス下のイベントを返します。マップズームも考慮します。
　　　
- px座標のイベントID+範囲拡張(ﾏｯﾌﾟｽﾞｰﾑ加味)
　→　接触範囲拡張部分も含めたイベントIDを取得できます。
　
- px座標のマップX(ﾏｯﾌﾟｽﾞｰﾑ加味)
- px座標のマップY(ﾏｯﾌﾟｽﾞｰﾑ加味)
- px座標の精密マップX(ﾏｯﾌﾟｽﾞｰﾑ加味)
- px座標の精密マップY(ﾏｯﾌﾟｽﾞｰﾑ加味)
- px座標に対応するマップpx座標X[ｽﾞｰﾑ加味]
- px座標に対応するマップpx座標Y[ｽﾞｰﾑ加味]
　→ マップの一番左上(0,0マスの左上)からの「マップの」ピクセル座標を取得します。
　　スクロールやズームも加味した値となります。

- px座標の最上ﾋﾟｸﾁｬID[Z加味/なし:-20億]
- px座標の最上ﾋﾟｸﾁｬID[Z無視/なし:-20億]
- ピクセルのR値
- ピクセルのG値
- ピクセルのB値
　→　ピクセルのRGB値は、指定画面座標の1ピクセルの
　　　RGB値を0～255で返します。


+【ピクチャ】コマンドに追加
- ピクチャの横分割数
- ピクチャの縦分割数
- カラーR・G・B値
- 表示形式[0:通常 1:加算 2:減算 3:乗算]
- スクロールとリンク[ON=1]
- 設定された処理時間フレーム
- 現在の残り処理時間フレーム
- 最小の発動ディレイ[1以上のみ,なければ-1]
- 最大の発動ディレイ[なければ-1]
- IDより前にあるピクチャ番号[なし:同値]
- IDの次にあるピクチャ番号[なし:同値]


+【その他】コマンドに追加
- 今ﾌﾚｰﾑに決定/接触起動したﾏｯﾌﾟEvID(なし:-1)
　→　これを使えば新たに生成した空イベントの起動も検知できます。
　　　ただし起動した瞬間の1フレームしかイベント値を返さないので注意してください。

- マウスが画面内にあるか？(YES=1)

- ﾏｳｽ座標の範囲拡張EvID(小さいID優先,なければ-1)
　→　接触範囲拡張も考慮した範囲でマウス座標下のイベントIDを得ます。




●【条件(文字列)/新機能】比較コマンドとして「を含まない」「が最後にある」
　　　　　　　　　　　　「の正規表現と一致」の3つが追加。
　-「を含まない」：比較する文字列を「含まない」場合に条件を満たします。
　-「が最後にある」：比較する文字列が「左辺の最後にある」場合だけ条件を満たします。
　-「の正規表現と一致」：比較する文字列を「正規表現」として条件判定します。
　　　　　　　　　「正規表現」は幅広い文字列を対象にできる記法です。
　　　　　　　　　正規表現内でのウディタの代入特殊文字は
　　　　　　　　　<<\s[1]>>のように<<と>>で挟んで記述した場合のみ機能します。


●【キー入力/新機能】「基本キー」「キーボード」「パッド」「マウスのクリック」時、
　　　　　「通常の押し状態を取得」「押されるまで【待つ】」
　　　　　「新押し時のみ取得」「離した時のみ取得」
　　　　　「押し続けフレーム数」の5択で取得できるように修正。
　→　「キーが押されるまで待つ」は「押されるまで【待つ】」のプルダウンへ移行し、
　　　 従来のチェックボックスは撤廃されました。

　-「通常の押し状態を取得」:キーが押されている間、値を返し続けます。
　-「押されるまで【待つ】」:従来の「キーが押されるまで待つ」と同じで、
　　　　　　　　　　　　　　当該キーが押されるまで処理が進まなくなります。
　　　　　　　　　　※これ以外はキーが押されていなくても処理が進みます。
　-「新押し時のみ取得」:新たにキーが押された1フレーム中だけ値を返します。
　-「離した時のみ取得」:新たにキーが離された1フレーム中だけ値を返します。
　-「押し続けフレーム数」:選択されたキーの押し続けているフレーム数を返します。
　　　　　　　　　　　キーが複数選択されている場合は「押された時間が一番長いキー」の
　　　　　　　　　　　押し続けフレーム値を返します。



●【ピクチャ/新機能】4つのXY配列を画像としてピクチャ表示する機能を実装。
　　「ファイル読み込み」で
　　「<XY_IMAGE/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>」または
　　「<XY_IMAGE/A=?/R=?/G=?/B=?>」とファイル名に指定すると、
　　各XY配列「?」番のアルファ値(A)とRGB値から作られた画像を表示します。
　　XSIZE=??、YSIZE=??の「??」には表示する画像のサイズを指定します。
　→ なお、上はXY配列を「番号」呼出する場合のコマンドです。
　→ もし配列を「名前」呼び出しで指定したい場合は
　　「<XYN_IMAGE/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>」または
　　「<XYN_IMAGE/A=?/R=?/G=?/B=?>」のように「XYN」から始まるように書いてください。
　→　「A=/」のように[?]部分に何も入れなかった場合、以下の配列がセットされます。
　　　●A=全て255で塗りつぶされた配列。
　　　●R・G・B=全て0で塗りつぶされた配列。
　→　ロード時には【ロード時点の各XY配列の内容】に従って
　　　ピクチャが再構成されます。
　　　XY配列を変更していなければロード時も同じものが表示されます。


●【ピクチャ/新機能】画像の指定時、「<MAP_SCREENSHOT>」と入力すると
　　　　その時点の「マップ画面のみ」をピクチャとして表示することができます。
　　→　すでに搭載されている「<SCREENSHOT>」（全画面をピクチャ取り込み）と違い、
　　　　<MAP_SCREENSHOT>はピクチャID「0」以上のピクチャの干渉を受けないので
　　　　様々な使い方が可能です。
　　　　たとえば画面を上下反転にさせたままマップを移動させることもできます。
　　→　マップを使わない人でも、ピクチャ「-1」以下のピクチャはマップ画面に
　　　　含まれるため、裏で絵を描いて<MAP_SCREENSHOT>で保持しておくことが可能です。


●【エフェクト/新機能】「画面のスクロール」に「横スクロールロック」と
　　　　　　　　「縦スクロールロック」を追加。縦横個別にロック可能になります。
　　→　旧「スクロールをロック」は「縦横スクロールロック」に名前変更されました。


●【エフェクト/新機能】4つのXY配列を画像としてキャラクター画像に設定できる機能を追加。
 「キャラ」のエフェクトの「キャラチップ変更」「重ねキャラチップ変更」にて、
  キャラクター画像のファイル名にXY配列による画像が指定できます。
  ・「番号」呼び出しのXY配列なら
　　「<XY_IMAGE/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>」または
　　「<XY_IMAGE/A=?/R=?/G=?/B=?>」、
　・「名前」呼び出しの配列なら
　　「<XYN_IMAGE/A=?/R=?/G=?/B=?/XSIZE=??/YSIZE=??>」または
　　「<XYN_IMAGE/A=?/R=?/G=?/B=?>」
　と指定すると、各XY配列「?」のアルファ値(A)とRGB値から作られた画像を
　イベントや主人公に設定できます。
　→　ロード時には【ロード時点の各XY配列の内容】に従って
　　　画像が再構成されますので注意してください。
　　　XY配列を変更していなければロード時も同じものが表示されます。



●【エフェクト/新機能】「キャラ」に「ピクチャをリンク」機能が搭載されました。
　　ピクチャに、「キャラクターの座標・拡大率」を連動させることができます。
　　また、表示優先度をキャラと同じレイヤーにすることもできます。

　→　自動でキャラクターを追随するので、たとえば「影」や「体の前後に出るオーラ」、
　　「頭の上に出るメッセージやマーク」、「キャラの下に表示されるゲージ」などが
　　非常に作りやすくなります。
　→　表示優先度を完全にキャラに合わせることもできるので、
　　「リンクさせた[ピクチャ]が他のキャラクターや壁、▲チップに隠れるようになる」
　　という実装が可能です。
　　キャラクターに対する様々なピクチャ演出が、自然かつ簡単に実現可能になります。

　設定可能な内容は以下の通りです。
　・ピクチャID：リンクしたいピクチャを設定します。

　・リンクさせるレイヤー
　　- をキャラの表に：キャラのすぐ表側にピクチャが表示されます
　　　　（キャラ本体と同じく、リンクさせたピクチャが他キャラや▲チップで隠れます）
　　- をキャラの裏に：キャラのすぐ裏側にピクチャが表示されます。
　　- を影レイヤーに：「全てのキャラの足下」のレイヤー、かつ
　　　　　　　　　　　「地面のY座標(キャラの「高さ」を変更しても変化しません）」に
　　　　　　　　　　　ピクチャが表示されます。
　　- ピクチャのまま：ピクチャのレイヤーのまま、キャラの座標や拡大率のみ反映し続けます。
　　- リンク解除：そのキャラから指定ピクチャ1枚のリンクを解除します。
　　- 全リンク解除：そのキャラから全てのリンクされたピクチャを解除します。

　・連動させるパラメータ
　　- XY拡大連動：（マップズームを考慮した）画面X・Y座標をピクチャに「加算」し、
　　　　　　　　　マップズームによる拡大率の変化をピクチャにも反映させます。
　　- XYのみ連動：（マップズームを考慮した）画面X・Y座標をピクチャに「加算」します。
　　　　　　　　　マップズームの拡大率はピクチャに反映されません。

　※テストプレイ中にF11でマップを読み込み直すと、マップイベントに対する
　　ピクチャリンクも全てはずれますのでご了承下さい。
　　（テスト中のF11は、マップイベントへの全てのエフェクトが解除されます）


●【エフェクト/新機能】「キャラ」の「重ねキャラチップ変更」機能が
　　　　　大幅に拡張されました。
　　　
　-【レイヤー無制限・レイヤー番号やサイズが自由に】
　　従来の「5枚制限」と「画像サイズ制限」がなくなり、
　　「レイヤー指定もマイナスの値を指定できる」ようになりました。
　　マイナスのレイヤーを指定すると「本体画像の裏側」に表示されます。
　 　→　なお、このコマンドでレイヤー「0」を指定すると本体画像が変更されます。

　-【レイヤーごとにエフェクトをかけられる】
　  ファイル名の先頭に<<>>で囲われた特殊なコードを入れると、
　　1レイヤーだけ「座標補正」したり、描画モードを「加算」に変えたり、
　　「色相」や「不透明度」を変更できます。
　入力例：
　 <<X+=5/Y+=-1/OPA=128/MODE=1/HUE=90/SAT=100/BLI=100/HALF>>CharaChip/test.png
　　・X+=?：X座標の表示位置を?ピクセルだけ加算します。マイナス値も指定可能です。
　　・Y+=?：Y座標の表示位置を?ピクセルだけ加算します。マイナス値も指定可能です。
　　・OPA=?：レイヤーの不透明度を0～255で補正します。
　　・MODE=?：レイヤーを、?=1なら「加算」、2なら「除算」、3なら「乗算」にします。
　　・HUE=?:レイヤーの色相を0～360で補正します。0なら変化なしです。
　　・SAT=?：レイヤーの彩度を-255～255で補正します。0なら変化なしです。
　　・BLI=?：レイヤーの明るさを-255～255で補正します。0なら変化なしです。
　　　　　　　-255だと真っ黒、255だと真っ白になります。
　　・BLR=?：レイヤーをぼかします。ただし元の画像サイズの範囲以上には広がりません。
　　　　　　 元画像をぼかすので、キャラチップの隣のパターンにも
　　　　　　 ぼかし部分が漏れる可能性があります。
　　・HALF：レイヤーの画像のサイズを1/2にします
　　・QUAT：レイヤーの画像のサイズを1/4にします。HALFより優先されます。


●【エフェクト/新機能】「ピクチャ」の大部分のエフェクトに「ディレイ」指定可能に。
　　　→　ディレイをかけた「エフェクト」コマンドは、
　　　　　「ピクチャ」コマンドの「ディレイリセット」を行うと解除されます。
　　　　（内部的にはピクチャのディレイリセットと共通した処理で動作しています）



●【サウンド/新機能】BGS使用時、「BGSチャンネル」が指定可能に。
　　　　　　　　　　同時に複数のBGSを再生することが可能になります。
　　　→　ただし「システムDBから直接選択」や「変数で指定」の場合、BGMと全BGS内で
　　　　「同じファイル名」の音声を「異なるタイミング」で再生させることはできません。
　　　→ 「ファイル指定」した場合のみ、同じファイルでも時間をずらして再生可能です。
　　　→　従来からある Sys97「再生中BGS音量(Ch=Sys99)[%]」などのBGSのパラメータは、
 　　　　Sys99「対象とするBGSﾁｬﾝﾈﾙ[Ch]」の値を変更することで
　　　　「対象とするBGSのチャンネル」を変えることができます。



●【サウンド/新機能】BGM・BGS・SEの「通常再生」において「パン」を搭載しました。
　　　　　　　　音の出ている方向を左右に偏らせる機能です。
　　　　　　　　-255にすると左側寄り、255にすると右側寄りで聞こえます。


●【動作指定/新機能】移動コマンドに「自動移動」機能を追加。
　　　　　　　指定座標まで経路探索を行って自動で移動させられます。
　　　　　　　[単純][スマート][大負荷]の3種があります。
　- [単純]：最初に「マップ通行設定のみ(Evはないものとする)」で移動ルートを計算し、
　　　　　　以後はルート通り進みます。
　　　　　　進路上に他のイベントや主人公がいた場合は止まります。20マス程度の短距離向け。
　　　　　→　プレイヤーやイベントが道を塞いで止まってしまっても問題ない状況向け。
　- [スマート]：最初に大局的な進行ルートを「マップ通行設定」のみで取得し、
　　　　　　　基本はその道に沿って移動しますが、もし他イベントや主人公が
　　　　　　　経路を塞いでいた場合は少し迂回して移動します。20マス程度の短距離向け。
　　　　　→　それなりに賢く移動させたい場合はこれがおすすめです。負荷もほどほど。
　　　　　　　ただし「イベントでゴールまでの通路が塞がれている」場合は
　　　　　　　途中で止まってしまいます。
　- [大負荷]：大局的な進行ルートも「マップとイベント両方込み」の当たり判定で取得し、
　　　　　　通行できない場合や低頻度で大局的なルートを再取得し直します。
　　　　　　かなり遠くまでの経路も発見できますが負荷が高いです。
　　　　→　イベントが完全に道を塞いでいて、非常に遠回りせねばならない状況でも
　　　　　　経路探索に成功する可能性があります。
　　　　　　ただし「ランダム移動するキャラがたまたま経路を塞いでいる」場合も
　　　　　　それに敏感に反応して大局的な進行ルートを変えてしまったり、
　　　　　　「道がない」と判断して一時的に止まってしまったりする場合があります。

　・自動移動・一歩のみ … このチェックをオンにしていると、自動移動を1歩行った時点で
　　　　　　処理終了します。「移動する主人公を追跡する」など、自動移動のゴール位置が
　　　　　　移動する場合にはこのチェックをオンにして毎歩自動移動をし直してください。

　【自動移動を開始する条件】
　・「マップ自体が通行判定×」または「マップ的に到達不能」な場合は移動開始しません。
　・「マップ上は通行判定○」だがその上に「通行不能なイベント」がある場合は、
　　経路計算をして移動開始し、最後のイベントの手前で止まります。
　・「回り道しなければならない量」が一定量を超えると移動が行われない場合があります。
　　→　ルート検索範囲は「移動先が遠い」ほど広くなるため、
　　　「座標上は2マス先にあるが、100歩以上回り道しないとたどり着けない場所」
　　　 などには弱く、移動が行われないことが多いです。

●【動作指定/新機能】「(指定XY)の座標にジャンプ」機能を追加

●【動作指定/新機能】「▼マップウィンドウを開く」ボタンを追加。
　　　　　　　　　動作指定設定中も出したままにしておけるマップ画面が開きます。
　　　　　　→　そのマップ画面内でダブルクリックすると、その座標が
　　　　　　　「動作指定ウィンドウ」側の「座標指定」欄に格納されます。


●【場所移動/新機能】場所移動オプションに「移動後の向き」を指定できる機能を追加。




●【プロ版機能/新機能】「ゲームパッド振動」コマンドを追加。パッドを振動させられます。
　　　　　　　　　　　「強度[0-1000]」と「時間[ms]」を設定して使用します。
　　　　　　　→　「強度0」で実行すると振動中のゲームパッドを停止させられます。



◆システム変数・特殊文字

●【システム変数】「Sys93:再生中BGMパン」「Sys94:再生中BGSパン(Ch=Sys99)」を追加。
      　　　BGM・BGSの再生中にパンの値を変更、あるいは取得できます。

●【システム変数】「Sys99:対象とするBGSﾁｬﾝﾈﾙ[Ch]」を追加。
　　　　　情報を取得・格納したいBGSの「チャンネル」を指定できます。
　　　　　「変数操作+」にも影響します。

●【システム変数/新機能】 Sys114「[読]動作ﾊﾞｰｼﾞｮﾝ調整(x100)」を追加。
　　　「ゲーム基本設定」で設定されている「Game.exe動作バージョン調整」値を返します。
　　　（「最新版の挙動で動作」ならGame.exeのバージョン値を返します）


●【システム変数/新機能】Sys150「特殊文字変換を無効化[1=ON]」を追加。
　　　　　「1」になっている間、文章の表示、文字列操作、条件(文字列)、
　　　　　ピクチャやサウンドなどの様々なファイル読み書き時に、
　　　　　\s[0]や\cself[1]、\f[12]などの特殊文字を変換せず
　　　　　そのままの文字列として保持します。
　　→　なお、代入特殊文字が入れ子になっていた場合は、
　　　　「最大で2回」まで変換が行われます。
　　　　たとえば、文字列変数\s[0]の中に「\s[1]AAA」が入っており、
　　　　文字列変数\s[1]に「\s[2]BBB」が格納されていた場合、
　　　　文章の表示で「\s[0]」を表示すると「\s[2]BBBAAA」が表示されます。
　　　　このとき、\s[2]は変換されずに表示されます。
　　　（「\s[0]」→「\s[1]AAA」→「\s[2]BBBAAA」の2回分まで処理されるわけです）


●【特殊文字/新機能】「\img(S)」特殊文字の裏技として「画像分割表示機能(DIV)」、
　　「部分切り出し表示機能(CUT)」、「アニメーションアイコン機能(ANIME)」を追加。
　　「\img[」の直後に<DIV/X3……>のようなコードを入れることで使用可能です。
　　使用見本は以下の通りです。

- 分割表示　\img[<DIV/X3/Y4/5>Pic/Test.jpg]
　　「Pic/Test.jpg」を横3、縦4パターンで分割し、パターン5を表示します。
　　パターン番号はピクチャと同じで、「1」から始まります。

- 部分切り出し　\img[<CUT/X123-150/Y200-300>Pic/Test.jpg]
　「Pic/Test.jpg」の X123～150、Y200～300pxの範囲だけ表示します。
　 X0-2なら0ピクセル位置から幅2ピクセル分だけ表示されます。

- アニメアイコン　\img[<ANIME/X3/Y5/12>Pic/Test.jpg]
　「Pic/Test.jpg」を横3、縦5パターンで分割し、12フレームごとにアニメーションします


●【特殊文字/新機能】文中で効果音を鳴らす「\se[(音声ファイル名)]」を追加。
　　　　→　「\se[<VOL=80/FREQ=90>SE/test.ogg]」という風に
　　　　　　「\se[」の直後に「<VOL=(音量)/FREQ=(周波数)>」を入力すると
　　　　　　音量と周波数を変更して再生できます。


●【特殊文字/新機能】代入特殊文字として\xy[?:?:?]、\xyN[!:?:?]を追加。
　・\xy[?:?:?] : ?には数値で「配列番号・X列番号・Y列番号」を指定します。
　　　　　　　「数値呼び出し」のXY配列の指定項目の数値を表示します。
　・\xyN[!:?:?] : !には文字列で「配列名」、?には数値で「X列番号・Y列番号」を指定。
　　　　　　　「名前呼び出し」のXY配列の指定項目の数値を表示します。
　　　　　　　　　
　→ \xy[?:?]や\xyN[!:?]を指定すると「Y列1列分の数値」を[改行]区切りで表示します。
　
　→ \xy[?]や\xyN[!]で指定するとそのXY配列番号/名の内容を全て表示できます。
　　（「横がX列」「縦がY列」の並びになります。
　 　　\xy[?:1:2]の値は左から2番目、上から3番目に出ます）


●【特殊文字/新機能】ルビの色を変更できる\cR[?] （Sys12の色を?で指定）、
　　　　　　　　　ルビのサイズを変更できる\fR[?]の特殊文字を追加。
　　　　　→　ルビ\r[A,B]の前に指定してください。ルビの「B」内では機能しません。




◆ファイル関連

●【オートタイル/新機能】オートタイル画像ファイル名に「AAA_FRAME=4.png」という風に
　　　　　　　　「_FRAME=(フレーム数)」と入れると、そのオートタイルの
　　　　　　　　アニメーションフレーム数を変更できる機能を追加。
　　　→　オートタイルのアニメフレームのデフォルト値は「20フレーム」です。



●【ゲームデータ作成/新機能】「暗号化バージョンの選択」に
　　　　　「Ver3.50暗号化」と「ChaCha20 v1.0(標準暗号)」を追加。
　　　　　プロ版のみプロテクト使用時用限定の「プロテクト時Ver1.2暗号化」追加。
　　　　　
　→ 「ChaCha20」は(将来あるかもしれない)スマートフォン展開時にも
　　　問題が起きにくい「標準的な暗号化アルゴリズム」による暗号化方式です。
　　 この暗号化使用時はセーブデータ保存時の暗号化もChaCha20に変わります。
　（アプリをリリースする際、暗号化の種類を答えなければならない場合に
 　「ChaCha20」なら「標準的な暗号化アルゴリズムのみ」であると申告できます）




●【プロ版 ファイル個別暗号化】
　ファイルを個別に暗号化できるようになりました。
　暗号化されたファイルには「.wolfx」の拡張子が追加されます。
　EditorPro.exeの「ファイル」→「ファイル個別暗号化(.wolfx)[Pro版]」ウィンドウから
　ファイルの暗号化ができます。

　この暗号化を行ったファイルはゲーム中、
　- 「(「プロ版機能」でセットできる)復号キー」、
　- 「指定した文字列変数」
　- 「指定した数値変数」
　の3つが特定の値と一致している場合だけ、ゲーム内から読み込むことが可能になります。
　このうちのいくつか、あるいは全てを使わないようにすることも可能です。
　（全てを使わない場合、直接Windows上から読めないだけでGamePro.exeからは
　　何もしなくても読めるファイルになります。解析には無力です）

-【ゲーム中にキーを設定して読み込ませます】
 　- ゲーム中、「プロ版機能」内の「暗号化ファイルの復号キーをセット」コマンドを使い、
　  「指定ファイル」に対して「復号キー」をセットできます。
　  
 　-「指定した文字列変数/数値変数」のキーとしては、そのファイルが使われる
 　 「シーン名」や「章番号」をセットしておくことを想定しています。

- 【.wolfxファイルがある場合、元ファイルを指定しても
　　優先的に.wolfx暗号化ファイルが読み込まれます】
　たとえば「CharaChip」フォルダ内に「Chicken.png」があり、
　それを個別ファイル暗号化して「Chicken.png.wolfx」ファイルを作ったとします。
　この場合、ゲーム内で「CharaChip/Chicken.png」ファイルを読み込もうとすると、
　自動で「CharaChip/Chicken.png.wolfx」ファイルを読み込もうとします。
　つまりテストプレイ中でも、「元ファイル」をファイル指定しておけば
　「自動で暗号化ファイルの方を読み込んでくれる」のです。

- 【ゲームデータ作成時、.wolfxファイルが作られているときは
　　元ファイルはゲームデータにコピーされません】
　「CharaChip」フォルダ内に「Chicken.png」と、それを暗号化した
　「Chicken.png.wolfx」ファイルがあった場合、「ゲームデータ作成」を行うと、
　「Chicken.png.wolfx」のみコピーされ、元の「Chicken.png」はコピーされません。
　よって、ゲームデータを作成する際に、いちいち元ファイルを消す必要はありません。


-【セットした復号キーはセーブデータに保存されています】
   ゲーム中にセットした復号キーはセーブデータ内に保存されます。
 　ゲーム開始時にファイルやフォルダ別の復号キーを一通りセットしておけば、
 　以後、特に復号キーを意識せずにファイルを扱うことが可能です。
（一方、もしファイルを強力に守りたい場合は、
　「様々な場所で数文字ずつキーを追記して復号キーを作る（解析を難しくする）」
　「復号キーをオンラインからダウンロードして使用後にすぐ消す（セーブデータに残さない）」
　などすると、攻撃者にとって解析が非常に難しくなるため、ファイルのセキュリティが向上します）


-【暗号化可能なファイル形式】
  - txt、png、ogg、mps（マップファイル）など、ゲーム中にイベントコマンド経由で
 　読み込まれる多くのファイル形式を暗号化することができます。
 　「.dat」ファイル、「.project」ファイルなどは暗号化できません。
 　
  - ttf/ttc/otfのフォントファイルも暗号化できますが、キーは何も設定できません。
 　(起動時に自動で読み込まれるためです。「Game.exeと同じ場所」あるいは
 　「Dataフォルダ内」に暗号化した「ttf.wolfx」フォントなどを
 　 置いておくと自動で読み込まれます)


-【mpsファイルに暗号化ファイルがあった場合、暗号化ファイルも自動で同時保存】
　　マップファイル保存時、もしそのファイルの.wolfxファイルがあったら
　　自動で暗号化版も保存し直します。でないとテストが大変になるためです。
　　(ただし個別ファイル暗号化の「履歴」内にそのマップファイルの
　　 暗号化情報がある場合のみ）


-【この暗号化の立ち位置について】
 「ゲームデータ作成時」時のフォルダ暗号化は時間が経つと割と解析されがちなので、
 　少しでもセキュリティを上げたい人はこのファイル個別暗号化を
 　最後のセキュリティとしてご利用ください。
  「オンライン上から『復号キー』をDLし、ファイル使用後は復号キーをすぐリセット」
　 といった使い方にすると、ファイルの守りは非常に強固になります。



●【プロ版機能/新機能】「.wolx暗号化ﾌｧｲﾙの復号キーをセット」と
　　　　　　　　「.wolfx暗号化ﾌｧｲﾙの復号キーを全リセット」の
　　　　　　　2コマンドが増えました。上記のファイル個別暗号化に使います。
　　　　　　　
-【裏技：フォルダごと復号キー指定】
 　「.wolx暗号化ファイルの復号キーをセット」で「フォルダ(/で終わること)」を指定した場合
 　そのフォルダに入っているファイル全てに同じ復号キーをセットしたことになります。
 　（個別にセットされている復号キーがあればそちらが優先されます）


-----------------------------------------
【エディター内のみの新機能】

◆ウィンドウ設定関連

●【エディターオプション/新機能】「タブウィンドウ」機能を追加しました。
　オンにすると編集位置を各タブに保持することができ、切り替え可能になります。
　→　コモンイベント・データベース・マップイベントウィンドウの
　　　それぞれのタブのオンオフを設定できます。


●【エディターオプション/新機能】ウィンドウサイズの倍率設定が追加されました。
　　　「全体」「マップイベントウィンドウ」「コモンイベントウィンドウ」
　　　「イベントコマンド挿入ウィンドウ」「データベースウィンドウ」、
　　　のそれぞれが「12.5％」単位で設定可能です。
　　　後者4つは「全体」の倍率と掛け合わされます。

●【エディターオプション/新機能】フォントの設定機能が追加されました。
　　　「Meiryo UI(太字/中/小)」「MS UIゴシック(太字/中/小)」の6つから選べます。

●【マップ編集/調整】マップのズーム倍率に「x2」を追加



◆データのテキスト出力関連

●【エディターオプション/新機能】「保存時の自動テキスト出力」機能を追加。
　　→　オンにすると「ゲーム設定・DB・マップ(+Ev)・コモンEv・タイル設定」を保存した際、
　　　「出力フォルダ」に「元と同じフォルダ構成」で「～.Auto.txt」として
　　　ファイルがテキスト出力されます。
　　→ 「基本ﾃﾞｰﾀをTXT出力」「全マップをTXT出力」
　　　 「全TXT→基本ﾃﾞｰﾀのみ読込」「全TXT→全マップのみ読込」
　　　　の機能も用意されています。出力フォルダに対して、まとめてTXT入出力が可能です。
　　→　各TXTファイルを当該ウィンドウにドラッグ＆ドロップすることでも
　　　　その内容を読み込ませられます。
　　　（「ゲーム基本設定」画面にも「Game.dat.Auto.txt」をドラッグ可能です）
　　→　主にGitなどのバージョン管理システムで編集内容の差分を
　　　　管理･保存できるようにするために実装された機能です。

●【タイルセット設定/新機能】「ファイル入出力」に「複数データ保存(TXT)」を追加

●【データベースウィンドウ/新機能】「ファイルの出力」に
　　　　　　　　　　　「複数タイプ&全データ(TXT)」を追加
　　→　テキスト形式として複数のタイプ設定とそのタイプの全データを出力できます。

●【コモンイベントウィンドウ/新機能】「ファイル出力」に「複数保存(TXT)」を追加。
　　　　　　　→　テキストファイル形式でコモンイベントを出力できます。


●【データベースウィンドウ/新機能】出力したCSVファイルにも「データ名」を保存、
　　　　　　　　　　ないし「データ名」を読み込みできる機能を追加。
　　→　これまでは「データ名」が保存されなかったので、
　　　　CSVで出力→別の場所に保存、とすると
　　　　データ名が再設定されなくて少し不便でした。
　　→　「データ名」を示すフラグは「<< !--DATANAME--!>>」です。
　　　　このフラグが先頭にある項目が「データ名」として扱われます。
 　　　（通常は各行末に追加されます）


●【ゲーム基本設定(Pro)/新機能】Game.dat(.PRO).Auto.txtファイルを
　　　　　　　　ドラッグ&ドロップするとtxtの設定を反映させられる機能を追加




●【エディターコマンドライン起動/新機能】
  Editor(Pro).exeの新たなコマンドライン引数を追加しました。
  [入力見本] Editor.exe -txtoutput -txt_folder Data_AutoTXT -target ALL -wait
  【各コマンドの説明】
  -txtinput : 「テキストファイルからゲームデータを復元する」モードで実行します。
  -txtoutput : 「ゲームデータをテキストファイルに出力する」モードで実行します。
  　　　　　　-txtinputと同時には使えません。
  
  -txt_folder (フォルダ名): 
  　テキストの入出力先をEditor.exeからの相対フォルダで指定します。
  　未指定なら「Data_AutoTXT」が指定されます。
  　
  -target (ALL/BASIC/MAPのいずれか): 処理する対象を指定します。
  　　　　　　　　　　　　　　　　　未指定なら「ALL」となります。
  　ALL: 基本データと全マップファイル両方
  　BASIC: 基本データ(ゲーム基本設定･各DB･コモンイベント･タイル設定)のみ
  　MAP: 全マップファイルのみ(.mpsファイル)
  　
  -wait: 処理終了時にキー待ちを行います。-waitがなければ自動で画面が閉じます。
  
　→ [このコマンドライン処理、どういう場面で使うの？]
　　普段から「保存時の自動テキスト出力」をオンにすると保存時のレスポンスが
　　下がる場合があるため、Gitのバージョン管理を行う直前にだけ
　　このコマンドライン処理を使って一度だけテキスト出力してからGitで操作する、
　　という利用法を想定しています。



◆便利機能の追加

●【コマンド入力ウィンドウ内・DB画面・検索画面/新機能】
　テキストボックス上の右クリックメニューが強化されました。
 -「数値」ボックスの右クリックメニューに「[変数呼び出し値]の入力」を追加。
 -「文字列」ボックスの右クリックメニューに「[代入]特殊文字を挿入」、
　「[文字性質変化]特殊文字を挿入」、「[文字表示制御]特殊文字を挿入」機能を追加
　→　右クリックから「変数呼び出し値」や「特殊文字」の見本を入力できます。
　→　もしこの項目が不要な場合は、エディターを閉じて「Editor.ini」を開き、
　　　「UseExtendMenu=1」の行を「UseExtendMenu=0」に書き換えて保存してから
　　　エディターを起動しなおしてください。


●【ファイル選択ウィンドウ/新機能】ファイル選択ウィンドウに音声再生機能を追加。
　　　　　MIDI、OGG、MP3、WAVファイルがそのまま再生可能になります。
　　　→　総再生時間やフレーム数換算の値もすぐ確認可能です。


●【ファイル読込ウィンドウ/新機能】読み込んだ画像のサイズが表示されるよう修正。



●【マップイベント・コモンイベントウィンドウ/新機能】イベントコマンド欄の
　　右クリックメニューに「コマンド内容を挿入ウィンドウに取込」コマンドを追加。
　　→　他ウィンドウを触れなくなる「コマンド編集」の方とは違い、
　　　　挿入ウィンドウにコマンドの内容を取り込んでそのまま編集を続けられます。

●【マップイベント・コモンイベントウィンドウ/新機能】イベントコマンド欄の
　　右クリックメニューに「次の分岐へジャンプ」を追加。
　　条件分岐やループコマンド上で使用すると「次の分岐」に飛びます。
　　→　ショートカットは「G」キーです。「Shift」を押しながらだと上方向に飛びます。
　　→　代わりに「選択範囲の先頭へジャンプ　T」「選択範囲の最後尾へジャンプ　B」は
　　　　メニューから削除されました。それぞれのショートカットキーは今でも有効です。


●【マップイベント・コモンイベントウィンドウ/新機能】
　　イベントコマンド欄の右クリックメニューに「折りたたみ/展開する」
　　「すべて折りたたみ」「すべて展開する」コマンドを追加。
　　文章選択肢・条件分岐・ループを折りたたんだり、展開したりできます。
　→　折りたたみできるのは「文章選択肢・条件分岐・ループ」系コマンドのみです。
　　　条件分岐の「各分岐」ごとの折りたたみも可能です。
　→　折りたたまれるのは見た目だけで、実際の処理には影響しません。
　→　折りたたまれたコマンドは、「ダブルクリック」すると展開されます。
　　　ショートカットとして「E」キーで折りたたみ、展開が可能です。


●【マップイベント・コモンイベントウィンドウ/新機能】
　　イベントコマンド欄の右クリックメニューに
　　「コメントアウトする[0回ループに入れる]」
　　「コメントアウトする[ループ回数1→0回」
　　「コメントアウト解除[ループ回数を0→1回]」コマンドを追加。
　　状況に応じていずれか1つが表示されます。
　→　「コメントアウトする[0回ループに入れる]」：
　　　プログラミングの「コメントアウト」のように、
　　　選んだ範囲のコマンドを「0回ループ」内に入れます。
　→「コメントアウトする[ループ回数1→0回」と
　　「コメントアウト解除[ループ回数を0→1回]」は
　　1回または0回の「回数付きループ」の上で右クリックしたときだけ表示されます。


●【マップ編集/新機能】イベントレイヤー時の右クリックメニューに「マップ操作」追加。
　　　　　　その中から『「このマップの基本設定」を開く』、『「新規マップ」を作成』、
　　　　　　『「マップ一覧ウィンドウ」を開く』が選べます。
　　　→　新規マップ作成手順などが分かりにくかったので導線を増やしました。



-----------------------------------------

【ゲーム側の調整】

◆コマンド関連

●【選択肢/不具合】F12でリセットしたとき、システムDBタイプ12で「文字色」を
　　　　　変えていても「選択肢」名の文字列だけ新たな色が反映されないバグを修正


●【変数操作/不具合】「実数計算」にチェックを入れて右辺の「～」を選んだ場合、
　　　　　　　　　　「0」しか返されなくなるバグを修正


●【変数操作+/仕様変更】変数操作+の「その他」の
　　　　　「ﾏｳｽ座標のEvID(小さいID優先,なければ-1)」と
　　　　　「ﾏｳｽ座標の範囲拡張EvID(小さいID優先,なければ-1)」に
　　　　　マップズームも考慮するよう修正
　　　→「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　　「旧Ver3.390時点の挙動で動作」にすると以前の、
　　　　「マップズームを無視した座標」でマウス下のイベントが判定されます。


●【DB操作/調整】DB操作で「数値変数」に「文字列」を数値に変換して格納できるように、
　　　あるいは「文字列変数」に「数値」を文字列に変換して格納できるようになります。
　　　→　従来はこの処理を行うとエラーが出るようになっていました。
　　　　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　　「旧Ver3.390時点の挙動で動作」に設定すると前の通りエラーが表示されます。
　　　　（エラー処理をゲーム内表現の一つとして使っている場合があるため）

●【DB操作/調整】エラーが起きたとき、コマンド側で指定された
　　　　　タイプ番号、データ番号、項目番号を表示するように修正
　　→　タイプ:20　データ:30000 項目:4　のように表示されます。


●【キー入力/不具合】Zキーで「決定キーで起動」イベントが起動された直後に
　　　　「文字列操作」の「キーボード入力」をすると、
　　　　「キー入力受け付け」の「キーボード全キー」の値として
　　　　「144」が返され続けるバグを修正


●【ピクチャ/不具合】ピクチャを「処理時間【0】」で「消去」したフレーム中にも
　　　　「変数操作+」でピクチャ情報が取得できてしまうバグを修正
　　　→「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　　「旧Ver3.390時点の挙動で動作」に設定すると、以前の
　　　　「消去してもそのフレーム中はピクチャ情報が残る」挙動になります

●【ピクチャ/不具合】「スクロールリンク」したピクチャが一定のループをすると
　　　　　　　　期待通りの位置に表示されなくなるバグ修正
　　　→　前のバグありの挙動に戻したい場合は「Game.exe動作バージョン調整」を
　　　　　「旧Ver3.390時点の挙動」以前に戻してください。

●【エフェクト/不具合】「マップ」エフェクトの「[P]ﾏｯﾌﾟF」または[[P]全体F」を
　　　　　かけた状態で「暗転有り」で「場所移動」すると
　　　　　移動先のマップEvとパーティ画像が一瞬表示されてしまうバグを修正

●【エフェクト/不具合】「マスク」情報がセーブデータに保存されなかった問題を修正


●【エフェクト/不具合】エフェクトの「キャラチップ変更」関連コマンド、ならびに
　　　「マスク」のファイル読み込み時にエラー行数が表示されなかった問題を修正


●【エフェクト/仕様変更】「キャラチップ変更」または
　　　「重ねキャラチップ変更」のレイヤー「0」を空にして本体画像を消した場合、
　　　「重ねレイヤーも含めて全ての画像レイヤー内容が消去される」よう修正
　　→　従来は本体画像を消して画面から見えなくなっても、
　　　　「内部的に重ねレイヤー部分だけ残ってしまってしまう」バグがありました。
　　　　この挙動を従来のままにしておきたい場合は、
　　　　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　　「旧Ver3.390時点の挙動で動作」に設定してください。


●【サウンド/不具合】「メモリから非使用中音声を全解放」するとクラッシュする可能性が
　　　　　　 　　　　　あったバグを修正

●【サウンド/調整】BGMの途中再生時の音が一瞬止まる症状を減らすよう修正。
　　　　　　　　　BGSの途中再生の挙動をBGMに合わせるよう修正。

●【サウンド/仕様変更】すでに再生中のものと同じ音声ファイルを
　　　　　　　　 「途中再生」の値を変えて再生すると、
　　　　　　　　　切れ目なく再生位置を変更できるように修正。
　　　　→　従来は初期化がはさまっていたため、ノイズ等が入る場合がありました。


●【動作指定/調整】「並列実行イベント」で「主人公」を「毎フレーム」動作指定して
　　　　「すり抜け」の「プレイヤー接触」イベントの上に乗ったとき、
　　　　必ずイベントが起きるように修正。
　→「毎フレーム動作指定して触れると乗れるイベントが起きない」旧挙動に戻したい場合は
　　「Game.exe動作バージョン調整」を「旧Ver3.390時点の挙動」以前に戻してください。

●【動作指定/仕様変更】「並列実行イベント」で「主人公」を動作指定させて
　　　　（「すり抜け」でない）「プレイヤー接触」イベントにぶつかったときに
　　　　「プレイヤー接触」イベントが起きるように仕様変更。
　→「動作指定でぶつかってもプレイヤー接触イベントが起きない」旧挙動に戻したい場合は、
　　「Game.exe動作バージョン調整」を「旧Ver3.390時点の挙動」以前に戻してください。


●【動作指定/不具合】「EvID？のイベントに接近」と「～の座標に一歩接近」で
　　　　　　　　　主人公に触れても「イベント接触」イベントが起きなかったバグ修正
　→　旧挙動の「上記2コマンドで触れてもイベントが起きない」状態に戻したい場合は、
　　「Game.exe動作バージョン調整」を「旧Ver3.390時点の挙動」以前に戻してください。



●【可変DBのセーブロード処理/調整】古いゲームデータのセーブを読み込んだとき、
　　　新しく増えたタイプの項目1つめ(0番)が「文字列」項目以外だと
　　　読み書き時にエラーが起きる問題を修正
　→　ゲーム側で、未知のDBタイプの1項目めに自動で
　　　文字列項目が入ってしまっていた問題がありました。




◆イベント挙動

●【自動実行イベント/調整】テスト時のみ、自動実行イベントで同じフレーム内に
　　　　　　　　　10000回起動してたらエラーが出るように修正

●【描画処理】キャラクターの描画順の計算処理を修正。
　　　　　　特に変化はないと思いますが、もし前verと比べて
　　　　　　正常に動作しなくなっていたらお知らせください。


●【イベント起動/不具合】「予約」イベントと「決定キーで実行」イベントが
　　　　　同時に起動した際、予約イベントが終わった後に勝手に
　　　　　決定キーイベントが実行されてしまうバグを修正


●【イベント起動/不具合】(0,0)座標に「イベントと接触」Evを配置すると
　　　　　起動後やロード時に勝手に一度起動してしまうバグを修正
　　→　前のバグありの挙動に戻したい場合は「Game.exe動作バージョン調整」を
　　　　「旧Ver3.390時点の挙動」以前に戻してください。



◆特殊文字・システム変数挙動

●【特殊文字/仕様変更】ルビ \r[A,B]の特殊文字内の「A」部分で特殊文字が有効になります。
　　　　　→　これまでできなかったこととして、アイコン画像（\i[1]など)に
　　　　　　　ルビを付けることが可能になります。

●【特殊文字/不具合】
　・\sp[?]を記述したとき、想定以上に待ち時間が発生する問題を修正
　・\i(S)[?]と\img(S)[?]が想定以上の待ち時間になっていた問題を修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　「旧Ver3.390時点の挙動で動作」に設定すると以前の表示され方に戻せます。


●【システム変数/不具合】システム文字列「Sys104/105:X・Yスクロール値」に
　　　　スクロール値を設定した場合、特定のタイルサイズと画面サイズで
　　　　最大スクロール値より小さい値が格納されてしまうバグを修正


●【システム変数/不具合】320×240時など画面倍率が[x2]以上の場合、
　　　　　　　　　　　「Sys6:ﾎﾟｰｽﾞｶｰｿﾙY (Sys2に足した位置)」の値を大きくすると
　　　　　　　　　　　画面外に行ってしまう現象を修正
　　　→　ポーズカーソルのY座標は自動で画面外にいかないように補正されて表示されます。
　　　→　従来の挙動に戻したい場合は「Game.exe動作バージョン調整」を
　　　　　「旧Ver3.390時点の挙動」以前に戻してください。




◆ファンクションキー・システム挙動

●【緑帯エラー/仕様変更】緑帯エラー表示時にもスクリーンショットキーで撮影できるように


●【緑帯エラー/調整】キャンセルキー、または右クリックでもエラー文を進められるよう修正


●【F7ピクチャ一覧/不具合】Shift+F7の「マウス座標にあるピクチャ一覧」で
　　　　　　スクロールすると正常に表示されなくなるバグ修正


●【F7ピクチャ一覧/調整】自由変形のピンクの範囲表示を半透明に。
　　→ 三角形を2つ使って表示しているため、重なってる部分があると線みたいなのが
　　　出てしまいますが仕様です。それより文字が隠れないことを重視しています。


●【F9変数一覧/調整】F9変数一覧の最後に「作成されているXY配列（とそのサイズ）」
　　　　　　　　　　の一覧を表示するように


●【F9変数一覧/調整】テストプレイ中のF9画面をマウスホイールや左右キーで
　　ページ切替可能に、かつ、キャンセルや右クリックですぐ画面を抜けられるよう修正。
　　キャンセルや右クリックで抜けた場合、最後F9を押すと最後のページが表示されます。
　→　従来は「決定キーで最初から最後まで進めて終わり、次はまた最初のページから」
　　　という操作になっており、ちょっと扱いにくいものでした。
　→　ただしキャンセルで抜けた場合、旧「基本システム」のメニューが
　　　起動してしまうのでご了承ください。
　　　基本システムの組み方の問題で、旧版ではそれを回避できません。
　　　（最新の基本システムでは対応されています）



●【起動時･暗号化ファイル/調整】ゲーム実行時、「Game時全メモリ読込」でない
　　　暗号化ファイルの起動時のメモリ読み込み限界を
　　　「総メモリの6割以下、かつ3GB以内」に制限するよう修正
　→　従来は暗号化ファイルが1つ128MB以内だと制限なく読んでしまい、
　　　EXEの限界を越えてしまって動作が不安定になるケースがありました。
　→　[プロ版] 非常に大きな単体ファイルがある場合、ゲームデータで暗号化せずに
　　　　　　　プロ版の「個別ファイル暗号化」を行うことでメモリ節約ができます。


●【ゲーム起動時/調整】BasicData内に「icon0001.png」のような
　　　　　\i[1]（アイコン表示特殊文字）では読み込めないファイル名の
　　　　　アイコンがあった場合、テスト専用エラーで指摘するよう修正。
　　　→　アイコン番号が3桁以下の場合は「icon001.png」と命名する必要があります。
　　　　「icon0001.png」は読み込めません。


●【全体のセーブ処理/調整】ゲーム基本設定・マップイベント・データベース・
　　　コモンイベント、タイルセット設定において、保存に失敗した場合は
　　　エラーが出るよう修正

-----------------------------------------

【エディター調整】


◆メイン画面

●【マップイベント/調整】「半歩上/左に設置」したイベントのクリック位置を
　　　　　　　　　　　　○のような記号で表示するように修正
　　　　　　　→　半歩ズレのイベントのどこをクリックすればいいのか
　　　　　　　　　微妙に分からなくなってしまっていたためです。

●【マップイベント/調整】末尾が「$.png」で終わるマップイベントは
　　　　　　　　　　パターン分割せずに表示するよう修正

●【マップイベント/調整】「プレイヤー接触」「イベント接触」の起動トリガー名を
　　　　　　　　　　「プレイヤーから接触」「イベントと接触」に名前変更

●【マップイベント/不具合】イベントを削除した後にイベントウィンドウをアクティブに
　　　すると、画像だけ変わるがイベントコマンド欄が更新されないことがあるバグ修正


●【マップ自動生成/不具合】400×400以上の大きなマップに使うとクラッシュするバグを修正

●【ヘルプ/仕様変更】ヘルプの「変数呼出値/特殊文字一覧」はマニュアル内の
　　　　　　ページを開く形に修正。
　　　　→　今後はテキスト欄に、右クリックメニューから変数呼び出し値や
　　　　　　特殊文字が入力できるようになったのと、
　　　　　　開発側としてもエディター内の修正負担が結構かかってしまっていたためです。



◆コマンド関連


●【文字列操作/調整】「に↓から1行切り出し」「に↓から1文字切り出し」
　　　　「に↓から最後1文字切り出し」のコマンド名の最後に「(+↓文ｶｯﾄ)」を追記。
　　→　処理によって右辺の文字列がカットされることを明示しました。

●【文字列操作/不具合】画面拡大率が100%以外のときの入力欄のサイズが
　　　　　　　　　　期待通りでなかった現象を修正

●【文字列操作/調整】入力されたコマンドの表記を微調整


●【変数操作+/調整】「その他」のコマンドの先頭に[ﾏｯﾌﾟ][ﾏｳｽ]などジャンル名を追加。
　　　　　　　　またコマンドが増えすぎているので、「キー入力」で代用できる
　　　　　　　　[ﾏｳｽ]系取得は、過去の当該マウス系コマンドを
　　　　　　　　「コマンド編集」した場合だけ出るようにしました。


●【変数操作+/不具合】「アニメ速度」の呼称を「アニメ頻度」に修正。
　　　　　「アニメパターン[0-4]」を「アニメパターン[0-9]」に修正。


●【変数操作+】「位置」のコマンド使用時、どの座標を使っているか分かるよう
　　　　コード側に「[ﾏｯﾌﾟ座標]/[ﾏｯﾌﾟ精密座標]/[画面座標]」と表記するよう修正
　→　例：■変数操作+: このEvのSelf0 = [ﾏｯﾌﾟ精密座標] X:0 Y:0のｲﾍﾞﾝﾄID


●【動作指定/調整】左欄のコマンドをダブルクリックしたとき、
　　　　　　　　そこに指定されている数値（例えばX・Y座標）を
　　　　　　　　右側の各入力欄にロードする機能を追加
　　→　左欄の「座標指定」を要するコマンドをダブルクリックすると、
　　　　「マップウィンドウ」(今回実装)にもその位置が表示されます。
　　　　「自動移動」と合わせれば移動指示が非常に快適になるでしょう。


●【DB操作･変数操作/調整】「DB操作」や「変数操作」時のコマンド表記の
　　　　DB表記のフォーマットを「～DB[ 0:0:0 ]」に統一（検索しやすくするため）

●【DB操作/調整】対象データベースを切り替えたとき、「名前」入力欄が表示中なら
　　　　　　タイプ・データ・項目の1番目の名前を自動で格納するよう修正

●【DB操作/調整】「名前」チェックを入れたとき、格納されている数値に
　　　　　　　　対応する名前を自動格納するよう修正
　　　→　従来はチェックを切り替えても前の入力内容が表示されるだけでした。

●【DB操作/調整】コマンド一覧の表記を修正、「可変DB書込」→「DB書込(可変DB)」など。


●【DB操作/調整】「変数」チェックでの指定時、「文字列変数」から
　　　　　　　　「名前」呼出ができるようになりました。


●【キー入力/調整】 キーボードの「キー一覧」をブラウザで開くボタンを追加


●【キー入力/不具合】「パッド」の「特定キーのみ判定」設定時、
　　　　　　イベントコマンド一覧側に「キーボード」のキー表記が出るバグを修正


●【ピクチャ/不具合】「クリア」ボタンがクラッシュ要因になっていたので修正


●【ピクチャ/不具合】「ファイル名直接指定」でファイル名に\cself[0]などを入れると
　　　　　　　　　　ファイルが読めなくなっていたバグ修正


●【エフェクト(プロ版)/不具合】[P]マップFや[P]全体Fのエフェクトをかけてセーブした後、
　　　　　　　　　無料版のGame.exeでロードするとエフェクトが継続する現象を修正

●【場所移動/調整】「移動先を見ながら選択」ウィンドウの
　　　　　　　　　マップズーム倍率に「x2」「1/1」を追加


●【場所移動/調整】「移動先を見ながら選択」画面にも「遠景」が表示されるように修正
　　→　従来は表示されていなかったので1枚絵マップ利用時の場所移動指定が大変でした。


●【場所移動/調整】「移動先を見ながら指定」画面の下部説明欄に、選択座標の
　　　　　　　　　イベント番号とイベント名も表示するように修正


●【条件分岐・ループ/調整】条件分岐・ループのコマンド表示色を変更。
　　　　　　　また「回数付きループ0回」の場合はコメントと同じ色にするように。

●【イベント制御/調整】イベント処理中断・イベント消去・タイトル画面・ゲーム終了の
　　　　　　　　　コマンド表示色を変更。


●【可変DBのセーブロード処理/調整】古いゲームデータのセーブを読み込んだとき、
　　　新しく増えたタイプの項目1つめ(0番)が「文字列」項目以外だと
　　　読み書き時にエラーが起きる問題を修正
      　→　ゲーム側で、まだ作られていないDBタイプの項目1つめが自動で
      　　　「文字列」項目として扱われてしまっていた問題がありました。
      

●【コモンイベント/不具合】「コモンEv名で呼出」のプルダウンメニューで
　　　　一覧表示した状態で文字列を入れてEnterを押すと
　　　　「パラメーターが間違っています」と出る現象を修正





◆ウィンドウ関連


●【メインウィンドウ/不具合】エディターのメインウィンドウが
　　　　　　　　　　起動ごとにどんどん縮んでいたバグを修正


●【ゲーム基本設定/調整】「Game.exe動作バージョン調整」に
　　　　　　　　　　　　「現Ver3.50の挙動で動作」を追加
 【Ver3.50の挙動の変化】
　- 特殊文字の\sp[?]、\i[?]、\img[?]で一時止まってしまう現象を解消。
　- 「DB操作」で数値と文字列の変換を柔軟に行うよう修正（旧挙動ではエラーが出ます）
　- ピクチャを処理時間0で消した場合、直後から変数操作+でピクチャ情報を
　　取得できないよう修正
　　(旧挙動では0フレームで「消去」した同じフレーム中は
　　　変数操作+でピクチャ情報を取得できます)
　- 「エフェクト」の「キャラチップ変更」系コマンドで本体画像を消した場合、
　　全レイヤーが消去されるよう修正
　　（旧挙動では見た目は全て消えますが別レイヤー分が内部的に残っていました）
　- 「変数操作+」の「その他」の「ﾏｳｽ座標のEvID」をマップズームも考慮するよう修正
　　(旧挙動はズームを考慮しません）
　- 「EvID？のイベントに接近」と「～の座標に一歩接近」で
　　 主人公に触れた場合に「イベント接触」イベントが起きるように修正
　　 (旧挙動では接触していても「イベント接触」イベントが起きませんでした)
　- 「並列実行イベント」で「主人公」を動作指定させた場合でも「プレイヤーから接触」の
　　イベントが起動するように(旧挙動では、並列の動作指定移動では起動しませんでした)
　- 320×240画面サイズで「Sys6:ﾎﾟｰｽﾞｶｰｿﾙY」に大きな値を入れるとポーズカーソルが
　　画面外に出てしまうバグ修正(旧挙動ではSys6を大きくすると画面外に出ます)
　- (0,0)座標に「イベント接触」Evを配置すると、起動後やロード時に
　　一度起動してしまうバグを修正　(旧挙動ではバグが再現されます)
　- 「スクロールリンク」したピクチャが一定のループをすると
　　 期待通りの位置に表示されなくなるバグ修正(旧挙動ではバグが再現されます)
　→　旧挙動に戻したい場合は、「Game.exe動作バージョン調整」を
　　「旧Ver3.390時点の挙動」以前に戻してください。


●【ゲーム基本設定/調整】「タイルサイズ」を変えたときに再起動が必要なくなるよう修正


●【ゲーム基本設定/不具合】一部の設定がすぐマップウィンドウに反映されないバグ修正


●【コマンド挿入ウィンドウ/調整】
　変数操作・DB操作・変数操作+・文字列操作・条件(文字列)・キー入力・エフェクト、
　イベント制御、場所移動 のコマンド表示のレスポンスが高速になりました。
　→　初回の1回目は起動時間短縮の影響で従来より待ち時間が長くなっていますが、
　　　2回目からは前よりも高速に画面が切り替わるようになります。
　→　プルダウンメニューの更新を最小限にしたので、
　　　もしおかしな挙動が発生するようでしたらご連絡ください。



●【マップ編集時/調整】マップ作成時のカーソル移動中でも、タイトルバーに
　　　　　　　　　座標やイベント名が表示されるよう修正

●【マップイベントウィンドウ/調整】セーブ済みなら「セーブ」ボタンがグレーになって
　　　　　　　　　　　　　　　押せなくなるように修正（従来は無限に押せていました）


●【マップイベントウィンドウ/調整】「移動頻度」と「アニメ頻度」の選択可能幅を
　　　　　　　　　　　「0～5」から「0～6」に変更。
　　　→　動作指定や内部処理では6まで指定できるのに
　　　　　マップイベントウィンドウ上では最大5までになっていました。


●【マップ/コモンイベントウィンドウ/仕様変更】
　イベントコマンド選択時のショートカットを変更。
　- ｺﾏﾝﾄﾞ文→ｸﾘｯﾌﾟﾎﾞｰﾄﾞへコピー　Q → Ctrl+Alt+C
　- ｲﾍﾞﾝﾄｺｰﾄﾞ→ｸﾘｯﾌﾟﾎﾞｰﾄﾞへｺﾋﾟｰ  W → Ctrl+Shift+C
　- ｸﾘｯﾌﾟﾎﾞｰﾄﾞ→ｺｰﾄﾞ貼り付け     E → Ctrl+Shift+V 
　　　　　　　　※Eキーは「折りたたみ/展開する」キーになりました。


●【マップ/コモンイベントウィンドウ/仕様変更】イベントコマンド選択時、
      　　　「ラベルに飛ぶ」または「ラベル地点」上でShift+F12すると
      　　　同名の「ラベルに飛ぶ」だけをめぐっていく裏技を追加。
  →　F12で「ラベルに飛ぶ」→「ラベル地点」に飛ぶことは従来から可能でしたが、
    「ラベル地点」からジャンプ元に戻る方法がなかったので追加されました。


●【コモンイベントウィンドウ/不具合】「一つ元に戻す」をした後に
　　　　右クリックメニューを開くと見た目と違う場所が選ばれてしまうバグを修正
　　　　

●【テストプレイ/調整】すでにテストプレイでGame.exeが起動している場合、再度
　　　　「テストプレイ」を行うとGame.exeのウィンドウが「最前面」表示されるよう修正
　　　→　重複起動エラーも出なくなります。
　　（編集中にゲームタイトルを変えたりすると重複起動エラーが出る場合があります。
　　　ゲームタイトルでGame側のウィンドウの同一性を判断しているためで仕様です）


●【データベースウィンドウ/不具合】「最初の文字列データと同じ」のタイプに対して
　　　　「1つめの文字列」を手で変更した場合は内部の「データ名」も書き換わるのに、
　　　　「CSV読込」だと内部の「データ名」が書き換わっていなかった問題を修正


●【データベースウィンドウ/不具合】「文字」の「検索」で期待通りに
　　　　　　　　　　　　　　　　　検索できなかったバグを修正

●【データベースウィンドウ/調整】「文字」の「検索」時、同じ項目内の
　　　　　　　　　　　　　　次の文字列も検出できるように修正。



●【データベースウィンドウ/調整】「メモ欄」がスクロールしているとき、
　　　　　　　　　「データ」切り替えや「ページ」切り替えしても
　　　　　　　　　　スクロール位置を維持するよう修正

●【データベースウィンドウ/調整】「内容名」「内容番号」と書いてあった部分を
　　　　　　　　　　　　　　　　「項目名」「項目番号」に修正


●【データベース設定/調整】「データ名」設定、ならびに
　　　　　　　　「データ内容の特殊設定」での「データベース参照」で、
　　　　　　　　「タイプ番号」だけでなく「タイプ名」でも指定できるように。



●【コモンイベント/調整】「入力内容の設定」の「データベース参照」で
　　　　　　　　タイプ「番号」だけでなくタイプ「名」も指定できるように。




●【画像選択ウィンドウ/調整】中クリックを押しながら、またはスペース押しながら
　　　　　　　　　　　　　　マウス移動で画像をスクロールできるよう修正




●【終了時/調整】エディターを閉じたとき、最後に開いていた「マップ番号」を記憶するように変更
　　　　→　従来は「最後に開いていたマップファイル名」を記憶していましたが
　　　　　　初回起動時やData上書き時にマップが開けない問題や、誤解する問題が
　　　　　　起きるので「番号」式に変更しました。


●【検索ウィンドウ/調整】「コマンド文」による検索を高速化


●【検索ウィンドウ/調整】「置換」を押した後「【コマンド文】から検索」を
　　　　　　　　　クリックすると自動で「置換」チェックが解除されるよう修正

●【検索ウィンドウ/調整】「DB操作」の「タイプ・データ・項目名」が
　　　　　全て固定値の場合は、「検索」の「変数」でそのDBの変数呼び出し値を
　　　　　指定しても検索に引っかかるよう修正



●【ゲームデータ作成/調整】暗号化ファイル作成時、全暗号化ファイルで4GB以上になる場合、
　　　　　　　　および1暗号化ファイルで2GBを超える場合はエラーを出すよう修正。
　　　　→　暗号化時にクラッシュするのと、総メモリ読み込み量が4GB超になると
　　　　　　Game.exe時に異常が発生することが確認されたためです。

●【ゲームデータ作成/調整】「AutoBackup」を含むフォルダはゲームデータ作成時に
　　　　　　　　　　　　　コピーされないよう修正


●【ゲームデータ作成/調整】ゲームデータ作成中、残り処理個数が
　　　　　　　　　　タイトルバーに表示されるようになりました。





●【ファイル選択ウィンドウ/調整】
　画像選択時、「.jpeg」形式のファイルも一覧に掲載されるよう修正。

●【ファイル選択ウィンドウ/調整】画像拡大・縮小機能を追加しました。
　起動時は「自動拡大」になっており、画像サイズに合わせて
　自動で50％～200％に補正されます。

●【ファイル選択ウィンドウ/不具合】キャラ選択時、画像の「左側の枠外」を
　　　　　　選択してもパターンが変わってしまうバグを修正




●【タイル設定/調整】タイルサイズが異なる場合のエラーメッセージを修正
　　　×：ゲーム解像度を変更するために「ゲーム基本設定」を開く。
　　　○：「タイルセット」を変更するために「ゲーム基本設定」を開く。


●【マップイベントエディタ/不具合】マップイベントの「前ページ引き継ぎ」の
　　チェックボックスだけを変更したとき、マップ変更フラグ(*)が立たないバグを修正

●【ゲームデータの作成/調整】出力先フォルダが「ゲームデータフォルダ内」だった場合、
　　　　次回以降のゲームデータ出力先のフォルダが
　　　　「その時点の基準ゲームデータフォルダ」に基づくように変更。
 →　あるゲームデータ「C:\Game1」を別の場所「C:\Game2」にコピーして
 　　「C:\Game2」のデータを開いて「ゲームデータの作成」をしたとき、
 　　従来では前の情報を引き継いで「C:\Game1」の位置に出力されてしまったので
 　　混乱の元になっていました。
　　 最新版ではその場合、自動的に「C:\Game2」が基準フォルダに変わります。





◆ファイル・パフォーマンス関連


●【起動時間/調整】全体をチューンしてEditorの起動時間が短縮されました。
　→ 【参考】　サンプルゲーム入りEditorの作者環境での起動時間が
　　　　　約19秒→約11秒（42％カット）　に短縮されました。
　→　代わりに各イベントコマンド入力欄の「初回表示」時に
　　　0.数秒～1秒程度の待ち時間がかかるようになります。
　　　2回目以降の切り替えは高速です。
　（最初に全てロードせず、初めてクリックされたときにロードするようにしたためです）

●【文字列操作/調整】「上1行切り出し」の処理速度が向上しました。
　→　16KB(320行)のTXTファイルを30回、1行切り出しで最後まで読み込ませたテストでは
　　　処理時間が620ms→約360msになりました。処理速度にして73％アップです。


●【コモンイベント/調整】コモンイベントファイルにLZ4圧縮をかけるよう修正
　　　→　参考に、サンプルゲームのファイルが以下のように削減されました。
　　　　　CommonEvent.dat　1232KB => 352KB (約71％削減！)

●【データベース/調整】データベースの.datファイルにLZ4圧縮をかけるよう修正
　　　→　参考に、サンプルゲームのファイルが以下のように削減されました。
　　　　　DataBase.dat  88KB => 18KB  (約80％削減！)
　　　　　CDataBase.dat 81KB => 7KB 　(約91％削減！)
　　　　　SDataBase.dat 2,787バイト => 693バイト  (約75％削減！)

　→　【外部ツールを作られている方向けのヒント】
　　Ver3.500以降で作られたCommonEvent.datと各DataBase.datは、
　　12～15バイト目に「展開後のサイズ(int型、4バイト)」、
　　16～19バイト目に「圧縮されたサイズ(int型、4バイト)」が保存されており、
　　その直後から「圧縮されたサイズ」バイト分の
　　LZ圧縮（ https://github.com/lz4/lz4 のLZ4_compress_default関数）
　　されたデータが始まっています。


●【マップイベント・コモンイベント】コモンイベントとマップイベントの
　　　　内部フォーマットを修正しました。自動で更新されるので問題は起きません。
　　→　【外部ツールを開発されている方へ】
　　　　この変更は非プロテクト時のCommonEvent.datや～.mpsファイルにも
　　　　影響があります。各「イベントコマンド」の「動作指定データ」領域の後ろに
　　　　1バイトの「0」、または2バイトの「1」「0または1」のデータが増えていますので、
　　　　必要なら対応してください。
　　（1バイト目は「追加で読み込むバイト数」を表し、「0」ならそこで終了、
　　　値が「1」ならさらに1バイトを、「2」ならさらに2バイトを追加で読み取ります。
　　　コマンドの「折りたたみ」処理を含む、将来の拡張用の変数枠です）


●【基幹ファイル全般】まれにファイルが保存されなくなる現象の一因を修正。



【基本システム】
2025/1/14  Ver3.30に更新
●サブキーを押しながらセーブ画面を開くと「ロード画面」になる裏技の
　トリガーキーを「左Ctrl」に変更  [ｺﾓﾝ131/31・35行]
●プロ版で基本画面倍率を2～3にしたとき、戦闘時のHP・SPの表示位置が
　ずれるバグ修正 [コモン178/300-313行]
●プロ版で基本画面倍率を2～3にしたとき、お店の所持金、所持数の表示位置が
　ずれるバグ修正 [コモン85/307-320行・382-395行]
●プロ版で基本画面倍率を2～3にしたとき、戦闘時のアイテムスキル使用時の
　画面上部HP・SP表示位置がずれるバグ修正 
    [コモン185/186-199行・241-254行]
●セーブファイル名指定を「変数」方式から「文字列」方式に変更。
  （翻訳時の言語別セーブデータを作りやすくするためです）
    [ｺﾓﾝ48/13-22行/29-32行] [ｺﾓﾝ94/205行,243-257行,259,294,340,350,353,356行]
    [ｺﾓﾝ131/74-91行,109-124行,139-146行]
●一部のDB操作コマンドで「数値」でDB項目読込されてる部分が残っていた問題を修正
   [コモン183/118･121･123行]

-------------------------------
　Ver3.390～3.396 の更新履歴　2024/08/26～
-------------------------------

【ゲーム部分】
Ver3.395　2024/09/09
●【セーブ･ロード操作/不具合】Zオーダーを使用したピクチャが表示されている状態で
　　　　セーブデータの変数を読み込むとピクチャが消えることがあるバグを修正

Ver3.393　2024/08/29
●【セキュリティ機能/調整】セキュリティ強度の調整に抜けがあったのを修正

Ver3.392　2024/08/28
●【ピクチャエフェクト/不具合】「Zオーダー」を使用したピクチャを表示した状況で
　　　　　　　データをロードすると特定条件でクラッシュしたり
　　　　　　　ピクチャが残ったままになってしまうバグを修正

Ver3.391　2024/08/27
●【起動時(プロ版)/不具合】プロテクトキーを設定したゲームデータだと
　　　　　　　　　GamePro.exeが起動できなくなっていたバグ修正
　　　　　　→　Ver3.383あたりから動かなくなっていたようです。

Ver3.390　2024/08/26
●【DB操作/調整】CSV読み込み時、タブ区切りのCSVも読み込めるように修正を試みました。

●【DB操作/不具合】「CSVへ保存」時、文字列内の「"」が「""」に変換されていないバグを修正。
　　　　　（なお読み込み時は正常に「""」を1つの「"」として読み込んでいました）
　　　→　「Game.exe動作バージョン調整」を「旧Ver3.353時点の挙動で動作」にすると
　　　　　従来通り、「"」が変換されないままでCSV保存されます。
　　　→　文字列中の「"」がデータ上で「""」にならないと、
　　　　　ExcelなどでCSVを読み込む場合に問題になります。

●【セキュリティ機能/調整】セキュリティ関連機能を修正しました。人によっては
　　　　Windows DefenderからGame.exeがウィルス扱いされてしまうことが判明したので、
　　　　不便しない程度にセキュリティ強度を調整中です。





【エディター部分】
Ver3.396　2024/09/13
●【プロ版/プロテクトキー機能/不具合】Ver3.395で起動すると
　　　　　プロテクト確認が出続けてしまい、正しいプロテクトキーを入れても
　　　　　起動できなくなるバグ修正
　　→　この症状が発生した場合、「Ver3.396」で起動して
　　　　「正しいプロテクトキー」を入れて起動することで問題を解消できます。
　　　（プロテクトキーがかかっていない、と出ますが、それはGame.datだけ
　　　　かかっていないだけで、他ファイルはかかっている変な状態になっています）


Ver3.395　2024/09/09
●【変数操作+/調整】「その他」の
　「このマップイベントＩＤ（ｺﾓﾝなら呼び出し元ﾏｯﾌﾟID）」の名前を
　「このマップイベントＩＤ（ｺﾓﾝなら呼び出し元ﾏｯﾌﾟｲﾍﾞﾝﾄID）」に修正

●【イベントコマンド表示欄】条件分岐の各分岐の灰色のカラーを濃いめに修正

Ver3.394　2024/09/01
●【データベースウィンドウ/不具合】Ver3.393から、Windowsの拡大率100%の
　　　　　　　1366×768などでデータ入力欄の表示がおかしくなっていたバグ修正

●【エフェクト/調整】キャラエフェクトの「アニメ速度」を「アニメ頻度」に変更
　　　　　　　　　　（動作指定内と呼び名を統一）

Ver3.393　2024/08/29
●【バージョン3コンバート処理/調整】大規模なゲームデータのコンバート処理が
　　　　　　　　　　　　　　大幅に高速化されました。

●【データベースウィンドウ/不具合】Windowsの拡大率150%などの環境で
　　　　　　　　　DBウィンドウの表示がおかしくなっていたバグ修正

●【変数操作・検索/不具合】検索で【数値】の"1100000000"を検索したとき、
　　　　　「変数操作」で「可変DB」選んだときのイベントコマンドが
　　　　　　内容にかかわらずヒットしてしまうバグ修正



Ver3.390　2024/08/26
●【コマンドライン/不具合】-gamedata（ゲームデータ作成）コマンドを使用したとき、
　　　　　-cryptコマンドが指定されていないと
　　　　　自動で「暗号化なし」になってしまうバグを修正
　　→　本来は-cryptコマンドなしであれば「前と同じ」設定で暗号化されるはずでした。

●【DBウィンドウ/不具合】「ファイルの出力」の「データ[複数･CSV形式]」による
　　　　　　　　　　CSV出力時、「"」が「""」に変換されていないバグを修正

●【DBウィンドウ･コモンイベントの入力内容の設定/不具合】
　　DBの「項目名」や、コモンイベントの「入力する値」や「結果」の「名前」に
　　半角「&」を使うと変な表示になるバグを修正



-------------------------------
　Ver3.380～3.385 の更新履歴　2024/08/03～8/19
-------------------------------

【新機能】
Ver3.385　2024/08/19
●【Editor.exe/新機能】コマンドライン上からEditor.exeを操作し、
　　　　　　　　　直接「ゲームデータ作成」ができる機能を追加しました。
      「Editor.exe -gamedata -name "サンプルゲーム" -output "D:\temp\" -crypt DIR -c_dir "BasicData/BGM/Picture" -c_ver 331」
　　　のように実行すると、Editorを起動せず直接ゲームデータ作成ができます。
　　　「Editor.exe -gamedata」だけ実行すれば「前に作ったゲームデータ」と
　　　同じ設定でゲームデータを作成することができます。
　　　
　　　各コマンド指定の意味は以下の通りです。
　　　
　　　　-gamedata：Editorを「ゲームデータ作成」モードで実行します。
　　　　　　　以降のコマンドは、未記入なら「最後にEditor内で実行した内容」
　　　　　　　がそのまま使われるため、いつも通りに暗号化するだけなら
　　　　　　　「Editor.exe -gamedata」だけ実行すればOKです。
　　　　-name "ゲームフォルダ名"：ゲームデータのフォルダ名を変更します。
　　　　-output "出力先"：D:\temp\など、出力先を変更します。
　　　　　　　　この下に「ゲームフォルダ名」のゲームフォルダが作られます。
　　　　-crypt <NO/ALL/DIR/DIR_ALL>：
　　　　    どう暗号化するかを変更します。<>内のいずれか1つを記入します。
　　　　   NO：暗号化なし
　　　　   ALL：Dataをフォルダ丸ごとData.wolfに暗号化します。
　　　　   DIR_ALL：Data内のフォルダを個別に全て暗号化します。
　　　　   DIR：フォルダごとに暗号化するか否かを決定します。
　　　　   　　 続けて「-c_dir」コマンドも入力する必要があります。
　　　　-c_dir "Data内の各フォルダ名を/で区切って記入"：
　　　　   「-crypt DIR」をした際のみ記入します。
　　　　   「-c_dir "BasicData/BGM/Picture"」のように
　　　　   暗号化したいフォルダを「/」区切りで記入してください。
　　　　-c_ver <バージョン番号を数値で>
　　　　   暗号化バージョンを変更したい場合に記入します。
　　　　   「331」なら「Ver3.31時点の暗号化」です。
　　　　   「1000」は「プロテクトキー使用暗号化Ver1.0」、
　　　　   「1010」が「プロテクトキー使用暗号化Ver1.1」相当になります。
　　　　   「10000」を記入すると常に「最新の暗号化」が使用されます。
　　　　  ※存在しないバージョンだとそれ以下の一番近いバージョンが使われます。
　　　　   　(399など指定した場合、今の最新版の331で暗号化されます）
　　　　　※複数のバージョンで暗号化したファイルが混ざっていると
　　　　　　データが読めなくなるので、オンライン更新など取り入れている人は
　　　　　　特に注意して下さい。通常は未入力で前回通りの暗号化なのでそれでOKです。
　　　　-icon "アイコンファイル名"：　※プロ版専用
　　　　　　-icon "gameicon.ico" (gameicon.icoがEditorPro.exeと同じ場所にある前提)
　　　　　　のように指定するとゲームデータ出力時にGamePro.exeのアイコンを
　　　　　　指定したアイコンに変更します。この機能はプロ版専用です。


Ver3.380　2024/08/03
●【コモンイベントウィンドウ/新機能】コモンイベント名の色に
　　　　　「薄赤」「薄青」「薄緑」「ピンク」「橙色」を追加




【ゲーム部　修正点】
Ver3.385　2024/08/19
●【ゲーム処理全体/不具合】珍しい音声の問題が内部的に起きた後、以後の
　　　　　　　　　ゲームプレイがずっと低FPSになってしまう問題を修正。
　　　　　　　→　この問題が起きた場合、十分な性能のPCでも内部処理が
　　　　　　　　　最大51FPSくらいしか出なくなってしまっていました。


Ver3.383　2024/08/14
●【起動時/調整】外部ツールなどによる「正規の署名がないDLL」を
　　　　　　　　そもそも読まないように修正。
　　　　　→　外部ツールを利用されているプレイヤーの方には毎回
　　　　　　　DLLの正規署名がないエラーが出てましたが、今後は
　　　　　　　ほぼ以前通りの感覚でGame.exeを扱えるようになることが
　　　　　　　期待できます。


Ver3.380　2024/08/03
●【起動時/調整】「正規の署名がないDLL」が読まれたときのセキュリティ警告時、
　　　　　「はい」を選ぶと「管理者として実行」で起動し直せるように修正。
　　　　　また、メッセージも分かりやすく修正。
　　　→　「管理者として実行」するとほとんどの「署名のないDLL」を
　　　　　読まなくなるようです。
　　　→【表示される文章】
　　　　　以下のDLLを使用するソフトウェアまたはデバイスの安全が
　　　　　確認できないため、ゲーム実行が中断されました。
　　　　　　[DLL名]
　　　　【!!】「管理者として実行」するとこのDLL読込を回避して
　　　　　　プレイできる可能性があります。「管理者として実行」しますか？
　　　　　　 (「はい」なら次に確認画面が出ます)


●【サウンド】効果音を連続再生したときの負荷が高くなっていたのを修正。
　　　　　　Ver3.345以降のみで発生していたようです。




【エディター部　修正点】

Ver3.385　2024/08/19
●【ゲームデータ作成（プロ版）/不具合】プロテクトキーが未設定の場合、
　　　ゲームデータ作成時にiconファイル欄が保存されないバグを修正


Ver3.384　2024/08/16
●【システム文字列/不具合】SysS19が「[読]ｻｰﾄﾞﾊﾟｰﾃｨ実行識別ID」に
　　　　　　　　　なっていなかったミスを修正


Ver3.383　2024/08/14
●【サウンド/調整】「ループ位置[ms]」表記を「ループ開始[ms]」に修正。
　　　　　　　ループ終了位置なのか開始位置なのか明確でなかったためです。

●【システム文字列/追加】「SysS19：[読]ｻｰﾄﾞﾊﾟｰﾃｨ実行識別ID」と命名。
　　　　　→　ブラウザ上での動作など「PCで直接起動される以外」の環境で
　　　　　　　実行されたとき、その環境名の文字列が格納されます。
　　　　　　　（「PLiCy ～～」など）
　　　　　　　PCで直接起動されたときは空白になります。



Ver3.382　2024/08/04
●【グラフィック選択/不具合】「ピクチャ」コマンド内でファイル変更すると
　　　　　　　　　Windows10でクラッシュすることがあるバグを修正

●【イベントコマンド欄/不具合】コピーや削除した後、内部的なコマンド選択位置が
　　　　　　　　　　　見えている場所とずれてしまことがあるバグ修正


Ver3.381　2024/08/04
●【グラフィック選択/不具合】マップEvの(タイルセット)チップを変更したとき
　　　　　　　キャラチップに切り替えるとスクロールが画像の外に
　　　　　　　いってしまうことがあるバグ修正

Ver3.380　2024/08/03
●【場所移動の「移動先を見ながら指定」/不具合】
　「スペースを押しながら」のスクロール挙動が不安定だったバグ修正



-------------------------------
　Ver3.360～3.371 の更新履歴　2024/07/27～08/03
-------------------------------

【新機能】
Ver3.371　2024/08/03
●【コメント文/新機能】コメント文に以下のいずれかの文字列を含めることで
　　　　　　　コメント文の行の色を変えられる機能を追加。
　　　　　→　[RED]、[BLUE]、[GREEN]、[PINK]、[YELLOW]、[BROWN]




【ゲーム部　修正点】

Ver3.371　2024/08/03
●【F2クリップボード貼付/調整】Game.iniの
　　　　「SelectedText_to_ClipBoard_F2=」を「1」にした場合、
　　　　F2によるクリップボード貼り付け機能で、
　　　　マウスカーソルを「文章の表示」部分や「選択肢」上に
　　　　移動させてF2を押した場合もクリップボード貼付されるよう修正。
　　　　また、より直感的にクリップボード貼り付けできるようになりました。
　→　たとえば、
　　・「選択肢をキーで上下移動 → F2」なら「いま選ばれている選択肢」が、
　　・「選択肢が出た後にマウスカーソルを移動させて各選択肢上でF2」なら
　　　「マウスカーソル下の選択肢（ゲーム側で選択されていなくても）」が
　　　クリップボードに貼り付けされます。


Ver3.370　2024/07/27
●【起動時/調整】正規の署名がないDLLが読み込まれて
　　　　　　ゲーム停止させられたときのエラー文に、
　　　　　「管理者として実行」することで回避できるという記載を追加

●【デバッグ文/不具合】ValWatch（変数監視）機能をオンにしたとき、
　　　　　　　データベースの「全データ初期化」「全項目初期化」
　　　　　　　「データの挿入/抜き取り/コピー」にも反応するよう修正




【エディター部　修正点】
Ver3.371　2024/08/03
●【DBウィンドウ/不具合】起動→終了を繰り返すたびにDBウィンドウの座標が
　　　　　　　　少しずつずれていくバグを修正

●【マップイベントウィンドウ/調整】マップイベントのキャラチップとして
　　　　　　　　「（タイルセット）」が設定されている場合に画像を変更した際、
　　　　　　　　自動で選ばれているチップの位置までスクロールするように修正

●【チップ選択 / タイルセット設定 / 場所移動の「移動先を見ながら指定」調整】
　　　これまで中クリックを押しながらスクロールできた部分を、
　　　「スペースを押しながら」でもスクロールできるよう修正



Ver3.370　2024/07/27
●【マップ編集・場所移動/不具合】マップ表示のスクロールバーが
　　　　　32678ピクセル以上の位置にあると正常に動作しなくなるバグを修正
　　→　48タイルサイズの約700マス目あたりから
　　　　正常にスクロールできなくなっていました。

●【文章の表示/調整】「入力のたびに消去」チェックの機能を分離して
　　　　　　　　　　「2回改行で自動入力」チェックを追加
　　　　　→　元は「入力のたびに消去」がオンだと2回連続改行で
　　　　　　　自動入力になっていましたが、誤解の元なので分離しました。

●【文章の表示/不具合】「入力のたびに消去」がオンのとき、
　　　　　　　文の途中に改行が2つ入っていても2回改行扱いで
　　　　　　　自動入力されてしまうバグを修正。

●【文章の表示/新機能】文字色の確認機能を下部に追加(顔確認機能と兼用)。

●【データベースウィンドウ/不具合】DBでのファイル選択時、存在しない
　　　ファイルが設定された状態で「File」を押すと、どんな初期フォルダに
　　　設定されていても「Picture」フォルダから読み込んでしまう現象を修正

●【データベースウィンドウ/不具合】「保存時はフォルダ名を省く」が
　　　　オンになっていても1フォルダ分しか省かれないようになってたのを修正



Ver3.360　2024/07/16
●【ゲーム基本設定】「ゲーム基本設定」の「Game.exe動作バージョン調整」に
　　　　　　　　「現Ver3.353の挙動で動作」を追加（追加し忘れていました）



-------------------------------
　Ver3.350～3.353 の更新履歴　2024/07/04～07/15
-------------------------------

【ゲーム部　修正点】
Ver3.353　2024/07/15
●【マップイベント/不具合】9100000などの変数指定でマップEvのX・Y座標を変えて
　　　　　　移動させたとき、「待機時アニメがオフ」かつ「移動時アニメがオン」の
　　　　　　場合に「移動アニメ」をしなくなる場合があるバグを修正
　　　　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」を
　　　　　　「旧Ver3.34時点の挙動で動作」に戻すと前の挙動に戻せます。

●【ゲーム中】実行環境によってはゲーム実行中、MP3やMP4ファイルなどを再生したとき
　　　　「DLLに正規の署名がない」というエラーが出ることがある問題に対応



Ver3.351　2024/07/04
●【F7ピクチャ一覧/不具合】ページの切れ目でピクチャ情報がスキップされて
　　　　　　　　　　　しまうことがあるバグを修正


Ver3.350　2024/07/04
●【F7ピクチャ一覧/仕様変更】ピクチャの「文字列」に特殊文字を表示するよう修正。
　　　　　　　　　F7画面中にCtrlを押すと特殊文字を隠して表示することができます。

●【キー入力/不具合】「自動キー入力」を行ったとき、一部の処理が「非アクティブ時」に
　　　　　　　受付されなくなってしまうバグを修正
　　　　　　　（方向キー・ファンクションキー・マウスのXY自動入力）

●【文字列操作/不具合】「に↓のﾌｧｲﾙ内容読込」の隠しコマンド
　　　　　　　「<<GET_MAPEV_FILENAME>>(マップイベントID)」において
　　　　　　　違うキャラの「重ねキャラチップ」まで取得してしまうことがあるバグ修正

●【パーティ画像/不具合】パーティ画像の操作が行われた際、位置変更や消去されたときに
　　　　　　　　　「重ねキャラチップ」だけ位置も画像も残ってしまうバグを修正



【エディター部　修正点】
Ver3.353　2024/07/15
●【コモンイベントウィンドウ/不具合】Shiftキーを押しながら「単体保存」をしたとき
　　　　　　　生成されるtxtファイルが文字化けしていて読めないバグを修正


Ver3.352　2024/07/05
●【検索ウィンドウ/不具合】コモンイベント名の「置換」処理をした後に
　　　　　　　　　　　　　クラッシュすることがあるバグ修正


Ver3.350　2024/07/04
●【ゲームデータの作成/仕様変更】ゲームデータ作成画面を開いたとき、
　　　　　すでに設定されている「出力フォルダ」が存在しない場合は
　　　　　警告を表示した後、出力フォルダを初期値にリセットするよう修正。
　　→　「出力フォルダ」に問題がある場合に気付きにくかったため、
　　　　自動で警告表示＆出力フォルダを修正するようにしました。


-------------------------------
　Ver3.340～Ver3.346 の更新履歴　2024/06/06～06/27
-------------------------------
・読み込む「BasicData」(基本データフォルダ)が変更可能になったため、
　1つのゲームデータで複数言語の切り替えがやりやすくなりました。
　（関連機能の一部はプロ版のみ搭載）

・ウディタのプロ版にてアイコン画像ファイル(icon???.png)の読み込みフォルダを
　自由に変更できるようになりました（従来はBasicDataフォルダのみでした）


【新機能】
Ver3.340　2024/06/05
●【システム文字列】システム文字列「SysS73[読]Basicﾃﾞｰﾀﾌｫﾙﾀﾞ」を実装。
 　　　　　　　　　現在の「基本データフォルダ」を返します。

　★基本データフォルダ：「ゲーム基本設定」「コモンイベント」「各データベース」「タイル設定」
　　　　　　　　　　「アイコン画像(icon????.png)」を読み込むフォルダのこと。
　　　　　　　　　　（※個別のマップファイル(.mps)は含まれません）
 　　　　　　　→　通常は「BasicData」フォルダが「基本データフォルダ」になります。


●【ゲーム基本設定Pro(プロ版)】「[Pro] アイコン画像(icon???.png)フォルダの設定」の
　　　　　　　　項目を追加。icon???.pngのようなファイル名のアイコン画像を
　　　　　　　　「基本データフォルダ(BasicData)」以外の
　　　　　　　　フォルダから読み込ませることができます。
　　　　　→　「基本データフォルダ」が切り替えできるようになったので
　　　　　　　アイコン画像だけ分離して置けるようにするためのものです。


●【システム文字列(プロ版)】システム文字列「SysS74:[P]次起動Basicﾃﾞｰﾀﾌｫﾙﾀﾞ」を実装。
　　　　　　　　　次回のGame起動時のみ、「基本データフォルダ」として
　　　　　　　　　「BasicData」フォルダの代わりに
　　　　　　　　　「SysS74に指定したフォルダ」を使って起動します。
　　　　　
　　　　　→ 次の起動時にはSysS74は空になるので、起動時の基本データフォルダを
　　 　　　　毎回変えたい場合は再代入する必要があります。
　　　　　→【例】たとえばSysS74に「SecondBasicData」を格納してゲーム終了すると、
　　　　　　　　次に起動する際は「BasicData」フォルダの代わりに
　　　　　　　　「SecondBasicData」フォルダを「基本データフォルダ」として
　　　　　　　　ゲームが実行されます。
　　　　　→　これは言語切り替えを想定した処理です。たとえば、
　　　　　　　「BasicData_EN」(英語版のデータが入ったBasicDataフォルダ)を作っておき、
　　　　　　　ゲーム内で言語を「英語」に切り替えた際にSysS74に
　　　　　　　「BasicData_EN」を代入して再起動すると、以後の起動時にも
　　　　　　　その基本データファイルを読ませることができます。
　　　　　→　SysS74に指定した内容はGame.iniに保存、読込されます。
　　　　　

●【システム文字列】システム文字列「SysS75:[読]Game.exe起動時引数」を実装。
　　　　　　　　Game.exeの「起動時の引数」を返します。
　　　　　→　例えばテストプレイ時にはSysS75に「Test_Of_Main」が格納されており、
　　　　　　　さらにデバッグウィンドウがオンの場合はSysS75は
　　　　　　　「Test_Of_Main Use_Debug_Window」のようになっています。

●【システム文字列】システム文字列「SysS76:[読]OSの言語名」を実装。
　　　　　　起動したOS環境の言語を「Japanese」など英語の言語名で取得できます。
　　　→　言語名の例としては、
　　　　英語：English　簡体字：Chinese (Simplified)  繁体字：Chinese (Traditional)
　　　　　など。「ISO 639による言語名」だそうですが、中国語などは上のように
　　　　　()で区別されることもあるようです。

●【プロ版機能(プロ版)】「ゲーム再起動(引数設定あり)」コマンドを追加。
　　　　　　　　再起動時、任意の引数を付けてGamePro.exeの再起動ができます。
　　　　　→　後述の新機能を駆使すれば、再起動時に
　　　　　　　「基本データフォルダ」を別のフォルダに切り替えたり、
　　　　　　　ゲーム内で独自の引数を反映させる処理を作ることができます。
　　　　　※「テストプレイフラグ(Test_Of_Main)」と
　　　　　　「デバッグウィンドウフラグ(Use_Debug_Window)」が起動時に
　　　　　　指定されていた場合は、未入力でも
　　　　　　自動でこれら2つが引数の末尾に付け直されます。
　　　　　※なおこのコマンドとは別に、元からある
　　　　　　「ゲーム再起動(引数継承)」コマンドの方は
　　　　　　自動で起動引数がそのまま引き継がれます。
　　　　　　以下の-basicなども引き継がれるので気をつけてください。

●【起動時引数】Game(Pro).exe起動時に使える引数として
　　　　　「-basic <基本データフォルダ第一候補>」と
　　　　　「-basic2 <基本データフォルダ第二候補>」を追加。
　　　　→　たとえばコマンドプロンプトやbatファイルなどから
　　　　　「Game.exe -basic Basic1st -basic2 Basic2nd」
　　　　　のように指定してゲーム起動すると、
　　　　　「基本データフォルダ」として「BasicData」フォルダの代わりに
　　　　　第一候補の「Basic1st」フォルダを使ってゲームを起動しようとします。
　　　　　もし「Basic1st」フォルダがなければ第二候補の「Basic2nd」フォルダを、
　　　　　それもなければデフォルトの「BasicData」フォルダを
　　　　　「基本データフォルダ」として採用します。
　　　→【注意】-basic/-basic2で指定された基本データフォルダは
　　　　　「SysS74:[P]次起動Basicﾃﾞｰﾀﾌｫﾙﾀﾞ」よりも優先されて読み込まれます。

●【起動時引数】Editor(Pro).exe起動時に使える引数として
　　　　　　　　「-basic <基本データフォルダ>」を追加。
　　　　　　　　使い方は↑と同じです。「-basic2」はありません。
　　　　→　利便性アップのため、Editor上で「テストプレイ」をした場合は自動で
　　　　　 「-basic <変更されたフォルダ名>」を付けてGame.exeが起動されます。



【ゲーム部　修正点】
Ver3.345　2024/06/26
●【サウンド】プレイ中にサウンドデバイスが1個以上から0個になったとき、
　　　　　　新たに非MIDIのBGM/SEなどを再生するとクラッシュする問題を修正。
　　　→　直せるクラッシュ問題は直そうとはしていますが、
　　　　　他にもライブラリ側の都合っぽい部分で直せていない問題があるので、
　　　　　基本的にはプレイ中にサウンドデバイスを全て無効化しないでください。


Ver3.344　2024/06/26
●【サウンド】音声再生中にサウンドデバイスが1個から0個になったとき、
　　　　　　　クラッシュすることがあった問題を修正
　　　　　　　（ライブラリの側で対応していただきました）

●【文字列操作】「をファイル↓に出力」で\f[]などの特殊文字入りの文字列を
　　　　　　　ファイル出力した場合、正確に復元されなかったり、<R>が<R>^になったり、
　　　　　　　クラッシュすることがあった問題を修正
　　　　　→　ただし「\\」は1つの「\」に変化して出力されるのが正常な挙動です。
　　　　　　　他にも\cself[?]の変数代入特殊文字などは変換後の内容で出力されます。

●【ピクチャ】「直接ファイル指定」時、ファイルの読み込みに失敗した場合に限り
　　　　　　　\s[0]などの特殊文字を変換して読み込みを再試行するように修正。
　　　→　従来、ピクチャの「ファイル指定」では特殊文字が変換されませんでした。
　　　→　「読み込み失敗時」だけ行うのは、過去に作られたファイル指定の挙動が
　　　　　変わらないようにするため、ないし処理速度を遅くしないための措置です。
　　　　　※つまり、もしData\s[15]\AAA.pngみたいなファイルがあった場合は
　　　　　　Data\s[15]\AAA.pngと入れても\s[15]が変換されずに読み込まれます。
　　　→　ただし処理順の都合で、<SQUARE>などの特殊図形や<CUT/～><SCREENSHOT>処理を
　　　　　特殊文字で指定してもエラーが出るのでご注意ください。


Ver3.342　2024/06/16
●【ゲーム基本設定】ゲーム実行時の「Game.exe動作バージョン」は、
　　　　　　　　「最後にEditorで編集されたバージョン」を
　　　　　　　　動作バージョン最大値として実行するよう修正。
　　　　　　　　一言で言うと「編集時点の動作が再現される」ので将来も動作が安定します。
　　→　たとえば「Ver3.350」のEditorで編集された
　　　　「最新版の挙動で動作」に設定されているゲームデータは、
　　　　それより最新のEditorで編集されない限り、未来のVer3.999のGame.exeで
　　　　実行されても「Ver3.350の挙動」で動作するようになります。


Ver3.340　2024/06/05
●【ゲーム基本設定】「ウィンドウ非アクティブ時の挙動」が「処理を停止」のときは、
　　　　　　「Sys29:プレイ時間（1秒単位）」と「Sys30:[読]プレイ時間(ﾐﾘ秒単位)」が
　　　　　　非アクティブ時に増加しなくなるよう修正
　　　　→　従来は非アクティブの時間分も再アクティブにしたときに
　　　　　　反映されてしまっていました。
　　　　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」を
　　　　　　「旧Ver3.31時点の挙動で動作」に戻すと前の挙動に戻せます。

●【ゲーム基本設定】動作バージョン調整の「旧Ver3.155時点の挙動で動作」を含む
　　　　　　　　　以前のバージョン挙動において、「動作指定」の挙動が
　　　　　　　　　一部、期待通りでなくなっていたバグを修正

●【ピクチャ】移動中のピクチャに「フレーム」指定ありの「相対」座標の
　　　　　「表示」「移動」をした際、ピクチャX・Y座標がマイナス（画面外）の状況だと
　　　　　プラス値の（画面内にある）ときと比べて移動量にずれが生じる問題を修正

●【キー入力】「ウィンドウ非アクティブ時の挙動」が「処理を停止」のとき、
　　　　非アクティブ中に回した「ホイール回転」が、再アクティブにしたときに
　　　　一気に反映されてしまうバグを修正

●【プロ版機能】おそらくVer3.31頃から「ゲーム再起動」コマンドが
　　　　　　　　正常に動作していなくなっていたバグ修正

●【F7ピクチャ一覧】画面サイズX1280超のとき、画面サイズを縮小したときに
　　　　　　　　ピクチャ個数の X/Y の表記が画面外に出てしまうことがあるバグ修正

●【起動時引数】-fでなく-faaaのような引数でも-f処理が行われてしまうバグを修正




【エディター部　修正点】
Ver3.346　2024/06/27
●【コモンイベント】コモンイベント挿入などで「該当なし」が選択されている
　　　　　　　コマンドを「編集」するとクラッシュするバグを修正
　　　　　→　Ver3.344～3.345のみ発生していました。


Ver3.344　2024/06/26
●【コモンイベント】コモンイベント挿入などを「編集」したとき、
　　　　　　　　「文字列の入力」個数が元の状態から増えていた場合に
　　　　　　　　空で選択不能なプルダウンメニューが表示されてしまうバグを修正


Ver3.343　2024/06/17
●【データベースウィンドウ】自動ウィンドウサイズ修正機能の副作用で
　　　　　　　　変なサイズになったりクラッシュする可能性が
　　　　　　　　起きていた問題の修正を試みました。

Ver3.342　2024/06/16
●【データベースウィンドウ】ディスプレイ解像度が小さいと
　　　　　　　OKボタンなどが画面からはみ出すので、ディスプレイ解像度に応じて
　　　　　　　データベースウィンドウ、タイプ設定ウィンドウを
　　　　　　　必要なら自動で縮小して表示する機能を追加。

●【場所移動】「移動先を見ながら選択」画面でマップイベントの
　　　　　　「半歩上に設置」「半歩左に設置」が反映されていなかったのを修正


Ver3.341　2024/06/06
●【マップ選択】Ver3.340でMapTree.datの読み込み先が変わってしまっていたバグ修正


Ver3.340　2024/06/05
●【上部メニュー】「コンフィグを開く」を「Game.exe用コンフィグを開く」に修正

●【エディターオプション】イベントコマンド挿入ウィンドウ設定の「初期状態」ボタンを
　　　　　押すと「ダウンロード」コマンドが「表示順」欄から消滅するバグ修正




【基本システム　修正点】
2024/06/17  Ver3.28に更新
●Ver3.27の状態異常の表示位置の修正にミスがあったのを修正 [ｺﾓﾝ90/123～129行]

2024/06/16  Ver3.27に更新
●320x240[x2]以外の画面サイズで主人公が状態異常になると、
　不自然な位置に状態異常が表示されるバグ修正
　[ｺﾓﾝ90/123～125行、ｺﾓﾝ178/125～127行]


-------------------------------
　Ver3.330～Ver3.338の更新履歴　2024/05/26
-------------------------------

【新機能】
Ver3.337　2024/05/10
●【ピクチャ】特殊図形に「<LINE-??>」を追加。太さ??の線を書くことができます。


Ver3.330　2024/04/29
●【マップイベント】各ページに「前Page方向引継」のチェックボックスを追加。
　　　　　　　オンにするとマップイベントのページが切り替わっても
　　　　　　　前ページの「方向」と「パターン」をそのまま引き継ぐことができます。
　　　　→　ただし直前が「どのページの起動条件にも該当しなかった」場合は、
　　　　　　このチェックがオンになっていても新たに切り替わったページの
　　　　　　「初期方向」「初期パターン」で出現します。

●【変数操作＋】「キャラ」に「不透明度」の取得機能を追加。

●【変数操作＋】「ピクチャ」に「基準位置[0左/10中央/20右+0上1中2下]」の
　　　　　　　　取得機能を追加。
　　　　　→　基準位置が左上なら0、中心なら11、右上なら20、右下なら22を返します。




【ゲーム部　修正点】

Ver3.338　2024/05/26
●【デバッグ機能 ValWatch】ValWatchの以下の反応漏れや行数ずれを修正。
　・「コモンイベント呼び出し」時にも反応するよう修正
　・「動作指定」内の変数操作でも反応するよう修正
　・「キー入力受け付け」の「基本」において
　　「キー入力待ち」にした場合だけValWatchの行数が1行ずれるのを修正

●【F7ピクチャ一覧】1ページあたりに表示されるピクチャ数がおかしくなっていたバグ修正

Ver3.337　2024/05/10
●【起動時処理】GuruguruSMF.dllがバージョン4.0.5のままだと
　　　　　　　　起動時に正規の署名がないと言われてしまうバグを修正

Ver3.335　2024/05/06
●【サウンド】BGM・BGSを「ファイル名で指定」で再生したとき、同じ曲を2回鳴らすと
　　　2回目以降、システム変数の「Sys100～101:BGM/BGS音量補正」の割合をかけた値が
　　　「Sys95/97:再生中BGM/BGS音量[%]」に格納されてしまっていたバグを修正

Ver3.334　2024/05/03
●【ファイル読み込み】パスに日本語文字が多く含まれていると実際は長くないパスでも
　　　　　　　　　　「ファイルパスが長すぎます」というエラーが出るバグを修正

Ver3.333　2024/05/01
●【セーブ・ロード操作】特定状況で「セーブデータへの書き込み」による読み書きが
　　　　　　　　　遅くなってしまう現象を修正

●【セーブ・ロード操作】新たなファイルに「セーブデータへの書き込み」をしたフレーム中は
　　　　　　　　　「Sys24:[読]ｾｰﾌﾞﾃﾞｰﾀ読込判定(1=成功 0=失敗)」が0のままだったのを
　　　　　　　　　1を返すように修正。他、ファイルの削除・コピー・読み書きを
　　　　　　　　　特定の順にするとSys24が0のままになってしまうバグも修正

●【ファイル読み書き】「セーブ・ロード操作」や「文字列操作」のファイル出力・読込など
　　　　　　　　　特に時間のかかる処理は、より少ない回数でも
　　　　　　　　　500万回エラーが出るように修正


Ver3.332　2024/05/01
●【コンフィグ】「グラフィック表示モード」の「ソフトウェアモード」が
　　　　　　　　正常に反映されてなかったバグを修正
　　　　→　この問題はVer3.330以降でのみ発生していました。
　　　　　　ソフトウェアモードにしてもDirectX関連の処理を行っていたため
　　　　　　仮想環境など一部の環境で実行できなくなる問題が起きていました。

●【セーブ・ロード】対象ファイルがない状態で「セーブデータへの書き込み」すると
　　　　　　　　　最初の1個目だけ変数が書き込まれなくなっていたバグ修正
　　　　　　　→　この問題はVer3.330以降でのみ発生していました。


Ver3.330　2024/04/29
●【セーブ・ロード】セーブデータの書き込み・読み込み処理を高速化しました。

●【セーブ・ロード】セーブデータにデータ圧縮を行うようにしました。
　　　→【例】サンプルゲームの開始直後のセーブデータのファイル容量が
　　　　　　　従来の100KBから14KBまで削減され、最短クリア時点で21KBになりました。
　　　　　　　基本的にはプレイを続けるほど圧縮率が低下していきますが、
　　　　　　　ほとんどの場合は以前よりセーブデータの
　　　　　　　ファイルサイズが軽量になります。

●【マップの読み込み】ゲーム中のマップファイルの読み込み処理を高速化しました。
　　　　　　　　　エディター側のファイル圧縮と合わせて、巨大なマップの
　　　　　　　　　読み込み速度が上がることが期待できます。

●【セーブ・ロード】ゲーム中にセーブデータのファイルが外部から変更された場合は、
　　　　　　　　　　最新のファイルの内容を読み直す処理を追加。
　　→　従来は一度読み込んだセーブデータがメモリにキャッシュされていたため、
　　　　同名のファイルが外部で差し替えられたり
　　　　ダウンロード機能やプロ版のファイルコピー機能などで上書きされても
　　　　そのセーブデータファイルの内容が(次回起動時まで)
　　　　反映されない問題がありました。
　　　　
　　→　今後はファイルのタイムスタンプがゲーム内からの
　　　　最終読み込み/書き込み時と違う場合、
　　　　メモリでなくファイルから再読込するようになります。

●【セーブ・ロード】2011年ごろ以前の古いPCだと、セーブデータのファイルが
　　　　　　　　　常に破損する場合があるバグへの対応を試みました。

●【F7ピクチャ一覧】特定の画面サイズの場合、F7ピクチャ一覧のスクロールバーの横幅が
　　　　　　　　　異常に広がるバグを修正

●【全体】古いPCでも問題が起きにくいよう、新しいCPU命令が使われる可能性のある、
　　　　　速度への影響が少なそうなプログラムの最適化機能をカットしてみました。





【エディター部　修正点】
Ver3.338　2024/05/26
●【データベースウィンドウ】数値欄の限界値を±20億に変更。

●【データベースウィンドウ】数値の限界を超えで自動で値が修正された場合、
　　　　　　　　　　　　下部入力欄に値が反映されないバグ修正

●【タイルセット設定】「1画像分CSV出力/読込」でオートタイル24～31が
　　　　　　　　　　　選べなかったミスを修正

●【コモンイベント】「イベントの挿入」で「このコモンからXXつ上下」を選んだとき、
　　　　　　　　　　常に「結果の値」の欄が選択不能になってしまうバグを修正

●【コモンイベント】コモンイベントを選択したとき、無効な「数値」の「入力」欄に
　　　　　　　　　　過去に設定した「初期値」がセットされてしまう現象を修正
　　　　　　　→　今後は無効な「入力」の数値初期値は常に「0」となります。


Ver3.337　2024/05/10
●【コモンイベント】番号が存在しないコモンイベントが指定されている場合に
　　　　　　　　　「編集」するとクラッシュすることがあるバグ修正

●【コモンイベントウィンドウ】起動条件の変数プルダウンメニューの項目を
　　　　　　　　　　　　更新するタイミングを増加させました。
      　　→　処理負荷の都合で特定状況で変数が更新されないようにしていたため。
      　　　　今はよい方法を採用して、軽い負荷で更新が実現できています。

Ver3.336　2024/05/06
●【キー入力】特定の操作をすると下部説明欄にキーボードのキー説明が
　　　　　　　出っぱなしになったり、あるいは必要なときに出なくなるバグを修正

Ver3.335　2024/05/06
●【データベース　データ内容の特殊設定】フォルダ選択を3層までのサブフォルダに対応

●【キー入力】数値入力ボックスを選んでも下部説明欄に変数名が
　　　　　　　出なくなってしまうことがあるバグを修正

●【サウンド】サウンドコマンド入力時の変数説明欄が消えてしまっていた問題を修正


Ver3.334　2024/05/03
●【コモンイベント】コマンド入力後の「このコモンから-X」表記だけが
　　　　　　　　　　文字化けしているバグ修正（+Xの方は問題なしでした）

Ver3.332　2024/05/01
●【起動時】Editor.iniに初期マップが設定されてない場合、
　　　　　　0番のマップがあれば自動で開く機能を追加

●【マップイベント】影番号の選択範囲を0～255番までに制限
　　　　　→　もともと255番までしか対応しておらず、
　　　　　　　影番号を256以上にすると次開いたとき-256される問題がありました。


Ver3.331　2024/04/29
●【空データ】Ver3.330のEditorで生成できる空データが破損していた問題に対応しました。


Ver3.330　2024/04/29
●【マップファイル】マップファイル(.mps)にデータ圧縮を行うようにしました。
　　　　　　似たような空間や建物が多い場合、あるいは広いマップの場合、
　　　　　　.mpsファイルサイズの大幅な削減が期待できます。
　　　→【例】3000x3000のマップを作り、何かマップチップを数マス書き込んで保存すると
　　　　　　従来「100MB以上」のファイルになるところが「400KB程度」になります
　　　　　　（ファイルサイズが約1/250に！)
　　　　　　そこまで行かないケースでも、サンプルゲームのSampleMapA.mpsが
　　　　　　従来52KBだったのが22KBにまで圧縮されることを確認しています。
　　　→【外部ツールを作られている方向けのヒント】
　　　　　Ver3.330で保存した.mpsファイルの26～29バイト目に[解凍後のバイト数]が、
　　　　　30～33バイト目に[圧縮後のバイト数]がint型(4バイト)で格納されており、
　　　　　34バイト目以降の[圧縮後のバイト数]の範囲が
　　　　　LZ4圧縮（ https://github.com/lz4/lz4 のLZ4_compress_default関数）
　　　　　された部分です。
　　　　　非プロテクト版であれば、LZ4の解凍処理（LZ4_decompress_safe関数）を
　　　　　行うことでほぼVer3.32以前と同様のデータフォーマットになるはずです。


●【自動バックアップ】Ver3.330からマップファイルのデータフォーマットが変わるため、
　　　　　　　　Dataフォルダ内の「AutoBackup_Before_Ver3.33_MapFile」フォルダに
　　　　　　　　.mpsファイルが自動でバックアップされます。
　　　　　　→　もし前バージョンのEXEに戻したくなった場合は、
　　　　　　　　「AutoBackup_Before_Ver3.33_MapFile」内の各フォルダを
　　　　　　　　Data内の各フォルダに上書きすることで、
　　　　　　　　少し前までのバージョンのEXEなら
　　　　　　　　マップが読み込みできるようになると思います。
　　　　　　→　不要な場合は「AutoBackup_Before_Ver3.33_MapFile」フォルダを
　　　　　　　　消しても大丈夫です。

●【マップの保存・読み込み】マップファイルの読み書き処理を高速化しました。
　　　　　　　　特に巨大なマップの読み込み・書き込み時間の短縮が期待できます。

●【DB操作・条件（変数）・セーブロード操作・コモンイベント】
　　　一部の変数プルダウンメニューを選択時、選んだ項目の内容が
　　　下部説明欄に表示されるよう修正しました
　→　「DB操作」コマンド時などはプルダウンメニューの変数名が一部分しか
　　　読めない問題がありましたが、これでいくらか読めるようになるはずです。


●【ファイル選択】ピクチャやキャラ画像などのファイル選択時、
　　　　　　　フォルダ選択欄に、サブフォルダ（さらに深い場所のフォルダ）も
　　　　　　　表示されるように修正。ただし最大の深さは3階層までです。
　　　　→たとえば「BGM/01/Battle/test.ogg」のファイルが読み込めます

●【セーブ･ロード処理】変数プルダウンメニューのコモンセルフ変数の
　　　　　　　　　　　「名前」が表示されるように修正
　　　　→　従来は「このコモンEv:Self96」とだけの表記になっていて、
　　　　　　コモンセルフ名が表示されていませんでした。

●【マップエディタ】XまたはY座標が1000以上の場所にオートタイルを書き込むと
　　　　　　　そこから-1000された座標にもマップチップが上書きされたり、
　　　　　　　正常に書き込めないことがあるバグを修正
　　　　　→　長さ1000までのマップしか使わない前提で
　　　　　　　内部処理が作られてしまっていました。

●【マップ設定ウィンドウ】マップサイズの限界を「縦」または「横」は9999以下、
　　　　　　　　「縦×横」が10000000（1000万）マス以内になるよう制限しました。
　　　　→　このあたりの面積から編集時の挙動が不安定になってしまうようです。

●【セルフ変数使用状況】「コモンイベント」コマンドの「イベントの挿入」を
　　　　　　　　選んでいた際、入力値にコモンセルフ変数を入れても
　　　　　　　　使用状況一覧側では使用済みと判定されなくなっていたバグを修正

●【コモンイベント】コモンイベントコマンドの「新表示」時、
　　　　　　コモン名に対応する番号が変わっていた場合は
　　　　　　すぐ反映されるよう修正

●【変数操作+・キャラエフェクト・イベント制御】コマンドウィンドウを
　　　　「表示」し直したとき、対象キャラを選ぶプルダウンメニュー内の
　　　　マップイベントが更新されないことがあるバグを修正

●【コモンイベントウィンドウ】各リストボックス内で右クリックした後に
　　　　ショートカットキーを使うと、右クリックした方でなく、
　　　　「最後に左クリックしたボックス側」に対して
　　　　処理が行われてしまうバグを修正




【基本システム　修正点】
2024/04/28  Ver3.26に更新
●移動時のレベルアップ時、成長パラメータの文字が
  はみ出す可能性があった問題を修正[ｺﾓﾝ70/232・259-260・287・315-319行]

●コメントの説明文が間違っていた箇所を修正
　(×移動中のみ有効→○戦闘中のみ有効)　[ｺﾓﾝ136/3行目]

-------------------------------
　Ver3.310～3.324の更新履歴　2024/04/19
-------------------------------

【大きな変更点】
Ver3.310　2024/04/11
●【ゲームデータの作成】従来よりセキュリティ強度が大幅に向上した最新の
　　　　　　　　暗号化処理を追加しました。

　　→　無料版では『Ver3.310暗号化(Game時全ﾒﾓﾘ読込)』、
　　　　プロ版ではさらにプロテクトキー設定時のみ
　　　　『プロテクトキー使用暗号化Ver1.1(Ver3.31～/Game時全ﾒﾓﾘ読込)』
　　　　が使用可能になります。

　　→　今回搭載されたこれらの『Game時全メモリ読込』型の暗号化は
　　　　無料版、プロ版共に、Game.exe起動時に
　　　　.wolfファイル（プロ版なら指定した拡張子のファイル）を
　　　　全てメモリに読み込んでから起動します。
　　　　
　　→　メモリ全読み込みやセキュリティチェックなどにより、
　　　　暗号化を行ったゲームの初回起動時間が
　　　　以前より少し長くなる場合があります。
　　　（開発者の環境で最低でも約+0.25秒）

　　→　[プロ版のみ ロード画像] ゲームデータが数百MBなど大きい場合は、
　　　　　「ゲーム基本設定[Pro専用]」にて初期ロード画像を
　　　　　『BasicData』フォルダ内の画像に設定すると、
　　　　　暗号化したゲーム上での「ロード画像」読込タイミングが
　　　　　少し早くなります。

　　→【専門的な話　DLLに正規の署名がないと言われて起動しない場合】
　　　　暗号化ファイルが存在する場合、ゲーム中のセキュリティ対策として
　　　　「DLLインジェクション」という攻撃への対策が実行されます。
　　　　「DLLインジェクション」はゲームの内部データや動作を変更したり、
　　　　秘密情報を抜き取ったりする攻撃です。
　　　　
　　　　なんらかの「実行中のアプリから情報を取得するソフト」が
　　　　実行されている場合、それが安全・危険にかかわらず
　　　　ゲーム起動時に以下のエラーが表示されます。
　　　　
　　　　『読み込まれた以下のDLLに正規の署名がありません。
　　　　　セキュリティ上の安全のため実行を中止します。
　　　　　　C:\～～～\<DLL名>.dll
　　　　* 上記DLLを使用しているソフトウェアを終了して
　　　　　ゲームを再起動することでプレイ可能になる場合があります』

　　　　このエラーが出た場合は、上記に書かれている通り
　　　　そのDLLを使用するソフトウェアを起動前に
　　　　いったん停止させていただく必要がございますので、
　　　　あらかじめご了承ください。

　　※この文面はプレイヤーの皆さまへの説明として引用してくださって構いません。



【ゲーム部　修正点】

Ver3.324　2024/04/19
●【起動処理】最新の暗号化ファイルがある場合の実行時、AVX命令が使えない
　　　　　　　CPUを搭載した(およそ2011年以前の)PCで起動できなくなるバグの
　　　　　　　修正を試みました。
　   →　特定の環境では改善が見られましたがまだ動作しない環境はあるようです


Ver3.323　2024/04/15
●【起動処理】Dataフォルダの中に拡張子のないファイルがあると
　　　　　　　Game.exeが起動できないバグを修正
　　　　　→　Ver3.310以降に発生していたバグでした

●【デバッグウィンドウ】デバッグウィンドウのサイズが正しく記憶されておらず、
　　　　　　　次の起動時に「ログ保存」ボタンなどが消えるバグを修正


Ver3.322　2024/04/13
●【場所移動】トランジション準備中に「場所移動」したとき、移動先のキャラクターが
　　　　　　　一瞬だけ先に表示されてしまうバグを修正
　　　　　　→　Ver3.310以降で発生していました。

Ver3.321　2024/04/13
●【キャラクター】主人公が移動アニメーションしなくなっていたバグを修正
　　　　　　　Ver3.320のピクセル移動修正によって発生した副作用でした。


Ver3.320　2024/04/13
●【エフェクト】「キャラ」の「ピクセル移動」を(α版)から(β版)に修正。
　　　　　　「4方向画像」だと「アニメも方向転換も行えない」問題が解消された他、
　　　　　　　3フレーム内に1ピクセル以上「ピクセル移動」で動き続けた場合は
　　　　　　　「移動アニメーション」をおこなうようになりました。
　　　→　これまでは
　　　　「8方向画像のときだけピクセル移動時に方向転換できて移動アニメーションする
　　　　（ただしT・TX画像はアニメしない）」「4方向画像だと方向転換もアニメもしない」
　　　　　という統一感のない挙動でした。
　　　→　前の仕様にしたい場合は「ゲーム基本設定」で「旧Ver3.300以前の挙動」に
　　　　　することで戻すことができます。


●【デバッグウィンドウ】デバッグウィンドウの表示・非表示を繰り返すと
　　　　　　　　　だんだんウィンドウサイズが小さくなってしまうバグを修正

●【起動時】起動時のファイルパスが非常に長い場合、
　　　　　　エラーが出て起動を中止するように修正。
　　　→　パスが長すぎるとファイルが読めなくなってしまうためです。

●【言語環境】ファイルパスに他言語の文字が入ってる状態で起動しても、
　　　　　　いくらか安全に起動しやすくなるよう修正を試みました。

●【ゲームデータ出力】特定のプロテクトキーを設定してゲーム出力し、
　　　　　　　セーブされたデータをロードするとクラッシュすることがあるバグ修正
　　　　　　→　これはVer3.310以降のみ起きていた問題です。

●【場所移動】マップサイズ(0,0)のマップに移動したときは
　　　　「マップ外に移動させようとしました」エラーを出さないよう修正
　　　→　Ver3.310よりマップサイズ(0,0)のマップに移動してしまう
　　　　　謎の問題が起きるようになったらしいので応急処置です。
　　　　　根本原因は今のところ不明です。

●【場所移動】並列イベント内でキャラクターを「マップ外」に場所移動させ続けると
　　　　　　　クラッシュすることがあるバグを修正


Ver3.311　2024/04/11
●【全体処理】追加したセキュリティ機能のせいでプチフリーズやフリーズが
　　　　　　　発生する現象の修正を試みました


Ver3.310　2024/04/11
●【デバッグ表示機能】テストプレイ中のF7のピクチャ一覧の内容に、
　　　　最後に「ピクチャエフェクト」が実行されたイベント位置、
　　　　「最終[エフェクト]Ev」を表示するよう修正

●【デバッグウィンドウ】デバッグウィンドウがサイズ変更可能に。
　　　　　　　　変更したサイズは次回起動時も引き継がれます
　　　　　　　　（Game.iniに書き込まれます）

●【デバッグ文】デバッグウィンドウをUnicodeに対応。
　　→　デバッグログの文字コードは(BOMなし)UTF-8になります。
　　→　MS UI Gothicフォントで表示可能な範囲であれば特殊文字も表示可能になります。

●【デバッグ表示機能(実質プロ版のみ)】横1280より大きい画面サイズにして
　　　　ゲームの「ウィンドウサイズ」を縮小した場合、縮小された比率分だけ
　　　　各デバッグ表示や緑帯エラー文の文字などが拡大表示される機能を追加
　　　　（文字が小さくなりすぎて読みにくくなるため）

●【セーブ・ロード】未来のセーブデータが読み込まれたときに警告が出る機能を追加。
　　　　→　従来はこの機能がなかったので、古いGame.exeでVer3.310以降のセーブデータを
　　　　　　読み込むとクラッシュしたり破損していると判定されるかもしれません。
　　　　　　基本的に、一度新しいバージョンにしたら、古いバージョンには戻さないでください。


●【セーブ・ロード操作】「セーブデータへの(変数)書き込み」で
　　　　「新たに作られた」セーブデータを「保存・読込」から読み込むと
　　　　DB情報が一切ないため何も出ずにクラッシュしてしまうバグを修正。
　　　　代わりにエラー文が表示されるようになります。

●【セーブ・ロード処理】特定の状況でデータ破損が確認されたとき、
　　　　　　「.brokenファイルに置き換えました」とエラーが出ているのに
　　　　　　何もファイル名が変わっていないことがあるバグを修正

●【サウンド】システム変数「Sys102：SE音量補正」を0にすると
　　　　　　SEの「停止」コマンドがきかなくなる現象を修正。

●【ウィンドウの×ボタン】ウィンドウ右上の×ボタンからゲームを終了させた場合、
　　　　　　　　　ウィンドウが消えてもMIDI再生が数秒間
　　　　　　　　　残り続けてしまうことがある現象に対策





【エディター部　修正点】

Ver3.325　2024/04/●
●【ゲームデータ作成】Ver3.31暗号化以降、またはプロテクトVer1.1以降の暗号化を
　　　　　　　　　　　すると2011年頃のPCで起動できなくなる問題について記載


Ver3.322　2024/04/15
●【条件(文字列)】コモンイベント内でタブを切り替えたとき、Cself変数名が
　　　　　　　前に選択していたコモンイベントのCself名のままに
　　　　　　　なっていることがあるバグ修正

Ver3.310　2024/04/11
●【文章の表示】デバッグ文の裏技を表示するボタン[?]を追加
　　　　　　　ボタンを押してじっとするかカーソルを合わせて1秒経つと表示されます。
　　　　　　　→　ValWatchとPictureWatchの入力例です
　　　　　　　→　Ver3.320　2024/04/13
　　　　　　　　　さらにValWatchとPictureWatchの簡単入力ボタンも付きました。

●【イベント制御】ラベルコマンドの注意書きを表示するボタン[!]を追加。
　　　　　　　　ボタンを押してじっとするかカーソルを合わせて1秒経つと表示されます。
　　　　　　　→　条件分岐の【1】～【4】内に飛ぶとその処理が終わった後に
　　　　　　　　「上記以外の場合」に飛んでしまう注意が書かれています。

●【自動バックアップ】Ver3.310から基幹ファイルのデータフォーマットが変わるため、
　　　　　　　　　　BasicDataフォルダ内の「AutoBackup_Before_Ver3.31」フォルダに
　　　　　　　　　　.datファイルや.projectファイルが自動バックアップされます。
　　　　　　→　もし前バージョンのEXEに戻したくなった場合は、
　　　　　　　　このフォルダ内のファイルをBasicData内に上書きすることで、
　　　　　　　　少し前までのバージョンのEXEなら
　　　　　　　　読み込みできるようになると思います。


Ver3.310　2024/04/11
●【トランジション準備とウェイト】「トランジション準備」中に「ウェイト」をしても
　　　　　　　　　　　ほぼ待ち時間が発生しなくなっていたバグを修正。
　　→　「ゲーム基本設定」の「Game.exe 動作バージョン調整」で
　　　　「旧Ver3.300時点の挙動で動作」にすると前の挙動に戻せます。

●【ゲームデータの作成】プロテクトキー付きでゲームデータ出力をした後、
　　　　　「プロテクトキーなし」にして再度ゲームデータを作成したとき、
　　　　　キーファイルが削除されないことがあるバグを修正
　　→　プロテクトキーなしのゲームデータでキーファイルが
　　　　残ったままだと、正常にゲームが起動できなくなります

●【コモンイベント】「該当なし」のコモンイベントコマンドを「編集」すると
　　　　　　　　　クラッシュしたり変な値が格納されてしまうバグを修正
　　　　　　　　(Ver3.303の、「編集」時の高速化処理による副作用でした）



【サンプルデータほかの修正】
Ver3.310　2024/04/11
●フルパッケージの「サンプルゲーム」、ならびに
　新規作成時の「完全初期データ」に
　不要なデータが含まれていたのを修正



【基本システム修正】
2024/04/13  Ver3.25に更新
●ピクセル移動オン時、仲間1～仲間5のT・TX画像のキャラクターが
　アニメーションしなかったバグを修正しました
　（Ver3.320へのGame.exeのアップデートでも自然と直ると思います）
   [コモン39/29-33・150-154・161-165・172-176・187-191・198-202・
     209-213・224-228・235-239・246-250・266-270行]

2024/04/10  Ver3.24に更新
●Shiftを押しながらセーブ画面を開いたときに出てくるロード画面説明のウェイトを
  「キー押し加速60フレーム」から「20フレーム固定」に変更[コモン131/35行目]


-------------------------------
　Ver3.300～3.303の更新履歴　2024/03/12
-------------------------------

【新機能】
Ver3.300　2024/03/04
●【エフェクト】ピクチャエフェクトに『Zオーダーを変更』を
　　　　　　追加しました。ピクチャ間の上下関係を柔軟に変更出来ます。
　　　　　　ピクチャの初期Zオーダーは「0」です。
 　　　　　Zオーダーには「-2000000000(-20億)」のような値も指定可能です。
　　　　　　
　　→【例】あるピクチャのZオーダーを「1」に変更すると、そのピクチャは
　　　　　　Zオーダー「0」の全ピクチャより前面に表示されます。
　　　　　「-1」にすると「0」の全ピクチャより後ろに表示されます。
 　　
　　→　同じZオーダーなら通常通り「ピクチャ番号」の大きい方が上に表示されます。
　　
　　→　ただし、Zオーダーをいくらにしても以下のピクチャ番号範囲の
　　　　上下関係からは抜けられません。Zオーダーを変えても
　　　　ピクチャ番号10万、0、-10万の壁は越えられない、と考えると理解しやすいです。
　　【例】「ピクチャ-1[3]のZオーダー100」のピクチャは
　　　　「ピクチャ0[1]のZオーダー0」よりZオーダーが大きくても下に表示されます。
　　　・[1]ピクチャ番号が0～99999なら文章や選択肢の下に表示
　　　・[2]ピクチャ番号が100000(10万)以上なら文章や選択肢の上に表示
　　　・[3]ピクチャ番号が-1～-99999なら、マップの上、かつ、イベントの下に表示
　　　・[4]ピクチャ番号が-10万以下なら、マップの下、かつ、遠景の上に表示
　　　
　　→　「Zオーダー」を変更すると従来のピクチャ表示とは別の処理に
　　　　切り替わるのですが、これによって少しだけ描画負荷が増えるようです。
　　　　開発者の環境ではピクチャ2000枚で0.3ms程度の増加が確認されました。
　　　　全ピクチャの「Zオーダー」を全部「0」にすると従来の表示処理に戻るので
　　　　負荷が従来並みに軽くなります。

　　→【Zオーダーの利用例】
　　　・開発進行と共に「ピクチャ番号」をひたすら後ろに継ぎ足しながら使っても
　　　　上下関係をZオーダーで指定し直せるので、ピクチャ管理が少し楽になります。
　　　・「選択中のカードだけ最前面に表示する」といった演出がZオーダーの
　　　　変更だけで簡単に作れます。
　　　・2D見下ろしRPGのキャラや物体を全てピクチャで表示するなど、大量の画像が
　　　　表示される中で画像の重なり関係を高速で変化させたい場合にも有用です。
　　　（「ピクチャIDのコピー・移動」でも実現できましたが、Zオーダーなら
　　　　何百枚のピクチャの表示順を変更しても1フレーム中の負荷は同じです）
　　　・強引に3D描画をするときも、より高速な処理で作れることが期待できます。


●【エフェクト】キャラエフェクトに「向き変更」、
　　　　　　　　「待機時アニメON/OFF」「移動アニメON/OFF」「向き固定ON/OFF」
　　　　　　　　「すり抜けON/OFF」「前面表示ON/OFF」、
　　　　　　　　「移動速度を変更」「移動頻度を変更」「アニメ頻度を変更」
　　　　　　　　を追加。これらの変更に「動作指定」を使う必要がなくなります。

●【変数操作＋】 「キャラ」の取得可能な値として
　　　　　　　　「移動速度」「移動頻度」「アニメ速度」を追加

●【ゲーム基本設定Pro(プロ版)】「デフォルトのウィンドウ拡大率」の項目を追加。
　　　　　　　　　起動時のゲーム画面の拡大率を変更できます。
　　　　　　　　　0.1％単位で設定でき、初期値は「1000」です。

●【システム変数(プロ版)】「Sys148：[P]次起動ｳｨﾝﾄﾞｳ拡大率[0.1%]」を追加。
　　　　　　　　　次回起動時の初期ウィンドウサイズを0.1％単位で変更できます。
　　　　　　　→　値を「0」以下にすると「ゲーム基本設定Pro」で指定した
　　　　　　　　　「デフォルトのウィンドウ拡大率」で表示されます。
　　　　　　　→　「F12やタイトルに戻る、ロードする」などでは機能しません。
　　　　　　　　　この値が作用するのは「EXEから起動させた場合」のみです。

Ver3.301　2024/03/05
●【システム変数】「Sys136：精密ｳｨﾝﾄﾞｳ拡大率[0.1%]」を追加。
　　　　　　　　「Sys148：[P]次起動ｳｨﾝﾄﾞｳ拡大率[0.1%]」に単位を合わせた
　　　　　　　　システム変数です。




【ゲーム部　修正】
Ver3.303　2024/03/12
●【ピクチャ】ディレイ付きのピクチャを大量に「表示」すると、
　　　　　イベント処理時間がVer3.283以前の古いバージョンより
　　　　　非常に大きくなってしまっていた問題を修正。
　　　　　最適化をオンにしたのでこれ以外の部分で
　　　　　いくらか高速化される部分も出てくると思います。
　　　　　
　　→　ただし、あえて無効化していた最適化を
　　　　再度オンにして前の状態に戻したので、
　　　　何か別の問題が再発する可能性があります。


Ver3.302　2024/03/05
●【変数操作など】並列コモンイベントや自動コモンイベント内など
　　　　　　「マップEvから呼ばれていない」コモンイベント内から
　　　　　　「この(Map)Evのセルフ変数(1100000～)」の値を読み込んだとき、
　　　　　　999990などの謎の数字が返ってきていたバグを修正。
　　　　　　今後は「0」が返るようになります。

Ver3.300　2024/03/04
●【ピクチャ】ピクチャを「0フレーム」で「消去」したとき、同じフレーム中に
　　　　　それと同じピクチャ番号で「表示」するとピクチャエフェクトが
　　　　　消えずに引き継がれてしまうバグを修正
　　→　今後は「0フレーム消去が実行された瞬間に全ピクチャエフェクトもリセット」
　　　　されます。「Zオーダー」も「0」に戻ります。
　　→　「ゲーム基本設定」の「Game.exe 動作バージョン調整」で
　　　　「旧Ver3.270時点の挙動で動作」以前にすると前の挙動に戻せます。

●【デバッグ文】コモンイベントの返り値を受け取ったタイミングで
　　　　　デバッグ文のValWatchに指定した変数の値が変わったとき、
　　　　　ValWatchで検出されるデバッグウィンドウ内の
　　　　　「処理行数」がずれて表示されてしまうバグを修正

●【F9変数表示】テストプレイ中にF9で表示される変数表示画面で、
　　　　ページが最後まで行った後、追加で不要なページが
　　　　出てしまうことがあるバグを修正

●【動作指定】動作指定コマンド内から「主人公」や「仲間」のセルフ変数を
　　　　　　呼び出そうとしたときにエラーが出なかったバグを修正

●【画面サイズ】起動時、もし「ゲーム画面サイズ」がPCの「ディスプレイ画面」より
　　　　　　大きければ、自動でウィンドウ拡大率を縮小する処理を追加




【エディター部　修正】
Ver3.303　2024/03/12
●【コモンイベント】コモンイベントが多いとコマンドを「編集」するときの
　　　　　　　　待ち時間が長かったのでレスポンスの向上を試みました
     →　コモンイベント欄の初期プルダウンメニューを最小限だけ読むようにしたり、
　　　　最初に開いた画面で必要ない場合は入力の文字列変数の
　　　　プルダウンメニューなどを読み込まないようにしました。


Ver3.302　2024/03/05
●【コモンイベント】数値入力欄を選び、説明欄にコモンセルフ変数を表示しようと
　　　　　　　　　　した場合にクラッシュするバグの修正を試みました。
　　　　　　　　（おそらくVer3.301だけで発生するバグでした）

●【動作指定】「動作指定」ウィンドウを新たに開いた場合、
　　　　　　　動作対象のプルダウンメニューの一番下に
　　　　　　「Ev-1:[存在せず]」が出てくるバグを修正。


Ver3.301　2024/03/05
●【ゲームデータ作成】「Dataフォルダまるごと暗号化」した後に
　　　　　　それ以外でゲームデータ出力すると、
　　　　　　「Data.wolf」や「プロ版のキーファイル」が消されずに
　　　　　　残ってしまっていたので、それも削除されるよう修正

●【動作指定】動作指定のコマンド一覧の表記を、全体的に
　　　　　　　もう少し読みやすくなるよう調整。


Ver3.300　2024/03/04
●【ゲームデータ作成】ゲームデータ作成時、これまでは
　　　　　　　「いったんゲームデータフォルダをまるごと削除」してから
　　　　　　　ゲームデータを生成し直していたのを、Ver3.300からは
　　　　　　　「すでにゲームフォルダがある場合は削除せず」、
　　　　　　　「Dataフォルダだけ削除」「EXEは上書き」という形で
　　　　　　　ゲームデータを作成するよう修正してみました。
   →　「ゲームデータフォルダ」をアップロード用データとして扱っている場合、
     ゲームデータを出力し直すと同梱の説明書などが消えてしまう問題がありました。

●【システム変数】「Sys30:プレイ時間(ミリ秒単位)」は
　　　　　　　　読み込み専用だったので変数名に[読]を追加

●【キー入力】「特定キーのみ判定」でキャプション欄に表示される
　　　　　キーボードの対応キー（100～399までの値）が、
　　　　　キーボード以外でも表示されてしまっていたのを修正

●【動作指定】コマンド欄の「このEvのｾﾙﾌ変数」表記を
　　　　　　　「動作Evのｾﾙﾌ変数」に変更。
　　　　　→　もともと動作指定内でセルフ変数（1100000～）を指定した場合は、
　　　　　　　「動作Ev」のセルフ変数が使われますが、
　　　　　　　表記が悪くて誤解の元になっていました。




【基本システム修正】
Ver3.23　 2024/03/04
●「■主人公ピクセル移動切り替え」コモン内の動作指定で行っている
　「向き固定ON/OFF」を全て「キャラエフェクト」に差し替え
　　[コモン39/26・135・213行]
　　
  →  当該コモン内で「動作指定」を使っていたせいで、ピクセル移動ON中に
  　何らかの「動作指定」を実行すると変な挙動をすることがありましたが、
  　今後はそういった問題が起きなくなります。


-------------------------------
　Ver3.280～3.282の更新履歴　2024/02/21
-------------------------------

【ゲーム部　修正】
Ver3.281　2024/02/20
●【文字列操作】キーボード入力時、文字があふれると最後の文字が
　　　　　上書きされてしまう挙動が変わり、文字がいっぱいの場合は
　　　　　何を入力しても最後の文字が変更されないようになりました。


Ver3.280　2024/02/20
●【文字列操作】キーボード入力時、「システムDB12:文字色」の
　　　　　「10:[Sys]入力文字色」に暗い色が設定されていると
　　　　　　変換候補の文字が読めなくなるので、その場合は「候補選択欄の下地」の色を
　　　　　　Sys10の各RGB値に+70した色で表示するよう修正
　　→「[0.299*赤 + 0.587*緑 + 0.114*青] の値が70以下」の場合にこの処理が行われます。
　　　とにかく文字と下地の色の差を一定以上生み出すための処置です。



【エディター部　修正】
Ver3.282　2024/02/21
●【コモンイベント】「コモンイベント」イベント編集時、
　　　　　文字列入力を含むコマンドの編集で
　　　　　クラッシュしてしまうことがあるバグを修正


Ver3.280　2024/02/20
●【場所移動】コモンイベントウィンドウから「場所移動」コマンドを開いたとき、
　　　　　「起動直後」や「マップ選択ウィンドウで編集マップを切り替えた直後」だと
　　　　　マップイベントが指定できないバグを修正

●【コモンイベント】「コモンイベント」コマンドの「修正」画面を開くのが
　　　　　　　　　　いくらか高速化されました。

●【コモンイベントウィンドウ】コモンイベント0内のコマンドでマップEv名が
　　　　　　　表示されていた場合、初回起動時にそのマップEv名が存在しないと
　　　　　　　表示されてしまう現象を修正


-------------------------------
　Ver3.270～Ver3.279の更新履歴　2024/02/06
-------------------------------

【ゲーム部　修正】
ver3.277　2024/02/03
●【プロ版機能】「フォルダ作成」機能において、末尾に「/」が入っていないと
　　　　　　　　フォルダ生成されなくなっていたバグを修正
　　　　　　　→　Ver3.24あたりのフォルダ作成処理の更新以降、
　　　　　　　　　この問題が起きていた可能性があります。

ver3.276　2024/02/02
●【システム変数】「Sys28:[読]経過ﾌﾚｰﾑ数[1000万で一周]」、
　　　　「Sys29：[読]プレイ時間（1秒単位）」
　　　　「Sys30：[読]プレイ時間(ﾐﾘ秒単位)」から「[読]」表記を削除
　　　　→　これらの変数はだいぶ前から「代入」が可能になっていました。


ver3.274　2024/01/18
●【ピクチャ】「ディレイ」を指定してピクチャを「表示」する場合、
　　　　　ファイル読み込みエラーが起きた場合に表示される「処理地点」が
　　　　　本来のイベント位置と違うところを指してしまう問題を修正

●【ピクチャ】長いファイル名のピクチャ指定時にエラーが起きた場合、
　　　　　クラッシュする可能性があったのを修正

●【ダウンロード】URLのエンコードをオンにした場合や
　　　　長いURLのエラー処理時にクラッシュすることがあるバグを修正


Ver3.273　2023/12/31
●【システム変数】「Sys55～57：決定/キャンセル/サブキー(パッド）」に
　　　　　　301～320までの値を格納できるように修正
　→　対応パッドボタンが314までだったのが320まで対応になりました。
　　　同時にパッドボタンに関連したバグも修正されたと思います。

●【特殊文字】特定条件で、速度変更の特殊文字「\sp[?]」を入れたときに
　　　　　文字が速度通りに処理されていない場合があるバグを修正


Ver3.271　2023/12/04
●【特殊文字】「\>」(瞬間表示）の特殊文字の後に\r[A,B]でルビを表示する場合、
　　　　　　一瞬だけルビの小文字部分が通常文字サイズで出てしまうバグ修正


Ver3.270　2023/11/24
●【マップイベント】「接触範囲拡張」した「プレイヤー/イベント接触」イベントが
　　　　　　「通行不能」チップ上にあるか、またはイベント本体が通行不能な場合、
　　　　　　接触範囲拡張内で1歩あるくたびに「移動開始時」と「移動終了時」で
　　　　　　2回連続でイベントが起動してしまうバグ修正。
　　　→　「移動開始時」に起動する処理がバグでしたので、以後はなくなります。
　　　→　ゲーム基本設定で「旧Ver3.250の挙動で動作」にすると前の挙動に戻せます。





【エディター部　修正】
Ver3.279　2024/02/06
●【イベントコマンド操作】「イベントコマンド→クリップボードへコピー」→
　　　　「コード貼り付け」する際、空の文字列("")を含んだコマンドが
　　　　正常にコピーできなくなっていたバグを修正（Ver3.278のみで発生）

●【コモンセルフ使用状況】「コモンイベント」の「イベントの挿入」コマンドに対し、
　　　　　　　　「ページ」に指定されたコモンセルフ変数が1つずれて
　　　　　　　　使用されている扱いになっているバグを修正

●【コモンセルフ使用状況】「コモンイベント」の「イベントの予約」コマンドに対し、
　　　　　　　　入力不能な「ページ」に指定されたコモンセルフ変数も
　　　　　　　　使用されている扱いの判定対象に含まれてしまっていたバグを修正


Ver3.278　2024/02/04
●【イベントコマンド操作】「イベントコマンド→クリップボードへコピー」→
　　　　「コード貼り付け」したとき、「(」が文字列内に含まれると
　　　　「MoveRoute Read Error!」と出てしまうバグ修正

Ver3.276　2024/02/02
●【動作指定】「イベントコマンド→クリップボードへコピー」→「コード貼り付け」
　　　　しても「動作指定」コマンドだけこれまでコピーできなかったのが、
　　　　今後コピーできるようになりました。

●【コモンイベントウィンドウ】「セルフ変数使用状況」で「動作指定」内の
　　　　　　　　　変数もチェック対象に入れるよう修正

●【検索・置換ウィンドウ】「動作指定」コマンド内の変数がこれまで
　　　　　　　　　検索・置換の対象外になっていた問題を修正

●【条件(変数)】「4変数を連動」を解除した状態で4択目の
　　　　　「Self、変、ｼｽﾃﾑ」などのボタンを押して「入力」したとき、
　　　　　3択目の変数にも変数切り替えが行われてしまうバグを修正


Ver3.275　2024/01/18
●【コモンイベント】「ｺﾓﾝEv名で呼出」で、「コモン2以下のコモンイベントを
　　　　選んで修正したときの問題」の修正の副作用で、「修正」時に文字列の
　　　　チェックが外れるバグが発生していたので、この修正分を戻しました。

Ver3.274　2024/01/18
●【コモンイベント】「ｺﾓﾝEv名で呼出」でコモン2以下のコモンイベントを
　　　選んでいると、そのコマンドを「修正」したときに挿入・予約欄側の
　　　コモンイベントが0番になる現象を修正

●【コモンイベント】「結果の値」を変えてから結果を返さない別コモンに
　　切り替えてもそれが残ったままになっており、「入力」すると
　　本来結果値のないコモンイベントにも結果値が設定されてしまうバグ修正
　　（Ver3.273でのみ発生していました）

●【コモンイベント】「イベントの挿入」「予約」で変数を指定したとき、
　　　そのコマンドを「修正」すると「結果の値」が選択可能になるバグ修正

●【キー入力】「キー入力受け付け」の「キーボード全キー」で「特定キーのみ判定」したとき、
　　　300番以降の「対応キー」も説明欄に表示されるよう修正
　　→　311番あたりまでキーがあるのに表示されていませんでした。

●【エフェクト】「ピクチャ」の「変換/色相/彩度/明度」を指定したコマンドを
　　「修正」する際、一度非アクティブにして再度アクティブにし直すと
　　クラッシュするバグ修正


Ver3.273　2023/12/31
●【場所移動】「移動先を見ながら指定」画面のマップツリーの
　　　　　展開状態が「マップ選択ウィンドウ」側と同じように
　　　　　なるように修正

●【変数操作】別のコモンイベントへ移動してもセルフ変数名が
　　　　　　更新されなくなっていたバグ修正(Ver3.272以降発生）

●【コモンイベント】「ｺﾓﾝEv名で呼出」に\cself[5]などを入れたコマンドを
　　　「修正」すると入力欄が全てオープンになっていたが、
　　　そのうち「結果」欄だけがグレーアウトしてしまう現象を修正。

●【データベースウィンドウ】下部入力欄にフォーカスが当たっているときに
　　「Tab」を押すと一番下の項目（19、39番など）にしか飛ばない問題を修正

●【マップ選択ウィンドウ】ツリーの展開状態を変えた後に「データ更新」を押しても
　　　　　前の状態に戻ってしまうことがあるバグを修正


Ver3.272　2023/12/17
●【変数操作】右辺にV9-XX（最後の変数）などを選択した状態で、システムDBから
　　　　　　　通常または予備変数のデータ数を減らすとクラッシュするバグを修正

●【変数名の表示】『変数操作』『変数操作＋』『ピクチャ』
　　　　『エフェクト』『セーブ・ロード操作』『イベント制御』『コモンイベント』
　　　　の変数名の表示欄の処理を微調整。
　　　　コマンド入力ウィンドウを閉じたときは変数名表示欄を空白にするように、など。


Ver3.271　2023/12/04
●【ゲーム基本設定】プロ版で設定できる画面サイズの横幅を最低100から150に変更。
　　　　　→　100ピクセルの横幅にしてもタイトルバーの－□×ボタンの幅だけで
　　　　　　　設定した画面幅を超えてしまい、画面が正常に表示されなくなるため。

●【マップイベント】「接触範囲拡張」欄が4文字以上になったら自動で250が入るよう修正。
　　　　　　　また、手動で入力したとき限界(250)以上の数値が入ってしまうバグを修正。



【基本システム修正】
Ver3.22　 2024/02/02
●HP回復した後に全員HP0のままだった場合、全滅処理が
　起動してしまうバグを修正[コモン70/68-72行]

Ver3.21　2024/01/19
●「発動回数/武器の影響」が「武器依存でない」カウンターが行われたとき、
　防具欄に装備している武器があるとそれでカウンターしてしまうバグ修正
　 [コモン197/183-184,189-190,220-233行目]


-------------------------------
　Ver3.260～3.261の更新履歴　2023/11/23
-------------------------------

【ゲーム部　修正】
Ver3.261　2023/11/23
●【エフェクト】「角度」を付けた「文字列ピクチャ」に対し、
　　　　　　　　ピクチャエフェクトの「シェイク」をかけると
　　　　　　　　1文字ずつ異なるタイミングで移動してしまう現象を修正




【エディター部　修正】
Ver3.261　2023/11/23
●【検索ウィンドウ】「検索」を選んだ場合
　　　　　　または「【コマンド文】から検索」を選んでいた場合、
　　　　　　検索/置換履歴が残らなくなっていたバグを修正

●【コモンイベント コマンド】「イベントの挿入」の初期値がコモン0になるよう修正

●【コモンイベント コマンド】コモンイベント名を変更した後に初めて開くと
　　　　　　　　　　　　　　古い名前がそのまま表示されているバグを修正

●【コモンイベント コマンド】「イベントの挿入」の「修正」時、ホイールで
　　　　　　　　　　ドロップダウンメニューを上下させたとき、
　　　　　　　　　　1回だけ元の位置に戻るバグを修正



Ver3.260　2023/11/15
●【ゲームデータの作成】動作バージョンを固定化するオプションを追加。
　　　→　チェックを入れて動作バージョンを固定すると、将来的に
　　　　Game.exeを新しいものに差し替えても正常に動作しやすくなります。
　　　(一方、動作バージョンが「最新」のままだとexe差替時に安定しません）

●【検索ウィンドウ】マップイベントの「【コマンド文】から検索」で
　　　　　マップイベント全体を2周して探査してしまうバグを修正

●【検索ウィンドウ】元と同じ場所のテキストを見つけた場合は
　　　　　「見つかりませんでした」と出ないように修正

●【グラフィック選択】DBなどから「File」でファイルを選ぶとき、
　　　　　　　どれにも該当しないファイル名の場合に
　　　　　　　初期カーソルが一番上になっていなかった問題を修正

●【ファイルの選択】『サウンド』コマンドなど画像以外での「File」選択時、
　　　　　　　　元のファイル名にカーソルが合っていないバグを修正

●【マップイベントエディタ】起動条件の数値欄に「-」が直接入らなかったので
　　　　　他と同様、数値しばりをなくす形に修正



-------------------------------
　Ver3.250～3.251の更新履歴　2023/11/13
-------------------------------

【ゲーム部　修正】
Ver3.251　2023/11/13
●【ピクチャ】<CUT～>の指定をしたとき、表示されない大きさで表示すると
　　　　　　スプライト数が高速で増えていき、最終的に
　　　　　　スプライトオーバーのエラーが出続けるようになるバグ修正
　　　　　　→　Ver3.245あたりから発生していたバグでした

●【エフェクト】「タイル画像」にキャラチップレイヤーを指定したとき、
　　　　　タイル画像には使えないというエラーを表示するよう修正


Ver3.250　2023/11/10
●【ピクチャ】ウィンドウピクチャで<SQUARE>使用時、320×240などの2倍画面時に
　　　　　基準位置によって半ピクセル分の座標ズレが起きていた問題を修正
　　　　　→　こちらは最近の修正によって発生した問題です。

●【ピクチャ】ウィンドウピクチャで<SQUARE>使用時、
　　　　　　サイズ51×150％など小数点が発生するサイズで表示したとき
　　　　　　基準位置が「右上」表示の場合のみ縦幅が1ピクセル小さく
　　　　　　表示されてしまうことがあるバグ修正

●【エフェクト】ピクチャエフェクトで大きな数値を入れたとき、
　　　　　　　挙動がおかしくなることがあるバグの修正をいくらか試みました
　　　　　→　例：角度補正[±]で角度999999を999999フレームで動かすなど

●【デバッグ文】システム言語を「英語」にしたときのデバッグ文で出てくる、
　　　　　　[MapEv?/Common?/?line]表記を[MapEv ?/Common ?/? Line]に修正

●【動作指定】動作指定中に変更可能な「マップセルフ変数」と「通常変数」だけは、
　　　　　　　動作指定内でリアルタイムの値を使うように修正
　　　→　Ver3の修正で変数は全て「動作指定の【開始時点】の数値」が読み込まれるように
　　　　　なっていたのですが、上記2つに関しては動作指定内の「変数の設定」で変更した値が
　　　　　同じ動作指定内で反映されないのが直感的ではなかったための変更です。
　　　→　ゲーム基本設定の「動作バージョン調整」で「旧Ver3.233時点の挙動で動作」以前に
　　　　　すると前の挙動に戻せます。



【エディター部　修正】
Ver3.251　2023/11/13
●【検索ウィンドウ】マップイベントに対して「イベントをまたいで検索」したとき、
　　　　　　　　　特定条件でクラッシュするバグを修正

●【検索ウィンドウ】コモンイベントウィンドウでの「【コマンド文】から検索」で
　　　　　　　コモンイベント全体を2周して探査してしまうバグを修正

●【バージョン】内部的な編集バージョンが更新されていなかったバグを修正。
　　→　ゲーム基本設定を保存し直さないと内部の編集バージョンの
　　　　数値が変わらないようになってしまっていました。
　　→　この数値はGame.exeが安全に起動できるかチェックするのに使われます。

●【マップイベントウィンドウ】「アニメ速度」を「アニメ頻度」に変更


Ver3.250　2023/11/10
●【マップイベントウィンドウ】日本語IMEがONだとイベント一覧選択時にも
　　　　　　　　日本語入力されてキー操作が効かなくなる現象を修正

●【マップ選択】「マップファイル名が設定されていません」エラーを以下のように修正。
　　　　　　　　→ 「マップ X(数値) を読み込もうとしましたが、
　　　　　　　　　　　マップファイル名が設定されていません」

●【コモンイベントコマンド】特定の手順を行うと、ドロップダウンメニュー内の
　　　　　　　　　　コモンセルフ変数名が、いま選んでいるコモンイベントのものとは
　　　　　　　　　　別のものが出てしまう現象を修正

●【コモンイベントウィンドウ】特定の手順で「一つ元に戻す」を行うと
　　　　　　　　　　　　　クラッシュすることがあるバグの修正を試みました

●【データベースウィンドウ】ドロップダウンメニュー上で直接ホイール上下をしたとき
　　　　　　　　　　　　　　特定方向に反応しない場合があるのを修正


-------------------------------
　Ver3.240～Ver3.248の更新履歴　2023/10/28
-------------------------------

【ゲーム部　修正】
Ver3.248　2023/10/28
●【ピクチャ】「お手軽ウィンドウ」で表示した際のピクチャがまた特定条件で
　　　　　　　ぼやけるようになってしまっていたバグ修正。
　　　　　　　また、前より明瞭に描画されます。
　　　　　※また、3.242～3.247まで、お手軽ウィンドウが状況次第で前より1ピクセル差の
　　　　　　大きさで描画されるようになっていたのがver3.241以前の通りに戻っています。

Ver3.247　2023/10/28
●【ピクチャ】Ver3.245の修正で「お手軽ウィンドウの」裏技の「<LINE>」ピクチャにおいて
　　　　　　　サイズの縦か横に0を入れると表示されなくなっていたバグ修正

Ver3.246　2023/10/28
●【ピクチャ】Ver3.245の修正で「自由変形」ピクチャが表示されなくなっていたバグ修正


Ver3.245　2023/10/27
●【ピクチャ】「通常ピクチャ」と「お手軽ウィンドウ」が拡大率を0％にしても
　　　　　　　少し表示されてしまうバグを修正


Ver3.243　2023/10/27
●【システム変数】「Sys102:SE音量補正[%]」が-1以下に設定できるバグ修正

●【ピクチャ】「お手軽ウィンドウ」で表示した際のピクチャの見え方が
　　　　　　前回の修正でぼやけてしまっていたバグを修正


Ver3.242　2023/10/22
●【ピクチャ】奇数ピクセルの画像を320x240（x2倍）の画面サイズで
　　　　　　拡大率150％（合計300％）にして表示した場合などにおいて、
　　　　　　表示する大きさが1ピクセル足りなくなるバグを修正

●【起動時】多重起動での起動失敗時にひそかにクラッシュしており、
　　　　　　その後Game.exeが削除・上書き不能になってしまうバグを修正


Ver3.241　2023/10/21
●【ダウンロード】ダウンロード中にSys48に-1を代入して強制停止したとき、
　　　　　　内部的にクラッシュすることがある現象への対応を試みました。

●【ダウンロード】実行直後に一瞬カクッと止まることがあるため、
　　　　　　　　　実行直後の処理の軽量化を試みました。

●【セーブ・ロード操作】「セーブデータへの(変数)書き込み」時に限り、
　　　　　　セーブデータが「読み取り専用」などになっていて書き込めない場合でも
　　　　　　エラーが出なかったバグを修正

●【文字列操作】「に↓のファイル内容読込」の裏技に
　　　　　　　　「<<GET_DIRECTORY_EXIST>>(文字列)」を追加。
　　　　　　→　(文字列)に「Data/Graphic」などのフォルダ名を指定すると
　　　　　　　　そのフォルダが存在した場合に文字列として「1」が返されます。

●【マップイベント】ページ切り替わり後、待機アニメなしにしててもアニメパターンが
　　　　　　　　　まれに設定した画像とずれて表示されてしまう現象を修正

●【ピクチャ】角度を「同値」にして新規表示したとき、
　　　　　　　ピクチャ表示位置にずれが生じることがあるバグを修正

●【画面】メインディスプレイの拡大率が100％以外の場合に
　　　　　拡大率100％のサブディスプレイに全画面表示しようとすると
　　　　　画面が小さく表示されてしまうバグを修正

●【プロ版機能】「スクリーンショット」「フォルダ作成」「ファイルコピー」時に
　　　　　　　　フォルダが自動生成されるよう修正

●【ファイル出力】フォルダ自動生成処理の修正にともない、
　　　　　「文字列操作」「CSV出力」「ダウンロード処理」「セーブ・ロード操作」の
　　　　　　ファイル出力関連の処理も内部的に整理。挙動の変化はないはずです。

●【ファイル読込】「文字列操作」「ピクチャ」「DB操作」「エフェクト処理」
　　　　　　　　　「セーブ・ロード操作」の読み込み処理周りも整理。
　　　　　　　　　上と同様、挙動の変化はありません。

●【マップイベント】キャラチップ画像のファイル読み込み失敗時に
　　　　　　　　　クラッシュしにくくなるよう修正



Ver3.240　2023/10/14
●【ゲーム基本設定】「Game.exe動作バージョン設定」にVer3.233を追加しました。
　1つ前の「旧Ver3.21時点の挙動で動作」にすると、マップイベント周りの挙動が
　以下のように以前のものに戻ります（つまりバグがあった状態に戻ります）。
　
　-【3.21版　イベントの一時消去】 マップEvの「ページ」が切り替わったフレーム中に
　　「イベントの一時消去」をした場合、消去されません。
　-【3.21版　イベントの挿入】「ページ」に変数値を指定したとき、変数指定に-1され
　　(1100001と入れると1100000(ｾﾙﾌ変数0)が読まれる)、ページ数が+1されます。
　-【3.21版　イベントの挿入】 ページ数を「0」（現在のページ）にして
　　マップイベントの処理を呼び出したとき、「別ページの起動条件の変数」に
　　変わった直後に呼び出しても1フレーム経つまでページが変わりません。





【エディター部　修正】
Ver3.246　2023/10/28
●【グラフィック選択】タイルセットでクリック後にスクロールし、クリックすると
　　　　　　　　選択中の四角表示が2つ出てきてしまうバグを修正

Ver3.244　2023/10/27
●【新規マップ作成】メインメニュー欄から新規マップのファイルを
　　　　　　　　　　作れなくなっていたバグを修正

Ver3.243　2023/10/27
●【コモンイベントウィンドウ】コモンイベントを複数コピーして「一つ元に戻す」を
　　　　　　　　繰り返すとまだ名前だけ残ったりすることがあるバグを修正

●【変数操作+】「呼び出し元マップイベント」を指定したとき、コマンド一覧側で
　　　　「このマップイベント」となっていたのを「呼出マップイベント」に表記変更

●【グラフィック選択】ホイールで右側の画像欄をスクロールできるように修正

●【新規マップ作成】新マップ作成時、格納フォルダの選択欄が正常でなくなっていたバグ修正

●【新規マップ作成】マップ選択ツリーから新規マップのファイルが作れなくなっていたバグを修正


Ver3.242　2023/10/22
●【コモンイベントウィンドウ】起動直後にコモンイベントウィンドウの「一つ前に戻す」を押すと
　　　　　　　　　　　　　　　クラッシュするバグ修正

●【検索ウィンドウ】マップイベント・コモンイベントの検索時、検索対象が一周して
　　　　　　　　　自イベントに戻ってきたときの挙動がおかしかったのを修正


Ver3.241　2023/10/21
●【コモンイベントウィンドウ】コモンイベントを複数コピーして「一つ元に戻す」を
　　　　　　　　繰り返すと名前やコマンドの一部だけ残ることがあるバグを修正


Ver3.240　2023/10/14
●【Editor.ini】「Data」というゲームフォルダ内にEditor.exeを置いて起動すると、Editor.iniが
　　　　　　　　Editor.exeがあるより一つ上のフォルダに生成されてしまうバグを修正


-------------------------------
　Ver3.230～3.233の更新履歴　2023/10/12
-------------------------------

【ゲーム部　修正】
Ver3.233　2023/10/12
●【コモンイベント】「イベントの挿入」で「ページ数」を「0」（今のページの処理）を
　　　　　　　　　　実行した際、別ページの起動条件に変わった直後だと1フレーム待たなければ
　　　　　　　　　　そのページの処理が実行されなかった問題を修正

●【マップイベント】起動条件が変わったフレーム中に「イベントの一時消去」をしても
　　　　　　　　　　消えなくなっていたバグを修正。
　　　　　→　一時消去処理がページの切り替わりでキャンセルされてしまっていました。

●【エフェクト】「キャラ」の「キャラチップ変更」「重ねキャラチップ変更」を
　　　　場所移動時や起動直後に行ったとき、クラッシュすることがある現象を修正
　　　→　Ver3.221の、これらのエフェクト時に正しくエラー箇所が表示されるようにする
　　　　　修正の副作用によって発生していた現象でした。


Ver3.232　2023/10/05
●【文字列操作】「に↓のファイル内容読込」の裏技の
　　　　　　　　「<<CUT_STRING_WIDTH_COUNT=(数値)>>(文字列)」において、
　　　　　　　　「\\」が「X」に置き換わってしまうバグを修正。

●【変数操作+】Ver3.211の修正で「キャラ」が「一時消去」後に全部-1が返されていたのを、
　　　　　「一時消去」されても座標などの情報は「消される前の値」を維持するよう修正。
　　　→　一時消去された時点の座標を使いたいことも多いので「-1」が返ると不便でした。
　　　→　一時消去時は「起動中ページ」として「-1」が返されるのでそれで判別してください。

●【変数操作+】「その他」の「現在のマップイベント数」が一つ前のVerからから正しい値を
　　　　　　　返さなくなっていたバグを修正。

●【コモンイベント】「イベントの挿入」などで「ページ数」を「変数」で指定した場合、
　　A.「イベントの挿入」で「ページ」数として読み込まれる変数指定の値が
　　 　1ずれて処理されるバグを修正。
　 　 　→　ページ数に1600001を入れると1600000(Cself0)が読まれてしまっていました。
　　B.その変数に格納されている値より1大きなページが呼び出されてしまっていたバグを修正。
　　  　→　たとえば変数に1が入っていたとき、2ページ目が呼び出されてしまっていました。


Ver3.230　2023/09/28
●【文字列操作】「に↓のファイル内容読込」の裏技で
　　　　　　　　「<<CUT_STRING_WIDTH_COUNT=(数値)>>(文字列)」を追加。
　　　　　　　　全角文字を2、半角文字を1としてカウントし、
　　　　　　　　(文字列)を(数値)の横幅でカットできます。

●【システム変数】「Sys146:DirectInputならPS/Swiｺﾝ準拠?=1(1推奨)」を追加。初期値は1です。
　　　　　　これが1になっていると、PS4/PS5コントローラーやSwitchのジョイコンやプロコンを
　　　　　　自動判別して、これらのパッドの右スティックやR2L2トリガー情報が
　　　　　　期待通りに取得できる確率が上がります。
　　　　　　
　　→　DirectInput方式であるPS4/5コントローラーの右スティック挙動やトリガーの値が
　　　　これまでおかしかったので、それに対応するために搭載されました。
　　→　Switch用でもPS用でもないDirectInputゲームパッドの場合、ほとんどは動作しますが
　　　　特殊なものだと右スティックやトリガーが正常に動作しないことがあります。
　　→　Xboxのパッドやその他の「XInput対応」コントローラーは
　　　　Sys146が0でも1でも正常に動作します。

●【システム文字列】システム文字列「SysS 70:ゲームパッドデバイス名」を追加。
　　　　→　パッドごとにボタン設定やスティック情報を調整したい場合に使ってください。
　　　　　特にDirectInputのパッドの場合、右スティックの状態が「キー入力の受け付け」の
　　　　　「アナログスティック」内の「Z軸」や「X/Y/Z回転値」のいずれかでしか
　　　　　得られない場合もあるので、その対策までしたい向けです。

●【システム文字列】システム文字列「SysS 71:ゲームパッドの種別」を追加。
　　　パッドを挿しているとき、そのパッドのタイプを以下の
　　　いずれかの文字列として得ることができます。
　　　
　　　XBOX_360、XBOX_ONE、PS_DUAL_SHOCK_3、PS_DUAL_SHOCK_4、PS_DUAL_SENSE
　　　SWITCH_JOY_CON_L、SWITCH_JOY_CON_R、SWITCH_PRO_CON、SWITCH_HORI_PAD
　　　
　　どれにも該当しないときは 「UNKNOWN」が返されます。
　　パッドがなければ文字列は空です。

●【変数操作+】「その他」に「ゲームパッドタイプ(DirectInput=0/XInput=1)」追加。
　　　　　　　ゲームパッドがDirectInput方式かXInput方式かを判別できます。

●【キー入力】「キー入力受け付け」の「アナログスティック」に「X/Y/Z回転」を追加。
　　　　　　　DirectInputのパッドでまれに使われる値です。

●【システム変数】「Sys123：次表示ﾋﾟｸﾁｬ拡縮くっきり(1=YES)」が1のとき、
　　　　　　　　特定条件でマップが「ぼんやり」描画になってしまうバグを修正

●【フォント】新たにotfフォントに対応。
　　　　　　fntフォントの読込処理も仮に入れてみましたが動作テストはできていません。





【エディター部　修正】
Ver3.233　2023/10/12
●【起動時の引数】Editor(Pro).exeをコマンドラインなどから引数を付けて、
　　　　　　「-f <読み込みフォルダ>」（※読込Dataフォルダ変更）として起動しても
　　　　　　読み込むフォルダが変わらないバグを修正

●【コモンイベント】マップイベントからの「イベントの挿入」で「このイベント」を
　　指定し、イベントコマンドの修正をすると選択欄が正常に表示されなくなるバグ修正

●【コモンイベント 入力内容の設定】Windowsの拡大率によっては文字がかぶって
　　　　　　　　「ｺﾓﾝｾﾙﾌ?」の端が見にくくなっていたので、画面の表記を調整しました

●【マップ選択ウィンドウ】マップツリー変更時、ドラッグ時、「データ更新」時の
　　　　　　　　　　　　安定性を向上させました。

●【マップ選択ウィンドウ】ツリーの展開・閉じるを行う+-ボタンの当たり判定がずれており、
　　　　　クリックしても反応しないように感じられる問題があったので、
　　　　　展開・閉じるクリックの反応範囲を「左端全部」まで拡張

●【マップ選択ウィンドウ】「新規マップ作成」を開いて「キャンセル」→「データ更新」すると
　　　　　　　　　　　　ツリー上に空白のマップが一つ生成されるバグを修正


Ver3.232　2023/10/05
●【イベントウィンドウ】スクロール可能な状態でイベントコマンドを削除・切り取りした後、
　　　　　　　　　　　　見た目と選択位置がズレてしまっておかしくなる現象を修正
　　　→　Ver3.230の「削除・切り取り時にスクロール位置が変わらないようにする修正」の
　　　　　副作用でした。コマンド最下部付近で削除・切り取りが行われたときに限り、
　　　　　スクロール位置の自動補正を行うよう修正してみました。

●【検索・置換】「イベントの挿入」の「ページ数」の値が「数値検索」で見つからないバグを修正。
　　　→　ページ値が内部的に1ずれていたので、検索や置換時はそれを加味するようにしました。

●【イベントウィンドウ】F12で「イベントの挿入」からコモンイベントに飛ぶとき、
　　　　　　　　　特定状況のマップイベントからだとクラッシュするバグを修正


Ver3.230　2023/09/28
●【キー入力】「キー入力受け付け」の一部のコンボボックスの横幅を延長

●【イベントウィンドウ】イベントコマンドを削除・切り取りしたとき、その
　　　　　　コマンドが画面内にあるならスクロール位置が変わらないように修正

●【コモンイベント】マップイベントを呼び出すときの「ページ」指定欄が
　　　　　　変数に対応していなかった問題を修正
　　　→　実はGame側は「ページ数」の変数処理に対応していましたが、
　　　　　Editor側ではそうなっていませんでした。
　　　　　
　　　　　と思っていましたがVer3.231でGame側の処理もおかしいことが発覚しました。
　　　　　[2023/10/05追記]




【基本システム（コモンイベント）　修正】
＜Ver3.20に更新　2023/09/22＞
●横32、縦24で割り切れない画面サイズのときメニューの右や下の背景が
　抜けるバグ修正 [コモン88/121-123行目]
　
　
-------------------------------
　Ver3.220～3.221の更新履歴　2023/09/22
-------------------------------

【ゲーム部　修正】
Ver3.221　2023/09/22
●【ゲーム基本設定】移動幅「1マス」のとき、「半歩上に設置」されたマップイベントに
　　　　　　　　　Y座標が半分重なるよう移動できてしまうバグを修正

●【動作指定】Ver3.220で追加された「仲間」の速度変更テストプレイ時エラーは
　　　　　　　隊列ON時のみ表示されるように修正。
　　　　→　「隊列を解除」した状態なら仲間の速度変更が有効なため。
　　　　　また、このエラーは「テストごとに最初の1回だけ」表示されるよう修正しました。

●【キー入力】キーやマウス入力が禁止されたセーブデータを変数だけロードすると、
　　　　　　今のプレイでも入力が禁止された状態になってしまうバグを修正

●【動作指定】Ver3.220の修正で「～の座標/イベントに接近」コマンドで
　　　　すでに目標座標と同じ座標にいる場合は処理をスルーする機能が、
　　　　マップイベントのカスタムルート内では動作していなかったのを修正

●【システム変数】F9の変数一覧デバッグ画面で文字が重なりそうな場合は
　　　　　　　　..で省略する処理を追加
　　　　→　ひとまずデフォルトフォントに近いフォントで問題が起きない文字数調整に
　　　　　　してあります。フォントによっては重なる場合があります。

●【エフェクト】「キャラ」の「重ねキャラチップ変更」「キャラチップ変更」の
　　　　　　　　エフェクトを使ったとき、エラー発生時の
　　　　　　　　イベント番号や行数が正しくなかったバグを修正



Ver3.220　2023/09/16
●【マップイベント】前回の修正でタイルセットが画像として設定されたとき
　　　　　　　「影」が表示されてしまうバグを修正（本来は出ないのが正常です）

●【変数操作＋】「位置」情報の取得時、「指定した位置は画面外です」エラーに
　　　　　　　　表示される「マップ限界X・Y」の値を1減少
　　　　　　→　サイズX50のマップなら「マップ限界X49」と表示されるようになります。
　　　　　　　　取得可能なX座標の範囲は0～49なので、こちらの方が直感的なはずです。

●【動作指定】エラー時のイベントIDや行が正確でない場合があったバグを修正

●【動作指定】「仲間」の速度を変えようとした場合はテストプレイ時専用エラーが出るように。

●【動作指定】「～の座標/イベントに接近」コマンドは、すでに目標座標と
　　　　　　　同じ座標にいる場合は処理をスルーするように修正

●【ゲーム基本設定】「システム言語」が「英語」のとき、
　　　　　　　　F8のデバッグ画面で一部文字が重なる問題を修正

●【コモンイベント】「コモンEv名で呼出」欄に\s[]を入れても変換されないバグを修正。
　　　　　　　ただし、Editor側で当該コマンドを一度入力/修正し直す必要があります。
　　　　→　処理速度を稼ぐため、「コモンEv名の特殊文字変換が必要か」のフラグを
　　　　　　Editor側で入れているためです。今回のバグは\s[]が
　　　　　　Editor側で判定漏れしていたことで起きていました。




【エディター部　修正】
Ver3.221　2023/09/22
●【コモンイベントウィンドウ】イベントをまたいだ置換後に「一つ元に戻す」を行うと
　　　　　　　　　　今開いているコモンイベントに「戻したコモンイベント」が丸々
　　　　　　　　　　上書きされてしまうバグを修正

●【コモンイベントウィンドウ】「一つ元に戻す」がコモンイベントの切り替えをしても
　　　　　　　　　　維持されるように修正
　　　　　　→　従来はイベント切り替えごとに「元に戻す」がリセットされていました。

●【コマンド検索・置換機能】0行目に条件分岐やループがあると置換後に
　　　　　　　　　次の位置へ正常にジャンプできなかったバグを修正

●【コマンド検索・置換機能】「数値・変数」置換で小さい数値や特定の数値を置換すると
　　　　　　　　　　　　　クラッシュする可能性があったバグを修正

●【マップイベントウィンドウ】「半歩左に設置」「半歩上に設置」がオンのとき、
　　　　ウィンドウ内のイベントリストからイベントを選択すると
　　　　マップイベントウィンドウに表示される座標が正しくなくなるバグを修正



Ver3.220　2023/09/16
●【コモンイベント入力】変数と文字列の各「入力」欄の横サイズを増加

●【マップイベントウィンドウ】「イベントの挿入」に対してF12したとき、
　　　　　　　一つ前にF12したIDのコモンイベントが表示されたり、
　　　　　　　クラッシュすることがあるバグの修正を試みました。

●【イベントコマンド欄】「DB操作」の「新データ挿入」のコマンド欄上の表記を修正
　　　　→　可変DB[～～] 【の直前に】 データ[1]個の新データを挿入
　　　　　　という表記になりました





-------------------------------
　Ver3.210～3.217の更新履歴　2023/09/07
-------------------------------

【ゲーム部　修正】
Ver3.217　2023/09/07
●【マップイベント】ページが変わった時、「タイルセット」が画像として
　　　　　　　　　設定されていると「影」が変更されないバグを修正

●【特殊文字】文字列内で「\img[\img[」と指定したときにフリーズする現象を修正


Ver3.216　2023/09/02
●【エフェクト】「ピクチャ」の「ID移動」でピクチャを「同じフレーム中」に
　　　　　特定の順番に並び変えると「ID移動」が正常に動作しなくなるバグを修正

●【文字列操作】「ファイルリスト取得」で暗号化データ内や存在しないフォルダを
　読みに行ったとき、<<ERROR>>が返らず非テストプレイ時にもエラーが出る現象を修正
　→　ファイルリスト取得のエラーはテストプレイ時のみに出るはずでしたが
　　　Ver3で増やした分に対応漏れがありました。

●【キー入力】「キー入力の許可/禁止」の状態がセーブされていなかったバグを修正
　　　　→　入力を禁止した状態でロードすると、ロード後も禁止状態が継続されてしまう
　　　　　　問題がありました。

●【マップ基本設定】システムDBの番号で背景を指定しているマップから
　　　　　　ファイルを直接指定しているマップへ移動すると
　　　　　　正常に切り替わらないことがあるバグを修正


Ver3.215　2023/08/23
●【起動時】起動時やリセット時、一瞬左上に主人公のグラフィックが
　　　　　表示されてしまうバグを修正

●【変数操作+】マップイベントの起動条件が別ページの値に切り替わった後に
　　　　　「現在の起動ページ」を得たとき、その値がこれまで1フレーム遅れて
　　　　　反映されていたのを、即座に反映されるよう修正

●【マップイベントの画像変更】マップイベントのページが切り替わるよう
　変数操作したフレーム中に「9100009～」の変数指定による画像変更や、
　エフェクトによるマップEvの画像変更を行った場合、それらを無視して
　切り替わり後の「ページの画像」になってしまう現象を修正

●【デバッグウィンドウ】テストプレイ中、『トランジション準備』中の間だけ、
　　　　　　デバッグウィンドウが更新されなくなるバグを修正

●【エフェクト】ピクチャの「ID移動」を行ったフレーム中、消えたはずの元のID側に
　　　　内部的な座標やディレイ付きの処理が残ってしまうバグを修正



Ver3.214　2023/08/16
●【サウンド】チャンネル「1」以上でSEを再生するとメモリから消去されず、
　　　　　累計32768回以上再生すると以後サウンドが再生されなくなるバグ修正
　　　　　(Ver3.106あたりから発生していた疑いがあります)

●【文字列操作】「に↓のファイル内容読込」の裏技で
　　　　　　　<<GET_MAPEV_FILENAME>>-2（画像名を得る）などをしたとき、
　　　　　　　-2以下(主人公・仲間)が指定されると<<NotFound>>が返されるバグを修正

●【文字列操作】「に↓のファイル内容読込」の裏技で
　　　　　　　「<<GET_MAPEV_FILENAME>>-8」を実行するとクラッシュするバグを修正

●【特殊文字】\i、\iS、\img、\imgSで指定したファイルがなかった場合に追加の
　　　　　エラー文が出るようになり「イベント番号」や「行数」が表示されるよう修正
　　　　　（従来は処理の都合で表示されませんでした）

●【システム変数】「Sys5～6:ﾎﾟｰｽﾞｶｰｿﾙX/Y (-1=自動)」の
　　　　「-1:自動」という処理がもともと存在しなかったため
　　　　「Sys5:ﾎﾟｰｽﾞｶｰｿﾙX (Sys1に足した位置)」
　　　　「Sys6:ﾎﾟｰｽﾞｶｰｿﾙY (Sys2に足した位置)」という名前に変更。


Ver3.213　2023/08/11
●【パーティ画像】Ver3.211の修正で「仲間」の画像が変更できない場合が
　　　　　　　　発生していたバグを修正

Ver3.212　2023/08/11
●【変数操作+】Ver3.211の修正で「主人公」や「仲間」の情報が
　　　　　　　「変装操作+」で取得できなくなってしまっていたバグを修正

Ver3.211　2023/08/11
●【セーブ・ロード操作】Ver3.210の修正の副作用で正常にセーブできなくなっていたバグを修正

●【変数操作+】マップイベントを一時消去した後に「変数操作+」でそのイベント情報を
　　　　　　　取得した場合は「イベントID」以外は-1を返すように修正。


Ver3.210　2023/08/11
●【方向キー入力】左アナログスティックでの8方向入力の角度が
　　　　　　　　45度刻みになっていなかった問題を修正。
　　　　　　　　左スティックによる方向切り替えが敏感すぎたのが改善されるはずです。

●【プロ版機能】「ファイル削除」でセーブデータを削除したとき、すでに読まれたセーブの
　　　　　　「Sys24:[読]ｾｰﾌﾞﾃﾞｰﾀ読込判定(1=成功 0=失敗)」の値が1のままになるバグを修正。

●【セーブ・ロード操作】内部的に、セーブデータのファイル名の大文字、小文字が違うと
　　　　　　　　　別セーブとして認識されてしまう可能性があったのを修正。

●【エフェクト】「自動パターン切替」エフェクトを使ってピクチャの分割数以上の
　　　　　　　パターン値に変化させたとき、おかしな画像が出ることがあるバグを修正

●【システム変数】「ループなし」でマップサイズが「横20、縦15未満」のマップだと
　　　　　　　「Sys104:Xスクロール値」「Sys105:Yスクロール値」に値を代入したときに
　　　　　　　　スクロール挙動がおかしくなるバグ修正

●【マップイベント】「一時消去」したイベントに対して画像や不透明度を変更すると
　　　　　　　　　　表示されてしまうバグを修正



【エディター部　修正】
Ver3.217　2023/09/07
●【コマンド入力】Ver3.216の修正でコマンド入力欄が一部おかしくなっていた問題を修正

●【DB操作】「項目番号」の「名前」「変数」選択時のコンボボックスの横サイズを増加

●【条件分岐】右辺の「変数」コンボボックスの横サイズを増加


Ver3.216　2023/09/02
●【マップイベントウィンドウ】起動条件ボタン（「決定キーで起動」など）に
　　　　　　　　横線が入る現象が起きにくくなるよう修正

●【全体のウィンドウ】Windowsの拡大125％時に一部表記が隠れる問題にいくらか対応


Ver3.215　2023/08/23
●【ゲームデータの作成】「フォルダ指定」を開いたとき、
　　初期フォルダとして「Dataフォルダ内」が指定されていたのを
　　「Game.exeと同じフォルダ」を初期フォルダとするよう変更

●【エフェクト】ダイアログの文字列が一部見えなくなっていたのを修正

●【マップエディタ】タイル40×40の場合のみ、拡大率1/8でマップ表示すると
　　　　イベントの拡張範囲のラインがずれて表示されるバグを修正


Ver3.210　2023/08/11
●【イベントウィンドウ】コマンド欄でF12を押したとき、以下の挙動を追加しました。
　　-「DB操作」なら、そのDBのタイプ・データ・項目を開く
　　-「ラベルに飛ぶ」ならジャンプ先のラベルへ移動

●【マップイベントウィンドウ】コモンイベントウィンドウのF12キーの機能を
　　　マップイベント内でも使えるように。

●【マップ基本設定】マップが小さすぎるとスクロールに異常が発生するため、
　　　　　設定できるマップサイズの最小値を横8、縦6から、横10、縦8以上に変更。

●【起動時】コモンイベントファイルやシステムデータベースのファイルが破損している場合、
　　　　　　（クラッシュせず認識できれば）起動時にそのことを伝える機能を追加。



【サンプルゲーム修正】
●サンプルゲームの全てのファイル名から[]を排除しました。
　[]が含まれると特殊文字\imgの利用時に不都合が出るためです。


【基本システム　修正】
●Ver3.16に更新　2023/08/11
　初期音量を50から60に変更[コモン48/217-220行]


-------------------------------
　Ver3.20～3.208の更新履歴　2023/08/04
-------------------------------

【ゲーム部　修正】

Ver3.208　2023/08/04
●【サウンド】2回連続で同じSEを鳴らした際に、2回目のSEの遅延フレーム中に
　　1回目のSEが鳴り終わると2回目のSEが鳴らなくなるバグを修正。
　→　要するにディレイなどを利用した際にまれに音が鳴らない症状がなくなります。

●【暗号化ファイル】暗号化ファイルが「BasicData2.wolf」など特定のファイル名だと
　　　　起動時にクラッシュすることがあるバグを修正

●【文字列操作】ファイル読み込み処理のセキュリティを強化しました。

●【ゲーム基本設定】英語時のデフォルトフォントを「Tahoma」に変更しました。
　　→「Arial」は、言語環境によって文字幅が変わったり使えないことがあったため、
　　　　Arialと見た目が近く、長らくWindowsの標準フォントで
　　　　言語ごとの表示差が少ないTahomaフォントにしました。


Ver3.207　2023/07/14
●【ピクチャ】ピクチャの基準位置に「右」や「下」部分を含む場合、かつ
　　　　　　「拡大率」が100％以外かつ計算後に小数点の端数を含む座標値になったとき、
　　　　　　基準位置から1ピクセルずれて表示されてしまうことがあるバグを修正

Ver3.206　2023/07/08
●【システム変数】Sys119:[読]Gameバージョンx100が320になっていなかったのを修正

Ver3.205　2023/07/03
●【文字列操作】Ver3.203の修正で発生した「文字列操作」の修正の影響で、
　　　一部の特殊文字を置換・消去しようとしたときにフリーズするバグが
　　　新たに発生したので修正を試みました

Ver3.204　2023/07/02
●【文字列操作】Ver3.203で「\」の文字の消去・置換・切り出し処理が
　　　　　　　　正常に修正されておらずフリーズする場合があったので再修正

Ver3.203　2023/07/01
●【キー入力】エラー「ERROR:キー設定(パッド)で範囲外(301～308外)の値を与えました」の
　　　　　　　範囲の値を「301～314」に修正（パッドボタンが14番まで使えるらしいので）

●【文字列操作】特定の状況で「\」の文字が消去・置換・切り出しできなくなる現象を修正


Ver3.202　2023/06/17
●【システム変数】「Sys23:ルビのフォントサイズ」の値の適用タイミングを
　　　　　　　　「文字が表示されたとき」に変更
　　　　　　　（従来はフレーム終了時のSys23に従って「全ての」文字列ピクチャや
　　　　　　　　文章の表示のルビサイズが変わっていました）

Ver3.201　2023/06/10
●【パーティ画像】特定の並びで「キャラ画像の隊列を前に詰める」を行うと
　　　　　　　　消えるはずのキャラが残ることがあるバグを修正

Ver3.20　2023/06/09
●【デバッグ文】「ValWatch」機能で文字列変数の内容を表示したとき、
　　　　　合計256バイト以上を一度に表示しようとするとクラッシュするバグを修正





【エディター部　修正】
Ver3.208　2023/08/04
●【データベース】Ctrl+R、Ctrl+Shift+Rの前タイプ・前データに戻るショートカットを
　　　　　　使ったとき、ウィンドウ右下の入力欄も戻った先に更新されるように修正。

Ver3.207　2023/07/14
●【コマンド検索ウィンドウ】「全てのイベント」をオンにして
　　　　　　　　　　　検索したときにフリーズすることがあるバグを修正

●【コマンド検索ウィンドウ】イベントの1個目のイベントコマンドが
　　　　　　　　　　「置換」できないことがあるバグを修正
　　　　　　　　　　
●【コマンド検索ウィンドウ】ある行を「置換」した直後、置換文を変えて
　　　　　　　　　　　再び「置換」しようとしても違う場所に飛んでしまう現象を修正


Ver3.206　2023/07/08
●【マップ選択ウィンドウ】右クリック→新規マップの作成→右上の×でキャンセルすると
　　　　　　　　　　　マップ選択ウィンドウの更新が停止するバグを修正

●【イベントウィンドウ】検索時、同じイベント内にしか該当文字列がない状態で
　　　　　　　「全てのイベント」を対象に検索すると見つからないことがある現象を修正

Ver3.20　2023/06/09
●【マップイベントウィンドウ】マップ上でダブルクリックしたとき、
　　　　　　他ウィンドウが上にあってもウィンドウが最前面に来ない現象を修正

●【マップイベントウィンドウ】「主人公より上」を「前面表示」に変更

●【動作指定】「主人公より上ON/OFF」（旧「最前面表示ON/OFF」）を
　　　　　「前面表示ON/OFF」に変更し、以下の説明文をボタンの下に追加。
　　　　　「※前面表示：通常Evや▲ﾁｯﾌﾟより上、★ﾁｯﾌﾟより下に表示」

●【ゲーム基本設定】「Game.exe動作バージョン調整」のところに説明ページへのリンクを追加
　　　　　　　　　　（[?]ボタン）

●【キー入力】キーボード283（PrintScreen）キーを指定すると
　　「※PrintScreenは正常に機能しない可能性が高いです！」と下部説明欄に表示するように
　　（PrintScreenは他のソフトに入力を吸われやすく、
　　　ウディタ上で押しても認識されないことが多いです）



【基本システム　修正】
●Ver3.15に更新　2023/06/17
　戦闘時、味方単体を選んでキャンセルしたときにカーソルが残るバグ修正[コモン158/69行目]


-------------------------------
　Ver3.190～3.192の更新履歴　2023/06/01
-------------------------------

【ゲーム部　修正】
Ver3.192　2023/06/01
●【変数操作】「角度（x10）←傾き」処理したとき、ちょうど45度区切りになる傾きでも
　　　　　2699、2249、3149のように1小さい角度が返されてしまうことがある現象を修正

●【ダウンロード】ダウンロードして得た文字列変数に「\」を含む文字の置換を行うと
　　　　　　　うまく置換できないバグを修正
　　　　　　（ダウンロードしたての文字列変数が生の文字列のままで、
　　　　　　　ウディタ用のコードに変換されていませんでした）

Ver3.191　2023/05/29
●【システム変数】Sys119:[読]Gameバージョンx100が319になっていなかったのを修正

Ver3.190　2023/05/28
●【可変DB】可変DBを何らかの形で読み込んだとき、読み込み先のデータ番号が
　　　　　元より多かったら勝手にデータ数を拡張してしまう現象を修正。
　　　※前の仕様に戻したい場合は「ゲーム基本設定」の「Game.exeバージョン調整」を
　　　　「旧Ver3.18以前」に設定してください。
　
●【変数操作+】「当たり判定1×1」のキャラに「標準座標」がY「0」座標の
　「通行可能」を取ると1（通行不能）が返ってしまうバグを修正
　（Ver3.184で新たに発生したバグでした）

●【サウンド】サウンドデバイスが1つもない状態でBGMを再生すると
　　「サウンドデータを正常に読み込めませんでした」というエラー文が出る現象を修正



【エディター部　修正】
Ver3.192　2023/06/01
●【ゲーム基本設定】「Game.exe動作バージョン調整」に「Ver3.19」が
　　　　　　　　　　入っていなかったのを追加
　　　　　　　　　　
●【テストプレイ起動】文字入力時の誤操作を防ぐため「コマンド入力ウィンドウ」と
　　　　　　　　　　「データベースウィンドウ」上では「F9」を押しても
　　　　　　　　　　テストプレイが起動しないように修正
　　　※「Ctrl+T」を押すとこれらのウィンドウでもテストプレイが起動できます。

●【動作指定】「最前面表示 ON/OFF」が誤解をまねく表現だったので
　　　　　　　「主人公より上 ON/OFF」に変更

●【データベース】検索時、右下欄も検索文字列の位置までスクロールするよう修正


Ver3.191　2023/05/29
●【マップ編集時】複数のマップに同じマップファイル名が設定されている場合、
　　　　　「ゲーム開始位置に設定」をしたときに指定したマップとは
　　　　　異なるマップ番号が開始マップになってしまうことがあるバグを修正

Ver3.190　2023/05/28
●【マップイベントウィンドウ】「当たり判定■」を押しても接触範囲拡張の赤いラインが
　　　　　　　　　　　　　　即座に更新されないバグを修正

●【コモンイベント】特定の手順によって「予約」チェックを選択時でも
　　　　　　　　　　「結果」欄が選択可能になってしまう(グレーにならない)バグを修正


-------------------------------
　Ver3.180～3.184の更新履歴　2023/05/15
-------------------------------

【ゲーム部　修正】

Ver3.184　2023/05/15
●【キャラクターの移動】キャラの「すり抜け」がONになっているとき、
　　　　　マップ外へ半マスはみ出すことができてしまうバグを修正

●【ピクチャ】ソフトウェアモード時のみ、一定以上に拡大率を上げると
　　　　クラッシュする場合があったのでピクチャ端の限界座標が強制的に
　　　　X座標で-20000～20000、Y座標で-16000～16000内に収まるよう修正

Ver3.183　2023/05/13
●【エフェクト】特定の条件で「ピクチャのID移動」を使用した場合、
　　　　　　　ピクチャが存在するのに表示されなくなってしまうバグを修正
　　　　　　
Ver3.181　2023/05/07
●【動作指定】マップイベントが条件を満たさなくなり、「存在しないページ」に
　　　　　　切り替わった後にそのマップイベントの「動作指定」をすると
　　　　　　クラッシュすることがあるバグを修正

Ver3.180　2023/05/04
●【変数操作+】「最も上にあるﾀｲﾙのﾀｸﾞ番号」の「精密座標」でタグ番号を取得できる座標が
　　　　　　　「レイヤーXのタグ番号」とずれていたバグを修正
　　　　（「ゲーム設定」で「旧Ver3.17以前の挙動で動作」にすると前の挙動に戻せます）



【エディター部　修正】

Ver3.184　2023/05/15
●【変数操作+】「キャラ」の項目の「X座標(精密)」を「X座標(精密) *ｷｬﾗ左側位置」に、
　　　　　　　「Y座標(精密)」を「Y座標(精密) *ｷｬﾗ足下-1位置」に記述変更しました。

Ver3.182　2023/05/07
●【イベントの挿入】Ctrl+Shift+F6/F7でコモンを増減させると別コモンの
　　　　　　　　「入力」情報が参照されてしまうバグを修正
　　　　　　　（なるべく直しましたが何度かウィンドウをアクティブ・非アクティブ
　　　　　　　　切り替えしないといけない場合もあるかもしれません）

Ver3.181　2023/05/07
●【コモンイベントウィンドウ】Ctrl+Shift+F6/F7でコモンを増減させると、
　　　　　　　　「イベントの挿入」の表示情報が狂うことがあるバグを修正

Ver3.180　2023/05/04
●【自動マップ生成】自動マップ生成を行ってもマップの変更フラグが立っておらず、
　　　　　　　閉じようとしたときなどにマップの保存確認画面が出ないバグを修正

●【サウンド】SEの「(停止)」を「(停止) [遅延SE消去]」に修正し、
　　　　　　SEの停止コマンドは遅延SEも消去されることを明記しました。


-------------------------------
　Ver3.170～3.177の更新履歴　2023/04/29
-------------------------------

【ゲーム部　修正】

Ver3.177　2023/04/29
●【選択肢】「Sys73:文･選択肢のﾏｳｽ入力(1なら受付)」を1にして選択肢ウィンドウを
　　　　マウスで選択したときのみ、表示されないはずの選択肢が選べてしまうバグ修正

Ver3.176　2023/04/25
●【フォント】フォントが空欄だったり、フォントが見つからなかった場合の
　　デフォルト日本語フォントとして『Yu Gothic UI』を追加しました。
　　『Yu Gothic UI』は海外のWindows10，11でもほぼ確実に入っているとのことです。
　※今のところ、ゲームの言語を「日本語」にしてフォントが見つからない場合は
　　「Yu Gothic UI」→「Meiryo」→「MS Gothic」の順に使用可能かチェックします。

●【文字列操作】「↓のﾌｧｲﾙ内容読込」の文字幅取得の裏技「<<GET_STRING_WIDTH_COUNT>>」で
　　　　　「\^」など一部の特殊文字が含まれていると、フリーズしたり
　　　　　1以上の値でカウントされてしまうことがあるバグを修正

●【ピクチャ・エフェクト】「<SCREENSHOT>」で表示したピクチャに
　　　「変換」系のエフェクトをかけてセーブ→ロードするとクラッシュするバグ修正。
　　　過去にも一度修正したのですがどこかのタイミングで再発してしまっていました。


Ver3.175　2023/04/14
●【DB操作】何らかの状況で「新データ挿入」コマンドを大量に実行すると
　　　　　　まれにクラッシュすることがあるバグを修正

●【F8デバッグ画面】一番上に「現在マップ」の番号を表示するよう修正

●【Game.exeバージョン調整】「旧Ver3.155時点の挙動」以前にすると、
　　マップイベントのページが切り替わった際に正確に向きが変わる仕様を
　　昔のあいまいな状態に戻せるようにしました。

Ver3.174　2023/04/11
●【INIファイル】Game.iniの先頭に「[DEFAULT]」という文字列を追加。
　（Config.exeを自作する場合、一般的なプログラミング用モジュールで
　　INIファイルを読み込む場合に必要になるためです）

●【文字列操作】「↓のﾌｧｲﾙ内容読込」の文字幅取得の裏技「<<GET_STRING_WIDTH_COUNT>>」で
　　　　　　　一部の全角文字が横幅1（半角）として処理されるバグを修正

Ver3.173　2023/03/30
●【スクロール】Ver3.170の修正の副作用でループ際のスクロール挙動が
　　　　　　　　うまくできなくなっていたバグを修正

Ver3.172　2023/03/28
●【スクリーンショット】スクリーンショット撮影時の緑帯表示中にゲームを終了すると
　　　　　　画面が閉じてもBGMが止まらず、プロセスがずっと残ってしまうバグを修正


Ver3.170　2023/03/27
●【マップセルフ変数】「コモンイベント処理内」でのみ、「場所移動」した後の
　　「マップセルフ変数」が正しく「移動後」のマップから読み込まれるようになりました。
　　これにより、ゲーム挙動が変化する可能性があります。
　（従来はそのコモンが終わるまで「場所移動」しても「直前マップ」のマップセルフ変数を
　　読みに行っていました）
　　→　「ゲーム基本設定で」Game.exeバージョン調整を「Ver3.155」以前にすると
　　　　　前の挙動に戻せます
　　　　　
●【エフェクト】マスク機能の「マスクを全面[非表示]に塗る」を実行したとき、
　　　　　　　　緑帯エラーが表示されなくなることがあるバグを修正

●【スクロール】主人公の移動速度を非常に低速にしたとき、一定以上の速度のときと比べて
　　　　　　　　スクロールが1ピクセルずれるバグを修正

●【エフェクト】「ピクチャのコピー」「ピクチャのID移動」をしたとき、
　　　　　　　完全に同じID同士で処理するとピクチャが見えなくなってしまうバグを修正



【エディター部　修正】

Ver3.176　2023/04/25
●【エディター】各種データベースを開くボタンやメニューに一言説明を追加。
　　　・ユーザデータベース（固定値データ）
　　　・可変データベース（変数データ）
　　　・システムデータベース（基幹データ）

●【エディター】「マップ選択」ウィンドウと「変数呼出値/特殊文字一覧」ウィンドウの
　　　　　　　表示位置と前回表示状態を記憶するように修正しました。

●【メニューバー】ヘルプ欄の「仕様変更情報を開く」と
　　　　　「変数呼び出し値/特殊文字一覧」の位置を入れ替え（後者が一番下に）。

●【マップイベントウィンドウ】特定の状況でイベント一覧のイベントを
　　　ダブルクリックしたとき、エディターのマップが真っ黒になることがあるバグを修正

●【場所移動】特定の移動先座標とマップサイズのとき、
　　　　　　「移動先を見ながら指定」ウィンドウの初期表示が変になるバグを修正


Ver3.171　2023/03/28
●【エディター】無料版のエディターが特定状況で起動できなくなっていたバグを修正

Ver3.170　2023/03/27
●【エディター】起動時、前バージョンからGame.exeの仕様変更があった場合は
　　　　　　　その内容を表示するよう修正

●【マップイベントウィンドウ】XやDelキーでイベント一覧からマップイベントを削除するとき、
　　　　　間違って削除してしまうことがあるのでイベント削除の際は確認画面が出るよう修正
　　　　　（Shiftを押しながらXやDelキーを押すと確認画面が出ずに処理されます）


-------------------------------
　Ver3.160～3.166の更新履歴　2023/03/18
-------------------------------

【ゲーム部　修正】
Ver3.166　2023/03/18
●【プロ版/システム文字列】「SysS60：[P]タイトルバー上書き」に「<TITLE>」「<TITLE_PLUS>」
　　　　　　　「<SOFT>」の文字列を入力すると、タイトルのメイン部、タイトルの追記、
　　　　　　　ソフトウェアモード状態(無または【ソフトウェア】)の文字列に
　　　　　　　自動変換されるよう修正


Ver3.165　2023/03/16
●【プロ版/システム文字列】ゲーム開始時のクリップボードが「空」か「文字列以外」の場合、
　　　　「SysS57:[P]クリップボード内容」が「<<StartClipBoard>>」を返さないバグを修正

●【プロ版/システム文字列】開始時にクリップボードの内容が何もない場合、
　　　　クリップボード読み取り確認のメッセージボックスで「いいえ」を選んでも
　　　　「SysS57:[P]クリップボード内容」で「<<AccessDenied>>」を返さないバグを修正

●【変数操作+】 キャラIDの指定で-5000など指定するとクラッシュするバグを修正

●【ピクチャ一覧】文字列ピクチャの改行は「\n」に変換されて表示されるよう修正


Ver3.164　2023/03/07
●【動作指定】主人公や仲間に動作指定を行うと透明化が解除されてしまうバグを修正
　　　　　　　（Ver3.161の修正で発生した副作用でした）

Ver3.163　2023/03/07
●【DB操作】データ数が0個になったDBタイプに「データ数取得」をしようとすると
　　　　　「読み込もうとしたタイプ番号が存在しません」というエラーが出るバグを修正

●【タイトルバー】スクリーンショット撮影後、タイトルバー表記が撮影時のまま
　　　　　　　　　残ってしまう現象を修正

●【サウンド】サウンドの再生方式をVer2時代のものに戻しました


Ver3.162　2023/03/05
●【ピクチャ・文章の表示】サイズ80以上のフォントを使っている場合に限り、特定状況で
　　　　　　　　　　過剰にメモリ消費したりフォントキャッシュの限界を
　　　　　　　　　　超えてしまう可能性があったバグを修正

Ver3.161　2023/03/03
●【マップイベント】 マップイベントの起動条件が満たされたのと「同じフレーム中」に
　　　　「動作指定」や「変数操作（91XXXXX)による方向変更」をした場合、
　　　　キャラの方向がエディタで設定した方向のまま変わらない問題を修正。
　　　※起動条件を満たして1フレーム待ってから方向転換する必要がある状態になっていました。

　　（今の仕様のまとめですが、「変数の条件を満たしてマップEvのページが変わった場合」は、
　　　とにかく一度「エディタで設定された初期方向」を向くようになっています。
　　　その直後に(同フレーム中でも)方向を変更すれば出現時点の向きを変えることができます）




【エディター部　修正】

Ver3.165　2023/03/16
●【場所移動】タイルサイズが40、48のときだけ「移動先を見ながら指定」画面で
　　　　　　　イベントが見えなくなるバグを修正

Ver3.162　2023/03/05
●【ゲームデータ作成】暗号化バージョンを「最新」にしてゲームデータを作成した場合、
　　　　　　　　　次からは実際に使われた暗号化Verが初期値になるよう修正。
　　　　（知らない間に暗号化バージョンが変わり、違う暗号化ファイルが混ざって
　　　　　ファイルが読めなくなる問題を避けるためです）

●【マップイベントウィンドウ】リストからマップ画面の端にいるイベントを
　　　　　　　　ダブルクリックでジャンプしたとき、
　　　　　　　　見た目とエディタ内の実座標がずれるバグを修正

●【変数操作+】「レイヤー？のチップ番号」のイベントリスト上の表記が
　　　　　　　　[1-23:ｵｰﾄ, 24-:etc]となっていたミスを修正
　　　　　　　（[1-31:ｵｰﾄ, 32-:etc]が正しい）


Ver3.160　2023/03/01
●【コモンイベントウィンドウ】「イベントの挿入」のF12ジャンプが番号指定の
　　　　　　　　　　　　　コモンイベント呼出では機能しなかった問題を修正


【データ修正】
Ver3.165　2023/03/16
●サンプルデータ、ないしEditorから作れる空データのシステムDB内、
　「SDB 0:マップ設定」の項目4「遠景番号」の「-2」の選択肢を
　「<変化なし>」から「イベントに任せる」に修正

-------------------------------
　Ver3.140～3.159の更新履歴　2023/02/26
-------------------------------

【新機能】
Ver3.155　2023/02/18
●【コモンイベントウィンドウ】「イベントの挿入」コマンド上で「F12」を押すと
　　　　　　　　　　　そのコモンイベントにジャンプする機能を追加。
　　　　　　　　　　　サポートツール、Wodistant( https://alpha-stella.com/tool/wodistant/ )の
　　　　　　　　　　　機能を参考にさせていただきました。すばらしいツールなので皆さまもぜひ！

Ver3.145　2023/02/03
●【翻訳用リソースデータ】Editor.exeの機能として、システム変数、システム文字列名を
　　　　書き替えられるEditor.Lang.SystemValue.txt、Editor.Lang.SystemString.txtを
　　　　翻訳用リソースデータに追加。





【ゲーム部　バグ修正】

Ver3.159　2023/02/26
●【ピクチャ一覧】F7ピクチャ一覧の1ページの表示数が見た目より
　　　　　　　　　1少なくカウントされていたバグ修正
　　　　　　　（次ページの始まりで1つ前ページの最後の分が
　　　　　　　　表示されるようになっていました）

Ver3.158　2023/02/23
●【セーブ･ロード操作】ピクチャの<SCREENSHOT>使用時に「変換」系エフェクトをかけて
　　　　　　　セーブすると、ロード時にクラッシュすることがあるバグを修正

●【Config】「ガタガタ」モードにしてもフレームスキップが機能していなかったバグを修正

●【F5フレームスキップ】 昨今の環境ではF5キーのフレームスキップ切り替え機能が
　　　　ほぼ不要かつ事故の元でしかなくなっているので、
　　　　F5キーの機能をデフォルトでOFFにしました。
　　　（プロ版に限り、F5フレームスキップ切り替え機能をオンにできます。
　　　　また、Config.exeやシステム変数Sys33からのフレームスキップ変更は引き続き可能です）

●【システム変数】全画面で起動して「Sys138:画面ﾓｰﾄﾞ[ｳｨﾝﾄﾞｳ:0/仮想全:1/全:2]」で
　　　　　　　全画面（2）以外に切り替えるとフォントがキャッシュできないというエラーが
　　　　　　　無限に出続けてしまうバグを修正

●【タイトルバー】F8を押したときのタイトルバーの「(F5で変更)」部分は
　　　　　　　　F5機能がオンかどうかで表示有無を切り替えするよう修正
　　　　　　　　（無料版では表示されなくなります）

●【スクリーンショット】PrintScreenなどでスクリーンショット撮影時に緑帯が出たとき、
　　　　　　　　　　　キー入力しても動かなくなってしまうケースがまれに発生するため
　　　　　　　　　　　キー待ち処理を変更してみました。

Ver3.157　2023/02/19
●【マップイベント】ロード時にパターンが変わってしまうバグを修正(Ver3.153の修正で発生)

●【ゲーム基本設定】「Game.exe動作バージョン調整」の「旧Ver3.123の挙動」を選ぶことで
　　　　　　　　　　Sys10の挙動をVer3.155より前に戻せるよう修正

Ver3.156　2023/02/18
●【ピクチャ】特定の状況で角度0の通常ピクチャが表示されなくなるバグを修正

Ver3.155　2023/02/18
●【エフェクト】「ピクチャのコピー」を実行した際、存在しない
　　　　　　　大きいピクチャ番号を指定するとクラッシュすることがあるバグを修正

●【システム変数】「Sys10：ﾒｯｾｰｼﾞ表示ｳｪｲﾄ(X ﾌﾚｰﾑ)」の挙動を修正。
　　　　　　「【文章の表示】が実行された時点のSys10の値」でウェイトするよう修正しました。
　　　→　「文章の表示」をした同フレーム中の並列処理でSys10が書き換わった場合、
　　　　　そちらのウェイト値の方でメッセージ表示待ち処理がされてしまうので
　　　　　直感的ではありませんでした。

Ver3.153　2023/02/16
●【マップイベント】起動条件が変わってイベントページが切り替わる際、
　　　　　　　　　画像の向き変更・パターン変更がおこなわれない場合があるバグを修正

Ver3.152　2023/02/13
●【変数操作+】並列実行で「イベント」の「ピクチャパターン」を取得し続けると
　　　　　　　クラッシュするバグの修正を試みました

Ver3.151　2023/02/13
●【文字列操作】「ファイル内容読込」の裏技の「<<GET_MAPEV_FILENAME>>」の取得で
　　　　　　ファイル名を得る対象番号が「イベントID」でなく「何番目のイベントか」で
　　　　　　判定されてしまっていたバグを修正

●【マップ表示】「基本タイル画像」を増やした後、「タイルセット設定」でそのタイルセットを
　　　　　　保存し直さずにゲームを開始した場合、まれにタイルが正常に表示されないバグを修正

Ver3.150　2023/02/11
●【変数操作+】並列実行で「主人公」の「ピクチャパターン」を取得し続けると
　　　　　　クラッシュすることがあるバグを修正。

Ver3.149　2023/02/09
●【変数操作+】主人公から離れた画面外のキャラに対して
　　　　「キャラチップ縦/横分割数」や「現在ピクチャパターン」を行うと
　　　　クラッシュすることがあるバグを修正

Ver3.148　2023/02/08
●【自動実行イベント】Ver3.147の場所移動の修正により、ロード後の
　　　　　　　自動実行イベントが実行されなくなっていたバグを修正

●【変数操作+】「キャラチップ縦/横分割数」を読み込む際、
　　　　　同フレーム中にキャラチップの画像が変更されていると
　　　　　変更前の画像の情報を取得してしまうバグを修正。

Ver3.147　2023/02/06
●【デバッグ画面】変数の数が多い場合、F9変数確認画面の1ページ目が
　　　　　　　　表示されないことがあるバグ修正

●【場所移動】「トランジションなし」で場所移動したときだけ同フレーム中に
　　　　　　　他イベントが処理されてしまうバグを修正
　　　　　　（「トランジションあり」で実行された場合、場所移動中は
　　　　　　　他イベントが実行停止されるのでそれに合わせた修正です）
　　　　　　　
Ver3.146　2023/02/05
●【セーブ・ロード操作】まだフォルダがないときにそのフォルダ内のファイルへ
　　　　　　　　「セーブデータへの書き込み」を行うとエラーが出てしまうバグを修正

Ver3.145　2023/02/03
●【セーブ・ロード操作】セーブ失敗のエラーが起きたときにフリーズする可能性があったバグを修正

●【セーブ・ロード操作】セーブ失敗時にエラー地点が表示されてなかったのを修正

●【デバッグ機能】テストプレイ中のF7キーのピクチャ詳細一覧ならびにF9の変数一覧で
　　前ページの情報がそのまま残って見にくくなっていたのを修正

Ver3.144　2023/01/28
●【プロ版機能】「フォルダ作成」機能で\cself[5]などが変換されなかったバグを修正

Ver3.143　2023/01/26
●【システム変数】一部の空白のシステム変数が次の値と同じ値を返していた現象を修正

●【セーブ・ロード操作】 存在しないセーブデータに対し、「セーブデータへの書き込み」を
　　　　したのと同じフレーム中に「変数・文字列の読み込み」をしても
　　　　書き込みされたデータを読み込めなくなっていたバグを修正
　　　（Ver3.134のセーブデータへの書き込み処理高速化によって発生したバグでした）

Ver3.140　2023/01/24
●【ピクチャ】Ver3.138の修正によって、分割した画像（お手軽ウィンドウ含む）に
　　　　　　　「変換」エフェクトをかけたとき正常に表示されなくなるバグが出ていたのを修正






【エディター部　バグ修正】

Ver3.159　2023/02/26
●【システム変数】「Sys108:[読]現ﾌﾚｰﾑのｺﾏﾝﾄﾞ処理数」の名前を
　　　　　　　　「現ﾌﾚｰﾑ開始からのｺﾏﾝﾄﾞ処理数」に変更

Ver3.158　2023/02/23
●【コモンイベントウィンドウ】F5で前に選んでいたコモンイベントへ、F6で次のコモンイベントへ
　　　　　　　　　　　　　　ジャンプする機能を追加しました。

Ver3.157　2023/02/19
●【ゲーム基本設定】「Game.exe動作バージョン調整」に「現Ver3.155時点の挙動で動作」を追加

Ver3.154　2023/02/17
●【ピクチャ】縦分割数のスピンボタンが灰色になって上下の数値変更ができなくなるバグ修正

Ver3.152　2023/02/13
●【システムDBウィンドウ】システムDBウィンドウだけ、内容を書き換えた後
　　　　　　　メニューバーのSysDBアイコンでウィンドウを閉じる→表示、とおこなうと
　　　　　　　見た目がそのままで実質キャンセルされている状態になるバグ修正

Ver3.151　2023/02/13
●【エディターオプション】 イベントコマンドの表示順を変更していると、
　　　　デフォルトのコマンドと変更した順番のイベントコマンドの表示が
　　　　混ざる現象の修正を試みました。


Ver3.150　2023/02/11
●【ピクチャ】ファイル名欄の横にあるスピンボタンが、
　　　　　　　押せないときでも押せてしまうことがある現象を抑制

Ver3.147　2023/02/06
●【変数操作・DB操作】コマンド「修正」時、数値欄を空にしてその欄をコンボボックスに切り替え、
　　　　　　　　　　「OK」を押すと「Enter an integer.」と出て進まなくなる現象を修正。

Ver3.142　2023/01/25
●【マップイベント】「イベント制御」コマンドの「キャラ動作指定」で「キャンセル」すると、
　　　　　　　　　以後、新規のマップイベントが作れなくなるバグを修正

Ver3.141　2023/01/24
●【マップイベントウィンドウ】 Ver3.140の修正で新たなクラッシュバグが発生していたのを修正

Ver3.140　2023/01/24
●【ゲームデータの作成】「暗号化バージョンの選択」に「Ver3.14～時点の暗号化」が
　　　　　　　　　　　　新たに追加されました。

●【検索ウィンドウ】 マップイベントの検索時、「全てのイベント」に対して検索した後、
　　　　　直前のマップイベントを選択するとイベントコマンドリストが更新されず、
　　　　　そこをクリックするとクラッシュすることがあるバグ修正

-------------------------------
　Ver3.10～3.139の更新履歴　～2023/01/22
-------------------------------

【新機能】
Ver3.121　2022/12/30
●【イベント・データ選択欄】コモンイベントウィンドウ、マップイベントウィンドウ、
　　データベース画面において、中クリックをドラッグしながら上下スライドで
　　リストボックスをスクロールさせられるように修正
　（Editor.ini内の「ListBox_MClickDrag=1」を「0」にすると機能停止できます）

Ver3.110　2022/12/23
●【プロ版機能】「実行中メインEv強制中断」機能を追加しました。
　 「決定キー起動や接触起動、自動起動のイベント」など
　同時に1つしか実行できない「メイン実行イベント(仮称)」に対して、
　並列イベント内から強制的に「イベント処理中断」させることができます。
　- 「ウェイト」や「～～完了までウェイト」系は、ウェイトは中断されますが、
　　同時に実行中の処理自体は続行されます（動作指定、スクロール、ダウンロード機能など）
　- 選択肢コマンドや文字列操作コマンドのキーボード入力、キー入力待ちも中断されます。
　- ウェイトありのトランジション中や場所移動中はそもそも並列イベントが進まないので
　　「実行中メインEv強制中断」は実行できません。

Ver3.105　2022/12/17
●【Game.ini】「SelectedText_to_ClipBoard_F2=」の行を追加。
　デフォルトは0です。1にしてゲームを起動すると、F2キーを押すことで
　「選択中の選択肢」→「なければマウスカーソル上の文字列ピクチャの文字列(不透明度1以上)」
　をクリップボードにコピーできます。

●【Config.exe】iniファイルの保存処理をUnicodeに対応。
　　　　　　　日本語以外のロケールで起動した場合は自動で英語になる機能を追加。

●【ダウンロード】POST時のContent-Typeを変更できる裏技を追加。
　「POST送信」文のどこでも「<<CONTENT>>～～<<CONTENT_END>>」と入れると
　送信時のContent-Typeヘッダを～～部分で上書きできます。
【入力例】<<CONTENT>>application/json<<CONTENT_END>>～ここにPOST内容～
　※デフォルトでは<<CONTENT>>application/x-www-form-urlencoded<<CONTENT_END>>が
　　入っているのと同じ処理が行われています。
　※<<CONTENT>>～<<CONTENT_END>>部分は削除されて送信されます。

Ver3.10　2022/12/08
●【新規データ作成】Editor起動時、Dataフォルダがないときに新規データを選択する画面を追加。

●【文字列操作】「をﾌｧｲﾙ↓に出力」コマンドに
　　　　「UTF-8/BOM有[基本]」「UTF-8/BOMなし」のオプションを追加。
　　　　出力するUTF-8テキストにBOMの有無を設定します。
　　　　文字列をCSVファイルとして出力する場合などは「有」にしておかないと
　　　　Excel側で文字化けしてしまいます。
　　　　よく分からなければ「BOM有」にしておいてください。
　　　（なお、過去に入力されたコマンドは「UTF-8/BOMなし」になっています）

●【エフェクト】「キャラ」エフェクトに「移動アニメ強制」を追加。
　　　　　　ONにするとキャラを強制的に「移動アニメ」状態にできます。
　　　　　　主に「～T.png」や「～TX.png」の画像が設定されたキャラの、
　　　　　　ピクセル移動中の移動アニメ切り替え用に用意されました。






【ゲーム部　バグ修正】

Ver3.138　2023/01/17
●【ピクチャ】ピクチャの「<CUT/X～/Y～>」とエフェクト「変換」系を組み合わせて使うと
　　　　　　特定の状況でピクチャが表示されなくなるバグを修正

Ver3.137　2023/01/16
●【セーブ・ロード操作】 「変数・文字列の読み込み」「セーブデータへの書き込み」が
　　　可変DBのデータが無いセーブデータに対して行われた場合は、
　　　『Tips：「セーブデータへの書き込み」機能で無から作成したセーブには
　　　　可変DBのデータがないので注意して下さい』
　　　という文章を出すよう修正

●【セーブ・ロード操作】 「ロード」時、マップ・CDB情報がないセーブデータを
　　　　　　　ロードしたときにそれを伝えるエラーが出るよう修正

●【セーブ・ロード操作】 「セーブデータへの書き込み」処理と「ロード」処理を同じフレーム中に行うと
　　　　一度「セーブ」されたデータであっても正常に「ロード」できなくなるバグを修正
　　（Ver3.134更新で「セーブデータへの書き込み」が「ロード」後に行われてしまうバグが出ていました）

Ver3.136　2023/01/15
●【プロ版機能】Ver3.134で「セーブデータへの書き込み」処理をまとめて行う修正を
　　行いましたが、「ゲーム再起動」処理時のタイミングにもファイル保存判定を行うよう修正

●【全体】音声が安定しやすい設定に変更。見た目には何も変わらないと思います。

Ver3.135　2023/01/12
●【ピクチャ】ピクチャの自由変形後に同じピクチャIDでお手軽ウィンドウを「表示」すると
　　　　指定した座標とは違う位置で表示されるバグを修正

●【セーブ・ロード操作】Ver3.134で「セーブデータへの書き込み」処理をまとめて行う修正を
　　行いましたが、ファイル保存タイミングを、「1フレーム終了時」「エラー時」に加えて
　　「ゲーム終了」時のタイミングにも行うよう修正

●【イベント制御】「ゲーム終了」コマンドで不安定な終了をする可能性があったのを修正

●【選択肢】タイルサイズを16以外にして「Sys73:文･選択肢のﾏｳｽ入力(1なら受付)」を
　　　　　　1にした場合、マウスで選択肢を選ぶときの座標がずれる現象を修正

Ver3.134　2023/01/11
●【セーブ・ロード処理】「セーブデータへの書き込み」処理で変数・文字列を
　　　　　書き込んだ際、従来は1つ書き込むたびにファイル保存し直していたのを、
　　　　　「そのフレーム中のイベント処理が全部終わった時点」と、
　　　　　「緑帯エラーが起きた時点」にまとめて1回だけファイル保存するように効率化

●【コモンイベント】起動条件にコモンセルフ変数を設定した自動実行イベントが
　　　　　　　　　起動しないバグを修正

Ver3.132～3.133　2023/01/08
●【フォント】文字表示速度を3.110頃の速さに再び高速化しました。
　　　　　　終了時にまれに隠れクラッシュする現象を直した影響でパフォーマンスが
　　　　　　大きく低下していたようで、それが再発するのを覚悟での高速化です。
　　　　　　隠れクラッシュ現象については引き続き再現方法を調査し、
　　　　　　必要ならライブラリ作者様にも相談予定です。

●【起動時】起動に失敗したときなどに勝手にグラフィック表示モードが
　　　　　　「ソフトウェアモード」になる現象が起きにくくなるよう修正。
　　　　　（現在は起動失敗時、手動で設定を変えてくださいというメッセージが出ます）

●【起動時】ソフトウェアモードで起動したときはタイトルバーに
　　　　　　【ソフトウェアモード】と追加表示されるよう修正
　　　　　（プロ版の場合、ゲームの基本設定[Pro専用]のタイトルバー表示設定に
　　　　　　<SOFT>と入れるとソフトウェアモード時にその箇所に表示されます）

●【Config.exe】「グラフィック表示モード」の説明文を以下のように変更。
　　　　　　　ソフトウェアモードは描画が多少汚くなることがあります。
　＜3Dモード＞
　　グラフィックボードを使用して描画。通常はこちらが高速かつ高い描画品質になります。
　＜ソフトウェアモード＞
　　CPUのみで描画するセーフティモード。動作は安定しますが処理速度は遅く、描画も最低品質です。

Ver3.131　2023/1/05
●【ピクチャ】パターン分割された画像を表示したままセーブ、ロードし、
　　　そのピクチャを消去するとずれながら消える現象を修正

Ver3.123　2022/12/31
●【ピクチャ】自由変形で「表示」したとき、「角度」「拡大率」が「同値」として処理されていたので、
　　　普通の「表示」と同じく「角度0」「拡大率100」で表示が実行されたものとして扱うように。
　（前の挙動に合わせて作っていた方もいらっしゃると思いますので、
　　「ゲーム基本設定」で「動作バージョン調整」を「Ver3.06時点の挙動で動作」にすると
　　「自由変形」で「表示」したときに「直前の角度/拡大率を使用する」ままにできます）

Ver3.122　2022/12/31
●【変数操作】「実数計算」をチェックし代入演算子の「%=」を選んで
　　　　右辺を「1 / 2 (0.5)」などの0超1未満の値にするとクラッシュするバグを修正

●【ゲーム全体】フォント周りの問題でゲーム終了時に密かにクラッシュしてしまい、
　　　　　　　プロセスが残ることがある要因を一点解消しました


Ver3.121　2022/12/30
●【ピクチャ・動画機能】セーブデータをロードした後、読み込んだ動画ファイルが
　　　　　内部的に「動画」として認識されなくなることがあるバグを修正
　　（再生はされるが「.loop」機能やその他の動画エフェクトが機能しなくなる）


Ver3.120　2022/12/29
●【エフェクト】直前の修正で「ピクチャ」の「変換」系エフェクトが
　　　　　　　全て機能しなくなっていた問題を修正

Ver3.111　2022/12/27
●【文字列操作】「特殊文字を消去して格納」で半角の「\」が消えてしまうバグを修正

●【文字列操作】 「<<GET_STRING_WIDTH_COUNT>」の文字幅取得の裏技で
　　　　　　　　　　　　　半角\がカウントされていなかったバグを修正

●【ピクチャ】「_loop.」「_LOOP.」が付いた動画がループしない場合があるバグを修正

●【ピクチャ】画像の基準座標を「左上」以外で「表示」してセーブ→ロードし、
　　　1フレーム以上で「消去」すると消え始めの座標が飛んでしまうバグを修正

●【エフェクト（プロ版）】「マップF/色彩明」が0-360で一周しないバグを修正。
　　　また「マップF」または「全体F」の「色彩明」「モノトーン」の値が
　　　範囲外になっても値がループするように修正。

●【エフェクト（プロ版）】「マップF」または「全体F」で「モノトーン」したとき
　　　　　値が全部「0」の場合だけ画面が元と変わらなくなるバグを修正

Ver3.110　2022/12/23
●【変数操作】「X番の変数呼出」を使って文字列変数へ強引に文字列を代入しようとしたとき、
　　　　　　右辺左側の文字列変数が無視されてしまうバグを修正

●【文字列操作】「ファイル内容読込」で<<～～>>の裏技コマンドを使用したとき、
　　　　　　文字列内に「:」や「..」が入っているとエラーが出る現象を修正

●【ピクチャ】「お手軽ウィンドウ」、基準座標「中央上/下」「処理時間2フレーム以上」で
　　　　実行すると、処理開始時のXサイズだけ本来の2倍になってしまうバグを修正

●【システム変数】「Sys61：フォグ番号」または「Sys66：遠景番号」に数値を
　　入れたのと同じフレーム中に「Sys62～63：フォグXY速度」や「Sys67～68：遠景XY速度」を
　　変更しても速度が反映されなかった現象を修正

Ver3.108　2022/12/21
●【セーブ・ロード操作】並列イベント中でロードするとその後の「場所移動」時に低確率で
　　　クラッシュするバグがあったため、並列実行中にロードするとエラーが出るよう修正
　（もともとマニュアルでは並列処理中のセーブロードはしないようにと記述されていましたが、
　　技術的な都合でGame.exe側で止める処理が作られていませんでした）

Ver3.107　2022/12/19
●【サウンド】SEの再生終了ちょうどのタイミングで同じSEを再生すると
　　　　　　　まれに再生されないバグを修正

Ver3.106　2022/12/18
●【文字列操作】「UTF-8/BOMなし」のテキストファイルを「ファイル内容読込」で
　　　　　　　文字コード「UTF-8」に指定して読み込んでも文字化けするバグを修正

●【サウンド】Ver2.271より前に入力された『サウンド』コマンドでSEを32768回再生すると、
　　　　　以降、全てのサウンドが再生できなくなってしまうバグを修正

●【ダウンロード】「保存しない」にチェックを入れても「～_tmp」ファイルが作られていたので、
　　　　　　ファイル保存が不要なときはそもそも「～_tmp」ファイルを生成しないよう修正

●【ダウンロード】無料版で「http(s)://localhost」に接続する場合は連続で接続しても
　　　　　　　　ウェイトが増えないよう修正

Ver3.105　2022/12/17
●【マップ描画】特定条件において、マップの下端の2マスに置かれた
　　　　▲タイルに重なってもキャラクターが上に表示されてしまうバグを修正

Ver3.104　2022/12/14
●【文字列操作】＜→の特殊文字を消去して格納＞の内部文字数が
　　　　　　　　　消去前のまま変わらないバグを修正

Ver3.103　2022/12/12
●【変数操作+】 「タイル属性の取得」の値が全て-1で返ってきてしまうバグを修正

●【ピクチャ】「お手軽ウィンドウ」で表示したピクチャに「変換」系エフェクトを使用すると
　　　　　　　その画像が見えなくなったり極端に動作が重くなるバグを修正。

Ver3.102　2022/12/11
●【文字列操作】 「↓のファイル内容読込」の隠し機能にある
　<<GET_MAPEVENT_ID_FROM_NAME>>と<<GET_COMMONEVENT_ID_FROM_NAME>>で
　イベントが見つからなかったとき「-1」でなく「<<NotFound>>」が格納されてしまうバグを修正

●【文字列操作】 「↓のファイル内容読込」の隠し機能にある
　<<GET_STRING_WIDTH_COUNT>>に致命的なメモリ漏れバグがあったのを修正

Ver3.10　2022/12/08
●【フォント】ロード時に特定のフォントがMeiryoに変わってしまうことがあるバグを修正







【エディター部　バグ修正】

Ver3.139　2023/01/22
●【基本システム】空データのバージョンが3.14になっていなかったのを修正

Ver3.138　2023/01/17
●【セルフ変数使用状況】「変数操作」と「条件（変数）」において、
　　　　「データを呼ばない」にチェックが入っているCself変数は
　　　　「使用中」とならないよう修正

●【コモンイベントウィンドウ】「条件」の「更新」ボタンを押すと
　　　　変数が必ず「コモンセルフ0番」に戻ってしまう現象を修正

●【条件(変数)】数値入力欄でスピンボタンまたは上下キーを
　　　　　　　しばらく押しっぱなしにしていると特定のタイミングから
　　　　　　　数値3桁ごとに「,」が入ってしまう現象を修正

Ver3.136　2023/01/15
●【チップ処理】項目内の「レイヤー1～3のチップ番号」の「etc:」の表記が
　　　　32ではなく「etc:24」のままになっていたミスを修正
　
Ver3.135　2023/01/12
●【検索ウィンドウ】「条件分岐(文字)」コマンドの左辺文字列変数が
　　　　　　　　　　検索・置換で見つからないバグを修正

Ver3.134　2023/01/11
●【コモンイベントウィンドウ】セルフ変数使用状況の文字入力欄が重なっていて
　　　　　カーソルを合わせたときに点滅してしまうときがあるので入力欄の縦幅を少し縮小

●【場所移動】 「移動先を見ながら指定」の場所移動地点の設定において
　　　　「1/2」表示で「精密マス指定（1マス＝2として計算）」にチェックを入れたとき、
　　　　　マップイベントの表示位置がスクロール分ずれてしまうバグを修正

●【場所移動】「移動先を見ながら指定」においてマップ端にスクロールすると
　　　　　　　ガタガタする現象を修正（枠部分の点滅は直せませんでした）

Ver3.131　2023/01/05
●【ゲームデータ作成】Editorの暗号化がVer3.120以前より不安定になっていたので
　　　　　　怪しい部分を前と同じ処理に戻しました（警告周りの処理には変更ありません）

Ver3.130　2023/01/04
●【ゲームデータ作成】ロケールを日本語以外にして日本語ファイル入りのファイルを暗号化すると
　　エラーが出ないのにGame.exeで暗号化した日本語ファイルが読めなくなるため、
　　別ロケールで読めない日本語ファイルがあった場合は
　　暗号化時に警告が出るよう修正を試みました。
　
Ver3.122　2022/12/31
●【ゲーム基本設定】「Game.exe 動作バージョン調整」に「現Ver3.122の挙動で動作」を追加
　- この直前の「Ver3.06時点」より前にするとピクチャを「自由変形」したときの
　　「表示」時に「角度/拡大率が同値」で処理されます
　　（Ver3.122以降では「角度0/拡大率100」になります）

Ver3.121　2022/12/30
●【チップ処理】「単体チップ設定を変更」の「全初期化」がオンのコマンドを
　　　　　　修正すると全初期化のチェックが外れているバグを修正

●【チップ処理】「単体チップ設定を変更」の「全初期化」がオンのときでも
　　　　　　チップ選択ボタンが押せてしまうバグを修正

●【データベース設定画面】「挿入」「削除」「貼り付け」ボタンを押した後、
　　　　　そのボタンになるべくそのままフォーカスが戻るよう修正
　　　　　（うまくやればキーボードで連打可能になります）

●【ゲームデータ作成】「Dataフォルダまるごと暗号化」したときに作られる
　　「Data_xxxTMPxxx」フォルダが「処理中断」すると残る現象を修正。
　　（今のところ、出力先のデータ自体は処理途中のまま残ります）

Ver3.120　2022/12/29
●【マップイベントウィンドウ】 ウィンドウのイベント一覧上から「削除」を行うと、
　まれにマップイベントウィンドウが一度消えてから再度表示される現象を修正

●【ゲームデータ作成】ゲームデータ作成後、コモンイベントを保存しても
　　保存されなくなったり、タイル設定で画像が読み込めなくなったりするバグ修正
　（ファイル保存先のベースフォルダがゲームデータ作成時にずれてしまうバグでした）

●【タイルセット設定】大きい基本タイルセットを読んだ後に小さいタイルセットを
　　　読み込むと内部的に大きい方のデータ量のままになってしまう現象を修正

●【DBエディタ】「タイプの設定」画面の「OK」「更新」「キャンセル」ボタンの
　　　　　　　　位置を説明文と入れ替えて少し上に移動
　　　　　　　　（画面サイズによってはすぐにはみ出してしまうため）

●【ゲームデータ作成】文字種の問題で暗号化に失敗したファイルがあった場合は
　　メッセージボックスを表示してそのファイルを無視するように修正。
　　また、「暗号化処理はUnicode化されておらず、日本語と
　　半角英数字のファイルしか読み込めません」という注意書きも追加しました。

●【ゲームデータ作成】ゲームデータ作成時、Escによる停止が安定しないので
　　　　　代わりに「処理中断」ボタンを追加しました。

●【イベント検索ウィンドウ】「【コマンド文】から検索」かつ
　　　　「全てのイベント」で検索したとき応答なしになる場合があるので、
　　　　検索中は注目しているイベントにカーソルが移動していくように修正

●【文字入力】一部言語の文字入力に使われるため「右のAlt」が押されている間は、
　「イベント入力ウィンドウ」「DBウィンドウ」「マップイベントウィンドウ」
　「コモンイベントウィンドウ」のショートカットが機能しないように修正

Ver3.113　2022/12/28
●【マップ選択】「Shift+上」操作だけ変な挙動になるようになっていたのを修正

●【ゲームデータ作成】「日本語」以外のロケール下で暗号化をおこなうと
　　　　　　　　　Game.exeからファイルが読めなくなってしまう現象を修正。
　　　　（暗号化データ作成だけ強制的に日本語ロケールで行うようにしました）

Ver3.112　2022/12/28
●【マップ選択ウィンドウ】終了時のマップツリー展開状況が正常に
　　　　　　再現されていないことがある現象の修正を試みました。

Ver3.111　2022/12/27
●【エフェクト】数値欄が入力不可の場合はなるべく値を「0」にリセットするよう修正
　　　（1600000などが入ったままだとコモンセルフ変数が使用中になってしまうため）

●【DB操作】 数値入力欄で日本語切り替えできてしまっていたバグを修正

●【DB操作】「変数に代入→」モードの「タイプ番号取得[数]」のチェックボックスが
　　他のモードに切り替えたときでも内部的にオンになりっぱなしになっていたバグを修正

●【プロ版機能】マップエフェクトの[P]機能など、一部のプロ版機能が
　　　　　無料版でも修正画面を開こうとすることができるバグ修正
　　　　　（無料版で開いても該当するコマンドが出てきませんでした)

●【コモンイベントウィンドウ】 コモンイベントウィンドウでOKまたはキャンセルで閉じると
　　　　　　検索窓が消えずに残ってしまう現象を修正

●【コモンイベントウィンドウ】 「コモンイベント名」一覧だけシステム言語に
　　　　　対応していない文字を使うと文字化けする現象を修正

Ver3.110　2022/12/23
●【マップ選択ウィンドウ】前終了時のマップツリーの展開状態が保存されるよう修正

●【マップ選択ウィンドウ】ツリー構造を変えるたびにツリー展開状態が毎回リセットされてしまうバグを修正

●【マップ選択ウィンドウ】ツリー構造を変更する特定の処理をしたときに
　　　　　　　　　何度も点滅する現象を抑制

Ver3.107　2022/12/19
●【データベース】項目選択後、Ctlr+上下でデータ切り替えした直後に上下キーで項目を
　　　　　変更させようとしても切り替わらない現象をなるべく減らすよう修正

●【マップイベント編集ウィンドウ】 マップを切り替え時に検索ウィンドウだけ残る現象を修正

●【マップイベント】 イベントがないマップで検索するとクラッシュすることがあるバグを修正

Ver3.106　2022/12/18
●【マップ編集】右端と下端でホイールやスペース押しながら移動させるとガタガタ揺れる現象を修正

●【マップ選択】マップ切り替え時にマップが点滅する現象を修正

●【文字列操作】機能を切り替えたときに、文字コード欄が毎回推奨値に戻るよう修正

Ver3.105　2022/12/17
●【エフェクト】マップシェイクの「縦ゆれ」の欄を変更しても強制的に「縦ゆれ」に
　　　　　　　　戻ってしまうバグを修正。

Ver3.104　2022/12/14
●【データベースウィンドウ】 「ファイルの出力」の「データ［複数・csv 形式］」を行ったとき、
　　　「文字列」の項目を変更してもエディタ起動時点の内容で保存されてしまうバグを修正

Ver3.103　2022/12/12
●【イベント制御】【コモンイベント】コマンド修正時のウィンドウに
　　　　　　　　　大きな余白ができてしまっているバグを修正。

Ver3.102　2022/12/11
●【マップ編集】マップ編集時、右クリック選択した後にマップチップ選択ウィンドウの
　　　　　チップを左クリックしても選択状態にならないことがある現象を修正

●【マップ編集】 エディタ起動時にマップ未指定だと白画面が表示される現象を修正

●【マップ編集】1倍表示時、イベントレイヤーのタイル画像の全体像が見えやすくなるよう修正

●【条件（変数）】コマンド修正時のウィンドウに大きな余白ができてしまっているバグを修正

●【新規データ作成】完全初期データの基本フォントを「MS ゴシック」から「Meiryo」に変更


Ver3.101　2022/12/09
●【起動時】新規データを作成するとクラッシュするバグ

●【条件(変数)】 コマンド入力欄のセルフ変数の表示が初回のみ異なる現象を修正

●【キー入力】 コマンド入力欄のセルフ変数の表示が初回のみ異なる現象を修正

Ver3.1　2022/12/08
●【総合】プロ版と無料版を切り替えたときにエディター起動中の警告が出る現象を修正




【基本システム修正】
Ver3.14　2023/01/21 (※1/11版に入れたつもりが入っていなかったのでVer3.139で対応しました）
●メニュー描画時、所持金欄のピクチャID指定が間違っていたのを修正[コモン88/259行目]

Ver3.13　2023/01/07
●「システム」画面の「戦闘時 自動連打」を左右キーで選択したとき、
　終了時の確認が出なかったのを修正[コモン132/314行目追加]

Ver3.10　2022/12/08
●ピクセル移動処理の「待機アニメON/OFF」を全てエフェクト「移動アニメ強制 ON/OFF」に変更
　 [コモン39/「Ver3.10でエフェクトに変更↓」で検索可]


-------------------------------
　Ver3.092までの更新履歴　2022/12/07
-------------------------------
【ゲーム部の追加バグ修正】

Ver3.092　2022/12/07
●【全体】メモリ溢れする可能性があった場所をいくらか修正。挙動には変化はありません。

Ver3.091　2022/12/05
●【文字列操作】 裏技の<<GET_STRING_WIDTH_COUNT>>において
　　　　　全角記号￠がまだ半角（1）分として認識されるのを修正

●【起動時】使用したGame.exeのバージョンがEditorのバージョンより
　　　　　古い場合に出る初期エラーメッセージが文字化けしていたのを修正
　　　　　
●【ゲーム基本設定】 使用フォントをすべて空欄に設定した状態でセーブ＆ロードすると、
　　　　　　　　デフォルトフォントがMeiryoからMSゴシックに変わるバグを修正

●【暗号化データ】暗号化データ使用時に強引にテストプレイすると出てくる
　　　　　　　　Log.txtにてメモリリークが検出されるのを修正
　　　　　　（ライブラリ作者様に対応していただきました、ありがとうございます！）

Ver3.09　2022/12/03
●【PNGファイル読込】一部の昔のツールで軽量化したPNG画像を
　　　　　　　　　　読み込んだ際に起きる不具合が修正されました。
　　　　　（ライブラリ作者様に対応していただきました、ありがとうございます！）

●【マップイベント】マップイベントとしてタイル画像を設定したとき、
　　　　　　　指定した画像と違うものが表示されることがあるバグを修正

●【文字列操作】 裏技の<<GET_STRING_WIDTH_COUNT>>の
　　　　全角英数字と全角記号が1バイトとして認識されるバグを修正

●【文字列操作】 裏技の<<GET_STRING_WIDTH_COUNT>>で
    　　　　Tab文字コードをカウントさせるとクラッシュするバグを修正。
　　　　　　Tabコードのようにカウントできない文字は0として処理されます。

●【文字列操作】「↓のﾌｧｲﾙをBase64で読込」を繰り返すと
　　　　　　メモリ溢れする可能性があったバグを修正

Ver3.083　2022/11/29
●【デバッグ文】Ver3.082のデバッグ文の修正でデバッグウィンドウを出しながらの
　　　　　　ピクチャ処理時にクラッシュすることがあるバグが出ていたのを修正

Ver3.082　2022/11/29
●【デバッグ文】PictureWatch機能について、ディレイ指定されたピクチャが
　　「実際に処理されるタイミング」にもデバッグ文として表示される機能を追加

●【プロ版機能（プロ版）】PNGスクリーンショットの撮影処理が透過PNGになっていたバグを修正。
　　　　　いつものPrintScreenで撮れるものと同じにしておきました。

●【システム変数】マップ拡大率100％以外の状況で「Sys122:Map&Evｽﾞｰﾑ時なめらか化(1=YES)」に
　　1を入れるとタイルの隙間が見えてしまうバグを修正。
　　ただ隙間の黒い空間はなくなっても隣のチップの色が映り込んでしまうので、
　　この機能自体は実用的ではない気がしました。「α版」と付けておきます。

●【システム変数】Sys122:Map&Evｽﾞｰﾑ時なめらか化(1=YES)　の名前を
　　　　　　　　Sys122:Map&Evｽﾞｰﾑ時なめらか(1=YES)[α版]　に変更

Ver3.081～　2022/11/27
●【変数操作+】 ピクチャの「マウス重なってる？」の判定が内部的に
　　　　　　　　1フレーム前のピクチャ座標を使用していたのを修正。

●【DB操作】 CSV保存で存在しないフォルダを指定した場合、自動でフォルダが生成されるよう修正。

●【データベース】データベース内に「×NoData」が多数ある状況でゲームを起動すると、
　　　　　　　　　まれにクラッシュする可能性があるバグを修正

Ver3.073～　2022/11/26
●【システム文字列・プロ版】 ゲーム内から初回「SysS57：[P]クリップボード内容」に代入しても
　　　　　　　　　読み取り文字列が<<StartClipBoard>>のまま変わらないバグを修正

●【システム文字列・プロ版】 「SysS57：[P]クリップボード内容」の文字列が
　　　　　　　Unicodeになっていなかったバグを修正。

●【エフェクト】 マップの端で「マップ」エフェクトすると
　　　　　　　　瞬間的にマップ画面が黒くなることがあるバグを修正

Ver3.062～　2022/11/24
●【Game.exe】条件は不明ですが高確率で致命的なクラッシュを引き起こす要因が
　　　　　　見つかったので修正してみました。

Ver3.061～　2022/11/24
●【エフェクト】 主人公の『重ねキャラチップ変更』で変更した状態でセーブすると
　　　　　　ロード時にクラッシュするバグ修正

●【エフェクト】スクロールできない画面端が映るようにマップエフェクトのシェイクをすると
　　画面外が映るタイミングで全てのマップチップが消えて真っ暗になる現象を修正

Ver3.06～　2022/11/24
●【キャラの上下描画判定】ループ際の挙動などに問題があったため処理全体を作り直しました。
　　　　　　　　もし大きな問題が出ていた場合はいったんVer3.05をご利用ください。
　　　　※なおプロ版で「ループ有り」マップ、かつ「ズームアウト」すると相変わらず
　　　　　マップイベント表示の動作が極めて不安定になりますのでご注意ください。

●【マップチップ】▲チップの裏側のキャラチップがスクロールのたびに
　　　　　　　　チップに隠れたり表示されたりする現象を修正。

●【エフェクト】ピクチャ番号がマイナスのピクチャに対して、エフェクトの「色調変更」で
　　　RGB値を99以下にしたとき反映されていなかったバグを修正。
　　　前の仕様で作っていた方もおられると思いますので、その場合は「ゲーム基本設定」の
　　　「Game.exe動作バージョン調整」を「旧Ver3.00以前の挙動」に変えると
　　　前の挙動のままにできます。

●【変数操作+】エフェクトの「ピクセル移動」を使用して移動させた場合、
　　　キャラの「移動中？」取得が機能していなかったのを修正。
　　　±1ピクセル以上移動できた場合に1を返します。

●【イベント制御】 「キャラ動作指定」で「パターン1～5」を実行しても
　　　反映まで15フレームほど遅れるバグを修正。
　　　すでにこれに合わせて作っていた方もおられると思いますので、
　　　前の挙動のままにしたい方は「旧Ver3.00以前の挙動」に変更してください。

●【システム変数】 「Sys26：選択肢ｳｨﾝﾄﾞｳ X余白」の選択肢余白を入れた分だけ
　　　　　　　　　　選択肢ウィンドウが右にずれていってしまうバグを修正。

Ver3.05～　2022/11/23(水)
●【クラッシュ問題】おそらく昔のツールで軽量化されたPNGファイルが原因で発生する
　　　　　　　　　　クラッシュへの対応を試みました。

Ver3.04～　2022/11/22
●【変数操作+】 「位置」指定の画面外エラーを止める裏技を作っておきました。
　1. Game.exeのある場所で右クリック→新規作成→テキストドキュメント　でテキストを作成。
　2. 1のファイルを「Game_PosErrorStop.txt」に名前変更し、Game.exeと同じ場所に置く。
　3. この状態でテストプレイすると、「変数操作+」の「位置」エラーを最初から抑制できます。

●【動作指定】キャラの「動作指定」時のマップセルフ変数の読み込み先が
　　　　　　　間違っていたバグを修正

●【エフェクト】ゲーム基本設定で移動幅を「1マス」に設定している状態で
　　　　　　　ピクセル移動をすると当たり判定がおかしくなるバグを修正

●【特殊文字】ルビ\r[X,Y]の表示速度が変則的になっていた現象の修正を試みました。

Ver3.03～　2022/11/22
●【エフェクト】 ピクチャに「角度」を指定している状態だと、
　　　ピクチャエフェクトの「ズーム」が正常に機能しなくなっていたバグを修正

●【変数操作+】 ルビ付きの文字列ピクチャに対して「ピクチャ」の
　　　　　　　「画像サイズ（横）」を取得するとルビなしと違う値が出るバグ修正

●【変数操作+】画面外を指定して出るエラーは「テストプレイ時」のみ
　　　　　　　「最初の1回だけ」出るように修正(Ver3.02まで)。

●【ピクチャ】ファイル名末尾に_LOOPを付けた動画がループ再生されないバグを修正



------------------------------------

【エディター部の追加バグ修正】

Ver3.092　2022/12/07
●【ピクチャ】 自由変形を設定時、コマンド一覧にて基準座標が「中央上」と出ていたのを
　　　　　　「中央」に修正

Ver3.091　2022/12/04
●【DB特殊設定(プロ版)】テーマカラーをパーフェクトダークにしたまま
　　　　　　　　　DBの特殊設定を開くと文字が黒のままで一部読めなくなるバグを修正

Ver3.09　2022/12/03
●【エディターオプション】「旧ファイル読込言語」の言語の順序が、
　　　　　　　　　　実読み込み時に出てくる言語と違っていたのを修正

●【データベース】データ消去時のスクロール挙動をVer3.08以前と同じようになるよう修正

●【データベース】Ctrlを押しながらタイプを切り替えた際、
　　　　　　　　　同じデータ番号を選んだままタイプ変更できるよう修正

Ver3.086　2022/12/03
●【マップチップ選択】 タイル画像の外を選択すると変な選択のしかたになってしまうバグを修正

Ver3.085　2022/12/02
●【データベース】データを削除したときなどにデータがスクロール中央に来なくなっているバグを修正

Ver3.084　2022/12/01
●【画像選択】 マップイベントの画像選択画面などで、画像がないところをダブルクリックしても
　　　　　　「OK」されてしまうバグを修正。

●【マップ選択】 大きいマップがスクロールされた状態で別の小さいマップへ
　　　　　　マップを切り替えたとき、前マップのチップが残ることがあるバグ修正
　　　　　　
Ver3.082　2022/11/29
●【タイルセット設定】表示スケールが100％以外のときのタイルセット設定で
　　　　下部の表示がおかしくなったり通行設定が表示されなくなるバグを修正

●【データベース設定】タイプ設定で文字列の項目を挿入・削除した場合、元々格納されていた
　　　　　　　　文字列内容がずれてしまうバグを修正（数値では起きませんでした）。

Ver3.08～　2022/11/27
●【起動処理(プロ版)】Editor.iniにプロテクトキーが記述されているのに
　　Game.datに暗号化がかかってない場合、起動時にメッセージが出るよう修正。
　　一部の基本ファイルだけにプロテクトがかかってしまう問題をさけるためです。

●【エディターメイン部(プロ版)】起動時とマップ・マップイベントが編集された状態だと
　　　　　　　タイトルバーの『WOLF RPGエディター PRO』の"PRO"表記が消えるバグを修正

●【コモンイベントウィンドウ】変数の数を多くするとコモンイベントエディタ上で
　コモンイベントを切り替えたときに時間がかかるようになってしまっていたのを修正

●【ゲームデータ作成】 コピー対象外とするデフォルト拡張子に.clipと.lnkを追加。

●【場所移動】「移動先を見ながら選択」画面でスクロールするとチラ付く問題を修正

●【マップ選択】「マップ選択」ウィンドウの位置が、前回終了時と同じ場所・サイズで配置されるよう修正

●【マップ編集ウィンドウ】前回終了時のマップウィンドウの最大化状態を記憶するよう修正

●【マップ編集ウィンドウ】前回終了時のマップの表示倍率を記憶するよう修正

●【エディターメイン部】ツールバーアイコンを少しだけ調整

Ver3.073～　2022/11/26
●【イベントエディタ(プロ版)】 WoditorEvCOMMAND_START ～の文字列によるコード貼り付け処理の
　　　　　　　　　文字コードがSJISになっていたのをUnicodeに修正。
　　　　　　　　（ハートマークなどが入りませんでした）

●【複数データ選択】 コモンイベント複数コピーなどデータ範囲を指定する画面で
　　　　　　　　　　自動的に数値補正が入る処理を削除しました。

Ver3.072～　2022/11/25
●【コンバート】コンバート後のデータでエディタがクラッシュする可能性がある要因を修正。

Ver3.071～　2022/11/25
●【表示スケール】表示スケールが100％以外のときのレイアウト崩れや座標ズレの修正を試みました。
　　　対象は「起動時バナー」「ツールバーアイコン（1.5倍、2倍に変化。ただし今は画像ガビガビ）」
　　「場所移動先の選択画面ズレ」「画像選択画面のクリック位置ズレ」
　　「タイル選択時のクリック位置ズレ」です(Ver3.070)

●【場所移動】移動先を選択する画面で環境によってマップが枠外にはみ出ていることがあるバグを修正(Ver3.070)
　→ Ver3.071追加　マップの端が選びにくくなっていたのを修正

●【タイルセット設定画面】「最後に選んでいたタイルセット番号」が最初に出るよう修正
　　　　　　　　　　　　　（前回「OK」で終了していた場合のみ）

●【データベース】データベースのメモ欄が15行以上になった場合だけ縦スクロールバーが
　　　　　　　　　表示されるよう修正（メモ欄の横幅が広く使えるので、
　　　　　　　　　　Ver3から必要ないときはスクロールバーが非表示になります）

●【コモンイベント編集時】 起動直後、コモンイベント編集時に0番以外のコモンイベントに
　　　切り替えてイベントコマンド入力【変数操作+】を開いたとき、
　　　コモンセルフ変数名がコモンイベント0のコモン変数名になっているバグを修正。

●【複数指定画面】コモンイベントの複数コピー画面などで「-1」を入力すると
　　　　　　　　　　　　クラッシュするバグを修正



Ver3.06～　2022/11/24
●【マップエディタ】タイルサイズが正しくないときのエラー文の選択肢表記の中の
　　　　　「ゲーム解像度を変更する」表記を「タイルサイズを変更する」に修正

●【マップの基本設定】ファイル名の欄で、マップのファイル名の末尾がmかpかsだと
　　　　　　　　　その文字だけ表示されなくなっていたバグ修正。


Ver3.04～　2022/11/22
●【エフェクト】エフェクトコマンド入力欄、「画面のスクロール」内の「上」が
　　　　　　　　見えなくなっているのを修正

●【コマンド入力ウィンドウ】コマンド順を並べ替えている場合、イベント挿入などの
　　　コマンドウィンドウを開いた時になぜか常に文章の表示が最初に出てきて
　　　1番目のコマンド内容と混ざった表示になってしまうバグ修正

●【マップエディタ】 マップが選ばれていない状態でテストプレイを開始しようとすると
　　　マップファイル保存ダイアログが表示されてしまう現象を修正

●【翻訳DLL】「Editor.lang.dll」がうまく読み込まれなくなっていたバグを修正



------------------------------------

【基本システムの追加バグ修正】

Ver3.09　2022/12/05
●システム画面の「変更を保存して終了」時の音が2重になっていたのを修正
　[コモン132/66行の決定音を削除]






-------------------------------
　Ver3.02の更新履歴　2022/11/22
-------------------------------

【とても重要なＱ＆Ａ】
Q. コンバートしたけどVer2までと全然違う挙動をします！
　マップチップが変！　「位置」指定の画面外エラーが出る！　文字が斜めになってる！　など！

A. まずはEditor.exeから「ゲーム基本設定」の「Game.exe　動作バージョン調整」を
　「旧Ver2.29時点の挙動で動作」に切り替えてゲームを実行してみてください。
　挙がった点に関しては、その変更をすることでおおよそ前の通りに動作します。

---

【重要　Ver2.29系から更新される場合の注意点】

　Game.exeをVer3.00以降のバージョンに差し替えると、Ver2.29系と比べ以下の挙動が変わります！
　前の挙動に戻したい場合は、Editor.exeから「ゲーム基本設定」の「Game.exe　動作バージョン調整」を「旧Ver2.29時点の挙動で動作」に切り替えてください。

- 【チップ処理】「単体チップ設定を変更」と「マップチップの上書き」で指定すべきチップ番号がずれます。
　　そのため、【自動生成マップなどを実装されている場合、従来通りに作られなくなってしまいます】。
　　オートタイルが0-15番から0-31番に増えるため、Ver2で「変数」で16番以降のタイル指定をしていると16個分ずれることになります。
　　（「固定値」でチップ番号を指定している場合は自動で補正されるため問題ありません）

　　「旧Ver2.29時点の挙動で動作」にするとこのズレを補正して、以前のオートタイル15個時点と同じ挙動を行うようになります。
　　その場合、16番から基本タイルが始まりますので、「チップ処理」コマンドでオートタイル16～31番は使えなくなります。

- 【変数操作+】 一つ上と同じ理由で、「位置」指定で得られる「チップ番号」の16番以降が従来と違うものになってしまうため、ゲームが前の通りに動かない可能性があります。
　　「旧Ver2.29時点の挙動で動作」にするとオートタイル15個時点と同じ、以前の通りのチップ番号を返すようになります（通常32番から基本チップになるところが、16番が基本チップの1番目になる）。

- 【変数操作+】Ver2.29以前は「位置」で画面外を指定してもエラーが出ないバグがあったため、Ver3.00以降でエラー表示される場合があります。
　　「旧Ver2.29時点の挙動で動作」にすると「位置」指定で画面外を指定したときのエラーが出なくなります。
　　
- 【選択肢ウィンドウ】「選択肢ウィンドウ」の「余白」サイズが少し変わります。
　　従来は「チップサイズ」に応じて自動で余白が設定されていたのが、今後はSys26、27「選択肢ウィンドウ X/Y余白」で縦横の余白設定が可能です。

- 【ピクチャ】ピクチャの「角度」を0以外にしたとき、異なる縦横の拡大率が反映されるようになりました。
　「旧Ver2.29時点の挙動で動作」にすると従来通り、「角度」を0以外にしたときに強制的に「縦横同じ拡大率」になります。

- 【文字列ピクチャ】文字列ピクチャの「角度」が反映されるようになったため、文字列の角度に何か入力していた場合は見た目が狂う場合があります。
　「旧Ver2.29時点の挙動で動作」にすると文字列ピクチャが回転できなくなります。

- 【変数操作+ 】イベントが存在していない(全ページの起動条件を満たしていない)とき、従来は「イベント」の「起動条件」の値が0を返していたのが、「-1」を返すようになります。

- 【文章の表示・文字列ピクチャ】 ルビの特殊文字\r[XX,YY]のXX部分が文字速度にかかわらず一瞬で表示されていたのが、文字速度に応じて1文字ずつ表示されるようになります。

- 【プレイヤーの画面座標・スクロール座標】 プレイヤーの画面座標の更新タイミングが変わり、「イベントコマンドで取得したプレイヤー座標・スクロール座標」が「正確に」なっています。
　従来は1フレーム分だけずれていたので、その前提で残像を描画する処理などを作っていた場合、期待した通りに表示されなくなる場合がございます。
　また、プレイヤーの移動し始めが従来より1フレーム遅れるため、1フレームしか猶予のない逃走ゲームなどではクリア不能になる場合がございます。

- 【文字列操作】キーボード入力時、UTF-8になった影響で日本語の全角文字が「2バイト」から「3バイト」相当に変わります。
　　日本語入力が必要なクイズなどがある場合、入力文字数が足りなくなってしまう場合がございます。
　※「Ver3にコンバートしていないゲームデータ」あるいはゲーム基本設定で「旧Ver2.29時点の挙動で動作」にした場合は、
　　自動で【キーボード入力文字数を1.5倍に補正】する処理を行います。
　　【旧ゲームデータが入力文字数不足でクリア不能になる】のを避けるためです。

- 【イベント制御】「キャラ動作指定」において、入力された「変数」は入力時点の値が使用されるようになります。
　　　（従来は動作指定「中」に変数を読みに行く仕様で、その影響でコモンセルフ変数なども使用できませんでした）
　　　　もし挙動がおかしくなった場合は「旧Ver2.29時点の挙動で動作」に変更してください。

- 【エフェクト】「マップ」エフェクトの「ズーム」の拡大率の最低値が1以上になりました。
　　　0以下を指定していた演出では、従来通りの挙動をしなくなります。
　　（これは今のところ、挙動の再現ができません。今後、似た表現ができる機能の搭載を検討しています）






【コマンドが自動変換される部分】
　Ver3になると以下のコマンドが自動的に変換されます。

- 【ダウンロード】 旧データを変換した「ダウンロード」コマンドは、新たに追加された
　　　　　「SJIS変換する」と「SJIS文字列を受信」のチェックが自動的にオンになっています。
　　　　　（SJIS：Ver2までのウディタ内で使われていた文字コード。これがONだとVer2時点の挙動を再現します）
　　　　　もし「UTF-8」の文字コードで送受信したい場合は、上記チェックを外してください。


- 【文字列操作】旧データを変換した場合の「↓のファイル読込」コマンドは、
　　　　　　新たに追加された「（読み込む）文字コード」の設定として、
　　　　　　自動的に「自動文字コード判別」がセットされています。
　　　　　　
　　　　　　旧データからの移行で、SaveフォルダとDataフォルダのtxtファイルに
　　　　　　SJISとUTF-8の文字コードが混在している可能性に備えたものですが、
　　　　　　この自動判別機能も完璧ではないため、ファイルから読み込みした文字列が
　　　　　　文字化けする場合は手動で文字コードを「SJIS」か「UTF-8」で指定してください



【新機能】

●【文字コード】ウディタ全体の文字コードが「SJIS」から「UTF-8(Unicode)」になりました。
　　　　　　　　以下の点で変化があります。

 - Ver2以前のデータを読み込んだ際、最初に「コンバート画面」が表示されます。
　 ここで基本データ、マップファイル、txt、csvファイルをUTF-8に変換する作業が実行されます。
　 （txt拡張子以外のテキストファイルは自力でUTF-8に変換してください）

 - 全てのファイルの文字コードが「UTF-8」になります。
 　今後はゲーム内から読み込むテキストファイルもなるべく「UTF-8」にしてください。

 - 「【文字列操作】で出力されるファイル」「【DB操作】で入出力されるCSVデータ」、
　「【ダウンロード】機能の通信内容」の標準文字コードが「UTF-8」になります。

 - 海外OS上でもゲームが正常に動作しやすくなります。
 　暗号化データ内にある日本語のファイルも、多くの海外OSでそのまま読み込めるようになるようです。

 - 文字列として「♥（ハート）」マークなどの記号も入力可能になります。
 　ただし、使える記号はフォントに含まれているものに限られます。


●【デバッグ文】デバッグ文に変数監視機能を搭載しました。
たとえばデバッグ文に
　ValWatch:ON=2000009
と入れると、指定した変数が変化したとき「デバッグウィンドウ」に以下のように表示されます。

【見本】
# ValWatch=> 2000009 = 4　　※通常変数9に4が格納された
-->[MapEv14/4行]

※またこの機能を使うと「コモンイベントの高速化」がオフになるので、
　コモンイベントの処理時間が平均で「元の6～10倍以上」になる場合がございます。
　高負荷の状況をテストするのにも使えます。
　他機種への移植をご検討の方はEv処理時間をなるべく小さくするよう心がけてください。

※【注意！　ValWatchで数値計算が狂う場合があります！】
　ValWatchを使用中は、高速化が解除される影響で、コモンイベント内の変数操作などで
　数値が「2147483647」を超えると「-2147483648」に逆転してしまう現象がなくなり、
　常に数値が±20億以内におさめられるようになります。
　±20億近くの値を使う計算を行っている場合や、
　あるいは計算ミスなどで知らない間に21億を超えたことによる
　数値の逆転が発生していた場合、ValWatch機能のON/OFFで
　計算結果に差が発生してしまう場合がございますのでご注意ください。



●【デバッグ文】デバッグ文に「ピクチャ監視」機能を搭載しました。
たとえば「デバッグ文」機能で
　PictureWatch:ON=123
と入れると、以後ピクチャ123番を監視してなにか処理が行われたら、「デバッグウィンドウ」にそのピクチャ番号と処理位置、処理内容（
表示(New）　移動（Move)　消去（Delete）　ディレイリセット（Delay Reset)　ピクチャエフェクト（Effect））が表示されます。

【見本】
# PictureWatch=> 123 <New> (※新規表示）
-->[ｺﾓﾝ696/28行]


●【変数操作+】取得できる項目を追加しました。
「キャラ」
- キャラチップ横分割数
- キャラチップ縦分割数
- 現在ﾋﾟｸﾁｬﾊﾟﾀｰﾝ[1～12+] ： そのキャラをピクチャ分割したと考えた場合の今のパターン番号を返します。
- ピクセル補正値X[0～(半ﾀｲﾙ-1)] ： 後述する「エフェクト」による「ピクセル補正値」で、0～[タイル半分px-1]までの値を取ります。「精密座標×半タイル分」からのズレの値です。
- ピクセル補正値Y[0～(半ﾀｲﾙ-1)]

「位置」
- ﾚｲﾔｰ1～3のﾀｲﾙ属性[★1+▲2+↓4+□8+■16]
- 最も上のｵｰﾄﾀｲﾙﾁｯﾌﾟ番号
- 最も上のｵｰﾄﾀｲﾙ縦ﾊﾟﾀｰﾝ(1-5の4桁/精密1桁)
- 最も上のｵｰﾄﾀｲﾙ横ｱﾆﾒﾊﾟﾀｰﾝ(1-)
- 最も上のｵｰﾄﾀｲﾙ横ｱﾆﾒﾊﾟﾀｰﾝ総数
- 最も上のｵｰﾄﾀｲﾙﾋﾟｸﾁｬﾊﾟﾀｰﾝ(要[精密])
- 最も上のｵｰﾄﾀｲﾙﾋﾟｸﾁｬﾊﾟﾀｰﾝ総数

「その他」
- 現在のマップのタイルセット番号
- 現在マップのマップイベント数


●【文字列操作】「↓のファイルをBase64で読込」コマンドを追加。
　画像やセーブデータなどのバイナリファイルを、Base64フォーマットの文字列として読み込むことができます。
　主にサーバとの通信時に使用することになるでしょう。

●【文字列操作】「特殊文字を全て削除」を追加
　フォント変更の\f[]などの特殊文字によって生まれた内部コードを全て削除します。
　ルビ\r[XX,YY]のYY部分や\img[]指定も「 ] 」が終わる範囲まで消去されますが、
　ルビ\r[XX,YY]に関しては「XX」の部分だけ残ります。

●【文字列操作】「に↓から最後1文字切り出し」コマンドを追加しました。
　指定した文字列の「最後」から1文字だけ切り出せます。
　長さ取得の裏技<<GET_STRING_WIDTH_COUNT>>と合わせて使うと文字列の長さ調節に有用そうです。


●【文字列操作】「↓のファイル読込」を選んだ場合だけ使える裏技コマンドを追加しました
　　「手動入力」で以下の文章を入れることで特殊な情報を得ることができます。

<<GET_MAPEVENT_ID_FROM_NAME>>(マップイベント名)
　[マップイベント名]からイベント番号を得られます。
　結果の数値は文字列として文字列変数に格納されます。
　同じ名前が複数ある場合は、一番大きいイベントIDを返します。
　　例：サンプルマップAで「<<GET_MAPEVENT_ID_FROM_NAME>>エディ」と指定すると「8」が格納される。
　　

<<GET_MAPEVENT_NAME_FROM_ID>>(マップイベントID)
　[マップイベントID]からマップイベント名を得られます。
　 例：サンプルマップAで「<<GET_MAPEVENT_NAME_FROM_ID>>8」と指定すると「エディ」が格納される。

<<GET_COMMONEVENT_ID_FROM_NAME>>(コモンイベント名)
　[コモンイベント名]からイベント番号を得られます。
　結果の数値は文字列として文字列変数に格納されます。
　同じ名前が複数ある場合は、一番大きいイベントIDを返します。
　　例：「<<GET_COMMONEVENT_ID_FROM_NAME>>▲装備取得」と指定すると「21」が格納される。

<<GET_MAPEV_FILENAME>>(マップイベントID)
　指定したIDのマップイベント(IDが-2以下なら主人公や仲間）として、現在表示されている画像ファイル名が取得できます。もしマップイベントに現在表示されているのがタイル画像なら「<TILE>15」(タイル15番)のように格納されます。
　　例：「<<GET_MAPEV_FILENAME>>7」と指定すると「CharaChip/[Chara]Doctor.png」が格納される。

<<GET_TILE_FILENAME>>(タイル番号の数値)
　現在マップの[タイル番号の数値]番のタイルファイル名が取得できます。0なら基本タイル画像、1～31がオートタイル画像です。
　　例：サンプルマップAで「<<GET_TILE_FILENAME>>7」と指定すると「MapChip/[A]WaterFall2_pipo.png」が格納される。

<<GET_FILENAME_FROM_PICTURE>>(ピクチャIDの数値)
　[指定ID]のピクチャとして表示されている「画像ファイル名」、あるいは文字列ピクチャなら「文字列」を返します。
　　例：サンプルゲームでメニューを開いた状態で「<<GET_FILENAME_FROM_PICTURE>>10001」と指定すると
　　　「SystemFile/WindowBase_amania.png」が格納される。

<<GET_STRING_WIDTH_COUNT>>(文字列)
　 半角1、全角2と換算して文字列の「長さ」を計算した値を返します。
　 UTF-8化でキーボード入力の長さが不定になったため、
　 得た文字列を一定の長さにするまで切り取るときのカウント用、などの用途を想定しています。
　 例：(文字列)として「あああAAA」と入れると(2×3)+(1×3)で「9」が格納されます。


●【文字列操作】「↓のファイル読込」処理時、文字コード選択ができるようになります。
　　　　「UTF-8読込[標準]」「SJIS読込」「自動文字コード判別」から選ぶことができます。

●【DB操作】可変DBへの「新規挿入」「抜き出し」処理を追加。
　　空データをデータ間に挿入したり、データを抜き取って間を詰めることが簡単になります。

●【ピクチャ】 「文字列ピクチャ」が回転できるようになりました。
　ただ従来作品で文字列ピクチャに内部的に角度を指定していて大変なことになるケースもあると思いますので、
　文字列を回転させたくない場合は「ゲーム設定」の「Game.exe 動作バージョン調整」を「旧Ver2.29時点の挙動で動作」に切り替えてください。


●【エフェクト】エフェクト機能を多数追加しました。

【ピクチャ】
- 描画座標シフト2(角度・拡大率反映)
　→　通常の「描画座標シフト（最終座標をシフトさせる）」と違い、
　　拡大率や角度の影響を受ける「前」のXY座標をシフトさせます。
　　ウディタ作者は、「カード」を複数のピクチャを重ねて作るときに使用しています。
　（文字や下地などの別ピクチャを全て同じ座標の「中央」座標で重ねて出した後、
　　これで座標シフトさせれば、回転・拡大しても1枚のカードとして動くように見せられます）
- 不透明度補正[±]
- 角度補正[±]
- 拡大率補正[±]
- エフェクト全解除

- ピクチャのコピー
　指定IDから別の指定IDにピクチャをコピーします。
　　
- ピクチャのID移動
　ピクチャのIDを指定IDから別の指定IDに移動させます。

- 変換/色相彩度輝度　ピクチャの色などを変化させます。
- 変換/モノトーン　ピクチャをモノトーンに変化させます。
- 変換/ぼかし　ピクチャをぼかします、限界があります。
- 変換/階調反転　ピクチャの色を反転します。
- 変換/レベル補正　ピクチャの明るさを、旧MIN～MAXの範囲から新MIN～MAXの範囲に補正します
- 変換系のみ全解除　これら変換エフェクトを全解除して最初の状態に戻します
→　これらの「変換」系処理は、不可逆な変換を行います。一度かけた「変換」エフェクトは
　「変換系のみ全解除」かピクチャが消去されるまで持続し、部分的に戻すことはできません。


【キャラ】
- ピクセル移動(α版)： ピクセル単位でイベントを移動させます。
　「主人公」や「マップイベント」をピクセル移動で移動させた場合、マップの侵入不可チップに当たるとそこで停止します。
　また、「並列イベント」でこのエフェクトを使用して主人公やイベントを動かすと、「プレイヤー接触」や「イベント接触」のイベントを起動させることができます。
　ただし、現状は【主人公だけがピクセル移動を行い、イベント側はマス目移動を行う】という前提の処理になっているため「α版」です。
　※現在、イベント側の当たり判定はどんな状況でも「マス目単位」で判定するため、もしイベントも主人公もピクセル移動させた場合、
　　（最大半マス内の）見えない当たり判定にぶつかったり、急に押し出されたりする場合があります。
　※主人公のピクセル補正値を取得したい場合は9180007、9180008の値を見てください。

- 不透明度補正[±]
- 強制パターン上書[0:ﾅｼ]　：　キャラチップを指定したパターン番号にして停止させます。パターン値はピクチャと同じ分け方です。
- 高さ変更
- ｷｬﾗﾁｯﾌﾟを変更
- 重ねｷｬﾗﾁｯﾌﾟを変更(α版)：
　元のキャラチップに最大5枚分、別のキャラチップを重ねられます（つまり全6レイヤーで着せ替えが可能です）。
　重ねる画像は同じサイズである必要があります。
　なおこれはまだ仮のもので、「下半身が半透明」地形などに入ると「パーツごとに不透明度が減る」ため、下のレイヤーが透けて見えてしまいます。
　今後、可能なら透けないように合成するよう修正予定です。



●【エフェクト】 マスク機能を追加しました。簡単に言うと描画範囲を一部封印できる機能です。
　白黒の画像を使って「マスク」に書き込み、キャラ・マップ・ピクチャのマスクを個別にONにすることで、指定したキャラ・マップ・ピクチャのみ、表示される範囲を制限することができます。
　使えるマスクは1レイヤーだけですが、暗闇の表現、マップ上のキャラが一定範囲内にしか表示されない表現、ミニマップ表示、カットイン作成などが実現できます。
　（ライブラリ側の機能をそのまま入れており【マスク用の白黒画像の拡大縮小回転などはできない】ため、それをカバーするのに少し努力が必要です）

【マスク】
- マスク全リセット
- 全面[表示]に塗りつぶす 
- 全面[非表示]に塗りつぶす
- (画像)の表示範囲(黒)追加
- (画像)の非表示範囲(白)追加 
- （キャラID）のキャラのマスクON
- （キャラID）のキャラのマスク解除
- マップのマスクON
- マップのマスク解除
- (ピクチャID)をﾋﾟｸﾁｬﾏｽｸONにする
- (ピクチャID)のﾋﾟｸﾁｬﾏｽｸ解除


●【ピクチャ】 ピクチャへの画面取得機能を実装。
　「[1]ファイル読み込み」のファイル名、または「[2]文字列読み込み時」の文字列変数内に
　<SCREENSHOT>と入れると、「その時点で表示されている画面」をピクチャとして利用できるようになります。
　なお、このピクチャ内容はセーブできず、ロード時には消えてしまいます。
　
　また、この<SCREENSHOT>ピクチャ指定で「表示」をするたび、
　「すでに<SCREENSHOT>を表示中の他の全ピクチャの画像」も更新されます。
　つまり、ゲーム内では<SCREENSHOT>は内部で共通の画像であり、
　【最新の1枚分しか表示できません】。この点はあらかじめご了承ください。
　

●【ピクチャ】 部分切り出し表示機能を実装。
　[1]ファイル読み込みまたは[2]文字列読み込み時に
　「<CUT/X10-150/Y40-300>Picture/AAA.jpg」と指定すると、
　画像「AAA.jpg」から、X座標10～150ピクセル、Y座標40～300ピクセルの範囲だけ切り出して表示することができます。


●【ピクチャ】表示基準位置として「中央上」と「中央下」を新たに実装。

●【チップ処理】 「単体チップ設定を変更」に「後ろだと隠れる」属性を追加。
　　　　　　　　従来バージョンではなぜかこれだけありませんでした。


●【ダウンロード】 POST送信機能を実装しました。
　　※POST送信：URL内にデータを書き込むGET方式と違うやり方でデータをやり取りする。改ざんされにくく、読まれにくい。

●【ダウンロード】 URLとPOST送信内容に「SJIS変換する」「SJIS文字列を受信」「URLエンコードして送信」オプションを追加。
　・「SJIS変換する」をチェックすると、文字列情報の文字コードをSJISに変換して送信します。これはVer2時点の処理で使われる文字コードで、従来に合わせる場合は「SJIS変換する」をチェックしてください。チェックしない場合は「UTF-8」文字列で送信します。
　・「SJIS文字列を受信」をチェックすると、受け取ったデータをSJIS文字列として認識し、ウディタ内で使える文字列に変換します。そうでなければ受信されたのは「UTF-8」文字列として扱われます。
　・「URLエンコードして送信」は、URLの「クエリー部分（URLの?以降の部分）」だけをエンコードします。またこのURLエンコードは、アルファベット、数字、記号の「*」「.」「-」「_」「&」「=」のみ変換しません（クエリーやPOST内容全体をURLエンコードする場合、「&」や「=」が違う文字になっているとフォームデータ受信の方法が使えなくなるため。基本的に問題はないと思います）。


●【特殊文字】\iS[?]、\imgS[？]を実装。
　　ゲーム基本設定でピクチャの拡大縮小時が「なめらか」になっていても、
　　この特殊文字で指定されたアイコンや画像に限り常に「ガタガタ＆くっきり」になります。

●【特殊文字】\cE[?]、\cS[?]を実装 ?＝フォント色番号
　\cE[?]　\Eによるフォントのふちの色を?番のフォントカラーに変更します。設定しなければ黒です。
　\cS[?]　フォント影　の色を?番のフォントカラーに変更します。設定しなければ黒です。

●【特殊文字】\wE[?]を実装　？＝ふちの太さ
　これまでエッジを付ける特殊文字「\E」がありましたが、「\wE[?]」と入力することでふちの太さを?ピクセルに設定できるようになりました。
　設定できるふちの太さは1～5です。従来の「\E」は「\wE[1]」と同じです。

●【特殊文字】文章中の画像サイズ％補正特殊文字、\isize[??]を実装。
　たとえば文中に\isize[50]と入れると、その後の\i[?]や\img[～]で表示される画像のサイズを50％の大きさで表示します。

●【特殊文字】位置、フォントサイズ系の特殊文字を追加。
　・\bx[15] ： 次行からの開始X座標を設定する
　・\f+[2]　：　フォントサイズを「加算」


●【システム変数】「Sys26～27：選択肢ウィンドウX/Y余白」のシステム変数を追加。
　　選択肢ウィンドウの縦横の余白を設定できます。
　　
●【システム変数】「Sys119：基本画面倍率[1-3]」を追加。
　　320×240の2倍表示なら「2」、それ以外なら1が返ります。
　（プロ版で1～3倍まで任意に変更できるようになったので、その判別用として追加されました）

●【システム変数】 「Sys122：Map&Evｽﾞｰﾑ時なめらか=1」のシステム変数を追加。
　1を代入すると、「3Dモード」でプレイしている場合に限り、
　マップやイベントをズーム（拡大縮小）したときにガタガタではなくなめらかな表示になります。
　（これまではゲーム設定がどうであれ、必ず「ガタガタ」モードで描画されていました）

●【システム変数】「Sys123：次表示ﾋﾟｸﾁｬ拡縮くっきり(1=YES)」を実装。
　これが「1」の状態でピクチャの「表示」を指示したピクチャのみ、ゲーム基本設定でピクチャを「なめらか・ぼんやり」表示にしていても「ガタガタ・くっきり」で表示されます。
　ドット絵のピクチャを拡大したいときに。

●【システム変数】「Sys125：フォント太さ(1～10)」を実装。
　全フォントの「太さ」を変更します。基本値は5です。
　3くらい変えないと変化が見えない場合があります。

●【システム変数】 Sys127：マップタイル非セーブフラグ（1=YES）　を実装。
　　　これを1にしているとセーブファイルに現在マップのタイル情報を保存しなくなります。
　　　500x500のマップだとセーブする際、マップ領域の保存だけで3MB分も使ってしまうので、
　　　その情報を保存したくない人向けです。
　　　これをオンにしてセーブした際、ロード時にはマップタイルが「マップファイルから」再読込されます。
　　　（つまり、ゲーム内で書き替えたマップタイルも元に戻ります）


●【システム変数】 Sys129:Ev斜め移動 X速度補正[%]、Sys130:Ev斜め移動 Y速度補正[%]、追加
　主人公と全てのイベントが「斜め」に移動する際、X方向とY方向の速度に補正をかけられます。
　斜め移動時、上に1、横に2マスの速度で移動させたりできます。
　クォータービューのマップなどを実装する際などに有用だと思います。

●【システム変数】 Sys131:主人公 中心X補正、Sys132:主人公 中心Y補正を追加。
　主人公の中心表示座標を補正します。これを変更した後は
　エフェクト処理でスクロール「主人公に戻す」をかけてください。

●【システム変数】Sys137:ウィンドウ拡大率[%]　を追加。
　ゲーム画面のウィンドウ拡大率を取得ないし代入できます。

●【システム変数】Sys138:画面ﾓｰﾄﾞ[ｳｨﾝﾄﾞｳ:0/仮想全:1/全:2]を追加
　ゲーム画面の画面モードを切り替えできます。
　「仮想全:1」はボーダーレスのフルスクリーン化、「全:2」は解像度切り替えの全画面化です。

●【システム変数】Sys143：[読]処理可能ｺﾏﾝﾄﾞ[通常0/プロ版1]を追加　
　プロ版のコマンドが使用可能な状態なら1を返します。

●【システム文字列】「SysS52：[読]起動時データフォルダ」を正式追加。
　　起動時のフォルダ名が格納されます。通常は「Data/」が入っていますが、
　　-fオプションでGame.exeを起動させた場合のみ変化します。
　　いつの間にかこっそり入っていましたが更新履歴に載っていませんでした。

●【システム文字列】「SysS54：最終緑帯メッセージ文」　を追加。
　　最後に表示した緑帯のエラーメッセージが格納されます。

●【変数呼び出し値】「9100000+10*Y+X」のキャラ情報呼び出し値に、
　　　　　　　　　　X=7：ピクセル補正X　　8:ピクセル補正Y　　を追加

●【コモンイベント入力内容】 コモンイベントの変数と文字列の「入力」が各4個から各5個に増えました。

●【ピクチャ表示一覧】テストプレイ中、「Shift」か「中クリック」を押しながら「F7」キーを押すことで
　　　「いまマウスカーソルが重なっているピクチャ」だけを「ピクチャ表示一覧」に表示できるよう修正。
　　　たくさんのピクチャがあっても、指示した位置だけの情報を得やすくなります。

●【タイトルバー】 テストプレイ時のタイトルバーに、イベント処理回数を「?k」で表示するようにしました。
　「k」は1000の意味で、「2.2k」なら約2200回のイベント処理が行われたことになります。
　負荷チェックのおおまかな目安としてお使いください。

●【起動オプション】 Game.exeとEditor.exeに「-f <読み込みフォルダ>」のオプションを追加。
　Game.exeやEditor.exeの起動時、コマンドプロンプトやバッチ(.bat)ファイルなどを使って
　「Editor.exe -f Data2」などと入れて起動させると、通常の「Data」でなく「Data2」フォルダのデータを編集対象にして起動できます。
　Game.exeでも同様で、対象としたフォルダ名のゲームデータを読み込んでプレイ可能です。
　※ただしセーブフォルダ名は同じままなので、複数のゲームのセーブデータが1つのSaveフォルダ内に混ざってしまう危険性がございます、あらかじめご注意ください。



●【Editor.ini】 エディタ内の「システム変数名」、および「一部の変数呼び出し文」の言語を、Editor.iniの「SystemValue_Language=X」で切り替え可能にしました。
　Xを0にすると日本語、1にすると英語になります。
　（ここで切り替えできるテキストは「リソース」でなく「プログラム内に直接書かれた文章」であり、リソースから翻訳するのが難しかったため、ini側で切り替え可能にしました。英語テキストは Velella Himmel様とJeffrey Casey様によるVer2.24Zのものを一部使わせていただきました）


●【Game.ini】 INIファイル内にクリップボード関連の隠しオプションを追加しました。
　ClipBoard_Use=1　： プレイヤー側の都合でクリップボード機能を使いたくない場合は0にしてください。通常は1になっています。
　MainText_to_ClipBoard=0　：　1にすると「文章の表示」の文章を自動でクリップボードにコピーします。
　　　　　　　翻訳しながら遊ぶときに使ったり、「棒読みちゃん」など外部ツールのクリップボード機能で読み上げさせたりできます。


●【エディターオプション】エディタのカラーテーマを選択できるようになりました。
　　一般公開版では「ウディタホワイト」と「クラシックグレー」が選べます。
　　プロ版専用機能として「ネイビーブルー」、「パーフェクトダーク」が選択可能です。
　　（ただし技術的な都合で、チェックボックスやボタン、グループボックス欄は色変更されません）


●【エディターオプション】「旧ファイル読込言語」の項目が追加されました。
　　Ver2以前のバージョンで作られ、まだUTF-8変換がされていないマップ・コモン・タイル設定・DB設定などは文字列情報がSJIS文字コードになっているため、
　　この「旧ファイル読込言語」を「日本語」に設定していないと読み込み時に正常に読み込めない場合があります。
　　（もし他の言語で作られた旧ファイルを読み込む場合は、その言語に変更してください）

●【エディターオプション】「マップ編集　遠景表示の有無」に「ループ表示する」が追加されました。
　　　　　　　　　従来までの表示方式は「1枚だけ表示する」に名前が変わります。

●【マップ/コモンイベントウィンドウ】 検索ウィンドウに「置換」機能を追加。コマンド内の文字列または数値を置換できます。

●【マップイベントウィンドウ】「半歩左に設置」オプションを追加。「半歩上に設置」の左版です。

●【マップイベントウィンドウ】開いているイベントの座標に「精密」表示を追加。
　　　　　　また、半歩上・半歩左による座標補正も加味した座標を表示するよう修正。

●【コモンイベントウィンドウ】起動条件として「このEvのコモンセルフ変数」が指定できるようになりました。

●【ゲーム基本設定】 「MIDIの再生方式」に「MIDI音源を使わない[GuruguruSMF.dllも不要に]」を追加しました。
　　　これを選択していると、ゲームデータの作成時に「GuruguruSMF.dll」がコピーされなくなり、起動時にこのファイルがないという警告が出なくなります。

●【ゲーム基本設定】キャラのアニメパターン順を「往復（従来のもの）」と「ループ」で切り替えられる機能を追加しました。
　
●【ゲームデータの作成】
 ゲームデータの「暗号化バージョン」を選べるようになりました。
　現在は「Ver2.25～2.29」と「Ver3.00～」「最新（Ver3.00と同じ）」の3つから選択できます。
　→　オンラインアップデートを行う場合など、古い暗号化バージョンのゲームデータを一部だけ更新したい場合はそのときと同じ暗号化バージョンを選んでください。
　（最後に選んだ暗号化バージョンはEditor.iniに保存されます）
　→　また、Ver2.25以降の通常版ウディタで暗号化されたゲームデータは、Game.exe側で暗号化バージョンを自動判別して読み込まれます。
　　　ただし異なる暗号化がされたデータが混ざっている場合は読み込めません。

●【マップ保存】マップに変更を加えた後、ゲーム設定画面やエディターオプションなど
　　再起動しうる画面に入ろうとする前に変更されたマップを保存するか聞くように変更しました。
　　（再起動時におかしなことになるため）





【ゲーム部の改善・仕様変更】

●【イベント処理速度】 アルゴリズム改善とプログラム環境の更新により、コモンイベント内のイベントコマンド処理が大幅に高速化されました。
　組み方にもよりますが、一般的な処理ならば従来の平均2～4倍以上の速度でイベント処理が行えるようになるようです。

【高速化実例】
　コモンイベント内で3万回ループに「Cself0 = 0」を10個入れた処理を毎フレーム回したときのイベント処理時間が、
　ウディタ開発者の環境で　Ver2.294　約36ms　→　Ver3.00　約1.5ms　（24倍速）にまで削減できました。
　「(オプションにチェックの入っていない)変数操作」や「ループ」関連の処理が大幅に高速化されているので、シミュレータ系のゲームも動かしやすくなると思います。


●【描画速度】 描画速度が平均2倍近くになりました。
　　　　　　描画時間が従来のおおよそ半分程度になると思われます。

●【ゲーム起動】ゲームの起動を高速化しました。
　ウディタ作者の環境にて、Data.wolf暗号化したサンプルゲームの初期起動時間が、
　従来　2.6秒　→　最新版　1.5秒　　くらいに早くなりました。

●【リセット処理】リセットを高速化
　リセット時に余計なデータを再読み込みしないようにしてリセット速度を高速化しました。
　Data.wolf化したサンプルゲームで旧版1.5秒のところが最新版で0.55秒くらいになりました。
　テストプレイ時に特に快適になると思います。


●【変数操作+】「ピクチャ番号X」の「マウスカーソル重なってる？(1=YES)」機能において、角度の付いたピクチャでも重なり判定をほぼ正確に取れるよう修正。

●【文字列操作】キーボード入力用のデフォルトフォントを「Meiryo」に変更しました。
　　　　　　　　（海外のWindowsだと「MSゴシック」が入っていない場合があるため）

●【ピクチャ】通常ピクチャの「角度」を0以外にした場合でも縦横の拡大率が異なる状態を維持できるように修正。
　　　　（文字列ピクチャは、今回の修正ですでに縦横の長さが異なる場合の角度変更が可能です）
　
●【ピクチャ】 画面外の「通常ピクチャ（角度0のみ）」の処理を従来よりも早く打ち切る処理を追加。
　　　　地面にピクチャを貼り付けたり、キャラにかぶせてピクチャを表示している場合の負荷軽減が期待できます。

●【イベント制御】「イベントの一時消去」「トランジションの指定」時の「フレーム」値として変数(100万以上の値)が入力できるよう修正。
　　　　　　　従来は999999以下の固定値しか入れられないようになっていました。

●【ピクチャ一覧表示】テストプレイ時にF7で出せる「ピクチャ一覧」機能の使いやすさを向上しました。
　- マウスホイールまたは上下キーで前後にページ送りできる機能を追加。
　- キャンセル、Ctrl、右クリックですぐ抜けられる機能追加。
　　またこれらのキーで画面を抜けた場合、最後に表示されていたページを記憶する機能を追加。


●【座標取得】イベントコマンドで得られる「主人公」の「画面座標」が正確になるよう修正しました。
　たとえば【変数操作+】による「主人公」の「画面X・Y座標」などです。
　おそらくスクロール値も正確になっていると思われます。
　
→　従来は「1フレーム前の座標値」が取得されていたため、主人公のキャラチップにピクチャを重ねようとしてもどうやっても1フレーム分ズレる現象がありました。
　これは従来、「イベント処理後に主人公のキー入力や位置情報が更新されていたため」で、最新版ではキー入力と位置情報を分離して「イベント前に位置情報だけ更新」する形にしました。

→　代わりに、キー入力による「主人公」の移動が「動き始めの1フレームだけ遅れる」ことになるので、1フレームしか猶予のない逃走ゲームなどはVer3.00への更新によってクリア不能になる場合がございます。
　過去の挙動に戻したい場合は、「ゲーム基本設定」の「Game.exe 動作バージョン調整」で「Ver2.29時点の挙動で動作」に切り替えてください。


●【エフェクト】キャラ・ピクチャのシェイク回数、あるいはマップエフェクトのフレームとして「100000（10万）」以上を指定すると「無限回」になるよう修正

●【エフェクト】マップのズーム時、拡大率に0以下の値を指定しても1になるように修正。
　　　マップなどが正常に描画されなくなる問題への対応です。
　→ 従来はマップズームでマイナスの値を入れてマップ反転する描写ができましたが、
　　 Ver3からできなくなってしまうので、必要な方はver2.29以前をご利用ください。
　　（将来的に、同様の演出ができるような機能の追加を検討しています）

●【イベント制御】「キャラ動作指定」で、入力された「変数」は動作指定開始時点の値が使用されるようになります。
　　　　　　これに伴い、コモンセルフ変数なども使用可能になります。
　　　　　　挙動がおかしくなる場合は「旧Ver2.29以前の動作」に変更してください。


●【システム変数】「Sys30:[読]プレイ時間(ﾐﾘ秒単位)」がフレーム途中でも最新のミリ秒を得られるよう修正。
　　　　　　（従来はフレームが経過しないと更新されませんでした）
　　　　　また、同フレーム中なら「1000」以上の値になるよう修正しました。
　　　　　つまり同フレーム中の引き算がしやすくなります。

●【エラー】 緑帯エラーの表示中にF12リセット、あるいはF11更新（F11はクラッシュしやすいです！）できるように修正。

●【DB操作】「DB操作：データ番号がマイナスです」のエラーのとき、そのマイナスになっている番号を表示するよう修正

●【起動処理】-vinput、-sinput機能を削除。

●【起動処理】暗号化のバージョンが異なる「.wolf」ファイルが混ざっていたり、
　　　　　Game.exeに対応してない暗号化データがあった場合は、
　　　　　起動時にその旨を知らせるエラーを表示するよう修正。
　　　　（これまでは「BasicData/Game.datがない」としか表示されませんでした）

●【F11キー】F11キーによる全画面化を「画面解像度切り替え全画面化」から「ボーダーレス全画面化」に変更

●【Editor全体】Editor.iniがない場合に起動するとウィンドウ座標が0基準になっていたのを、
　　サンプルデータのフルパッケージのようなウィンドウ座標初期値を使用するよう修正。

●【Editor全体】Dataフォルダが存在しないときに起動した場合、
　　　　Dataフォルダとして「空のゲームデータ」を作れる処理を追加しました。
　　　　少量の素材が入った「ミニデータ」と、開始マップ以外本当に何もない「空データ」から選べます。
　　　　これでEditor単体でもゲームが作り始められます。




【エディタの改善・仕様変更】

●【エディタ全体】プログラム作成環境をVisual Studio2003から2022に変えた影響で
　　　　　　　　　エディタ全体のデザインがフラットになりました。
　　　　　　　　　また、各ウィンドウのサイズやパーツが10数％程度ですが大きくなっているようです。

●【起動画面】起動時のスプラッシュウィンドウに進行状況の％が表示されるようになりました。

●【コモンイベントウィンドウ】コモンイベント編集時、Ctrl+Rの「直前のイベントに戻る」で前のイベントに戻ったとき、「行数」も最後の位置に戻るように修正

●【コモンイベントウィンドウ】コモンイベント名の欄の横幅を少し伸ばしました。

●【条件（変数）】　従来、最大3択までだったのが「4択」まで分岐可能になりました。

●【文字列操作】文字コードがUTF-8化した影響で全角1文字が最大4バイト以上になる可能性が発生したため、
　　　　　　　キーボード文字入力数の最小値が「4」になりました。
　　　（Ver2.29以前ではバイト数オーバーによるフリーズを避けるため、最小値が2バイトでした）

●【マップイベントウィンドウ】「通常変数」が増えるとイベント切り替えに時間がかかっていたのを高速化。

●【マップ編集画面】マップでイベントを複数1箇所に重ねた場所をクリックして
　　　　　　アクセスできるイベントを「一番IDが大きいもの」に修正。
　　　　　　従来は最もIDが小さい方にアクセスしてしまったため、目に見えている
　　　　　　最も大きいIDのイベントをずらせなかったり編集できなかったりして直感的ではありませんでした。
　
●【タイルセット設定画面】タイル画像上でマウスホイールを回転、ないしホイール押しながらドラッグで
　　　　　　　　　　　　　スクロールできるように修正。

●【タイルセット設定画面】タイル設定時のレスポンスを高速化しました

●【タイルセット設定画面】 オートタイルの数が15個→31個に増加しました

●【タイルセット設定画面】 1マスの見え方を32pxと48pxで切り替えできるオプションを追加

●【タイルセット設定画面】 「1画像分CSV出力/読込」機能を追加。
　画像単位で「通行許可設定」「通行方向設定」「カウンター属性設定」「タグ番号設定」を読み書きできます。
　画像を読み込むとき、「同名のCSVファイル」があると自動で上記4設定が読み込まれます。
　（タイル画像配布時、CSVとセットで配布すれば通行設定の手間がいりません。

●【タイルセット設定画面】上記のCSV通行設定をタイルにドラッグできる機能を追加。
　好きな場所に一定列分の通行設定だけ読み込ませることができます。

●【コマンド表示】 コマンド入力ウィンドウの、以下のコマンドへの「コマンド切り替え時」、ないし「イベントコマンドの修正」時のレスポンスを高速化しました。
　- 変数操作
　- DB操作
　- 文字列操作
　- 条件(変数)
　- 条件(文字列)
　- コモンイベント

●【データベースウィンドウ】
 - データの切り替え時のレスポンスを高速化。
 - タイプの切り替え時に「データベース参照」のデータを表示する際、最低限の数だけ読み込むようにして切り替え負荷を軽減しました。
　　従来は、読み込み先DBの項目数が1000個以上あるデータベースを読み込むときなどにだいぶ時間がかかってしまっていました。

●【データベースウィンドウ】タイプ名、データ名の欄を少し横に伸ばし、右下キャプション欄の行数を増加、メモ欄の縦スクロールバーを消去しました。

●【データベースウィンドウ】「Ctrl+R:直前のタイプに戻る」のショートカットでページ数も戻るよう修正。
　　　また、新たに「Ctrl+Shift+R:直前のデータに戻る」のショートカットを追加しました。

●【コモンイベント(コマンド)】 コモンイベント数や変数が多くなると「コモンイベント」コマンドの「修正」をしたときウィンドウが開くまで数秒単位で時間がかかることがあったのを高速化

●【マップ・コモンイベント一覧・イベントコマンド一覧】
　従来は中クリックを押すとブラウザのように上下スクロール操作ができたのが、
　プログラム環境を新しくしてからできなくなりました。
　対応方法が分からないので、クリックドラッグのスクロールを実装しようと検討中ですが
　思ったより苦戦しており、今回の修正では搭載できませんでした。
　今後も挑戦してきたいと考えております。

●【マップ編集画面】「半歩左に設置」「半歩上に設置」をしたキャラがずれて表示されるように修正。

●【マップ編集画面】マップの書き換えを1手戻せるショートカット「Ctrl+Z」を追加。

●【マップ編集画面】マップの「1手戻す」機能が高速になりました。

●【マップ編集画面】1000マス以上の超巨大なマップでも正常に描画されるように内部処理を抜本修正しました。
　　　　（従来は描画できず真っ白になっていました）
　　　　さらに、マップがどれだけ広くてもエディタの描画負荷が一定以下になります。
　　　　ただし、ウィンドウを広げたりズームアウトしたりして一度に映るマップ範囲を広くすると重くなります。

●【マップチップ選択ウィンドウ】従来、16と32サイズ以外のチップがジャギジャギになっていたのを、なめらかに描画されるように修正。
　　また、PNGファイルの保存の仕方によってチップ選択欄の見た目が白抜きになる現象が起きにくくなるよう修正。

●【マップチップ選択ウィンドウ】 ホイールを押しながら上下ドラッグでスクロールできる機能を追加。

●【場所移動】「移動先を見ながら指定」を開いた直後、あるいは「拡大率を変更」したタイミングで、「選択されている座標」が中央に表示されるようになりました。

●【場所移動】 「移動先を見ながら指定」において、非常に大きいサイズのマップでもマップが正常に描画されるよう修正しました。

●【イベント制御】「トランジションの指定」の「瞬間表示」を「単純切替」に名前変更。

●【マップイベントウィンドウ】 検索ウィンドウを追加。
　また、ショートカット「Ctrl+F」で検索ウィンドウを表示できるようになりました。
　（コモンイベントウィンドウにあったものと同様のものです）

●【マップイベントウィンドウ】 「行数」欄を追加。選択中の行数が分かるほか、ここに行数を入力してEnterを押すとその行までジャンプできます。
　（コモンイベントウィンドウにあったものと同様のものです）

●【マップ保存】マップのタイルが「3レイヤーとも完全に空白」ならマップファイルにタイル情報を保存しないよう修正。
　　ランダム生成用などで巨大な「空白の」マップファイルを作る際、マップ容量を圧迫せず、読み込みも早くなります。

●【マップ/コモンイベントウィンドウ】 検索ウィンドウの履歴文字列を10個まで保存するように。

●【マップ/コモンイベントウィンドウ】 イベントウィンドウを閉じたとき、検索ウィンドウも同時に閉じるよう修正。

●【コモンイベントウィンドウ】 「一つ元に戻す」をしたとき、内容を戻した行にジャンプするよう修正。

●【ゲームデータ作成】 最後に使用した暗号化の種類（なし/Data.wolfのみ/フォルダ別）と選択されたフォルダを記憶して、次回からそれを初期値にするよう修正。

●【ゲームデータ作成】ゲームデータ作成・暗号化処理が従来よりも安定して行えるようになりました。

●【ファイル】従来必要だったEditorGraphic.datが不要になりました。

●【終了時確認】エディタを閉じるときのマップ保存確認の質問が、エディタを閉じる「前」に表示されるよう修正。
　　　（従来は技術的な都合で、画面が全て閉じてからマップ保存確認が表示されるようになっていました）




【ゲーム部　バグ修正】

●【変数操作＋】　マップイベントの起動条件の変数を満たしていない場合に、
　　　　「変数操作+」でそのキャラの「起動条件」を読み込むと
　　　　常に「0（決定キーで実行）」が返されてしまっていたのを、-1が返るよう修正。
　（「ゲーム基本設定」の「動作バージョン調整」を「Ver2.29以前の挙動」にすると0が返るように戻せます）

●【DB操作】データ数が0個だと、「データ数を取得」しようとしてもDBがない扱いになるバグを修正

●【DB操作】「50バイト超の『データ名』で名前呼び出し」をするとエラーが発生するバグを修正

●【変数操作+】「その他」の 「言語[1:日/2:英/3:西欧/4:中国(簡)/5:中国(繁)/6:ﾊﾝｸﾞﾙ]」取得機能が機能していなかったバグを修正

●【ピクチャ】「表示」を予約した状態のピクチャがある状態でセーブしてからロードすると
　　　ファイル名が指定されてないピクチャが存在したままになる場合があるバグを修正

●【ピクチャ】 カラーが100より大きいピクチャを「消去」すると明るくなりながら消えていく不具合を修正
　　　　　（今後は「消去」をした場合、「移動」で不透明度を0にしていく場合と同じように消去されます）

●【エフェクト】「自動パターン切替」で元ピクチャのパターン数をオーバーしたときクラッシュすることがあるバグを修正

●【キー入力】「キー入力の禁止」で「パッド全部」を停止させても左スティックで移動できてしまうバグを修正

●【キー入力】「キーボード全キー」の「キーが押されるまで待つ」にしたとき、あるキーコードの番号が押されている状態でそれより大きいキーコードのキーを押してもキーが受理されない現象を修正

●【イベント制御】「トランジションの指定→トランジション実行」の最中にトランジションの指定を変えると
　　　トランジション途中でもトランジションが新しい方に変わってしまうバグを修正

●【フレームレート】最大フレームレートがおよそ60fpsになるようウェイトを調整
　　（一時的に61～62フレームまで出ることがありますがほぼ60安定になりました。
　　　従来は120Hzのディスプレイにおいて安定状態で63～64fpsまで出てしまいました）

●【特殊文字】ルビの特殊文字\r[XX,YY]が一瞬で表示されていたのを、他の文字と同じように「メイン文字を表示して、それが全て表示された後にルビが表示される」よう修正
　（「ゲーム基本設定」の「動作バージョン調整」を「Ver2.29以前の挙動」にすると瞬間表示に戻せます）

●【画像読込】ある画像ファイルと、同じ名前で末尾に「_a」が付いたファイルが同時に存在するとエラーが出ることがあった現象を解消。

●【マップ】「基本マップチップ」が設定されていないと「オートタイル」も表示されなかったのを修正。
　　　　　ただ、もともとクラッシュ対策でその仕様になっていたようなので、
　　　　　またクラッシュするようなら元の仕様に戻す予定です。

●【マップイベント】キャラクターのアニメが5パターンの時、特定の条件でマップ移動後の初期アニメパターンが3(中心)でなく2になってしまうバグを修正。

●【マップイベント】特定条件で上からプレイヤーに接触してきた「イベント接触」条件のマップイベントが起動しないバグを修正。

●【コモンイベント】テストプレイ中、コモンイベントに「並列実行（常時）」を新たに追加して
　　　　　　　　F11で読み込み直ししても、増やした並列実行イベントが実行されないバグを修正

●【デバッグウィンドウ】デバッグウィンドウに特殊文字を表示すると文字化けする現象を修正。

●【変数呼び出し値】キャラ画像が「4方向」のときに変数呼び出し値「9100006+10*Y」に
　　　「7(左上)」「9(右上)」を代入すると「下」を向いてしまうバグ修正

●【デバッグウィンドウ】画面外に表示されてしまう現象を修正（Ver3.00で発生）





【ゲーム部　既知のバグ】

●【トランジション】過去のバージョンで作られたセーブデータを継続して使用したとき、
　　　何らかの条件でトランジションに微妙な差異が見られる場合があるという現象が報告されています。
　　　原因はつかめていませんが、Ver3以降のGame.exeで新たに始めたセーブデータでは
　　　起きない可能性が高いようです。





【エディター部　バグ修正】

●【DB操作】そのDBに存在しないタイプ番号を指定し、データ名や項目に空欄の「名前」を指定して
　　　　　　「入力」しようとするとクラッシュするバグを修正

●【コモンイベントウィンドウ】DB操作で特定の操作をすると「セルフ変数使用状況」にて
　　　　　未使用のはずのセルフ変数が使用済みになってしまう現象を修正。
　　　　（ただ「使用状況」はコマンド内に入っているセルフ変数の値を検出するだけの処理なので、
　　　　　これが防げない状況はどうしても発生します。こうなる頻度が高い部分だけもぐら叩き式で直していく予定です）

●【コモンイベントウィンドウ】非常に行数が多いコモンイベントを開いたときにクリックすると
　　　　　　　　コモンイベントウィンドウ裏側をクリックすることがあるバグの修正を試みました

●【データベースウィンドウ】タイプ・データ切り替えなどで一時的に重くなったときにクリックすると
　　　　　　　　データベースウィンドウ裏側をクリックすることがあるバグの修正を試みました

●【データベースウィンドウ】タイプを削除しても項目名だけ内部的に残ってしまっていたバグを修正

●【マップ編集】 特定条件で、画面外をクリックしたときにクラッシュすることがあるバグを修正

●【ファイル選択】一部のファイル選択ボタンを押したとき、「すでに文字列に指定されているファイルのフォルダ」を優先的に開くようになっていなかった箇所を修正。
 - サウンド
 - マップ設定の各種ファイル指定

●【マップ選択】　「マップ選択」ウィンドウのサイズを一度変更すると、「ツリー構造セーブ」と「データ更新」のボタンが左下の見切れる位置に移動してしまうバグ修正。

●【ゲームデータ作成】ゲームタイトルが空欄の場合でもそのままゲームデータの作成を実行できてしまい、元のデータが危険な状況になる不具合を修正。

●【イベント制御】コモンイベント時、「動作指定」でコモンセルフ変数を選んだものに「修正」を行うと
　　　　　　　　　対象キャラ欄がおかしくなるバグ修正

●【表示スケール】表示スケールが100％以外だと表示が崩れてしまうので
　　　　　　　　　以下の部分だけ緊急対応してみました（Ver3.01まで発生）
　- マップイベントコマンド欄
　- コモンイベント名・コモンイベントコマンド欄
　- コマンド入力欄のコマンド名一覧
　- データベースエディタの項目欄




   -------------

【動作バージョン調整】
上にも書きましたが、ゲーム基本設定の「Game.exe　動作バージョン調整」に新たに「Ver2.29」が追加されました
「旧Ver2.29時点の挙動で動作」にするとVer3.00と比べ、挙動が以下の仕様に戻ります。

●【システム変数】Ver2.29挙動では「Sys26～27：選択肢ウィンドウX/Y余白」が無効になり-999のみ返されます。
　　また、選択肢ウィンドウの余白が「チップサイズに応じて自動で設定」されます。
　　Ver3.00以降ではSys26、27で手動で選択肢ウィンドウの余白を設定できます。

●【ピクチャ】Ver2.29挙動では文字列の角度が反映されなくなります。Ver3.00以降では文字列の角度が反映されます。

●【変数操作+】Ver2.29挙動ではイベントが存在していないときの「起動条件」が0を返します。Ver3.00以降では-1を返します。

●【文章の表示・文字列ピクチャ】 Ver2.29挙動ではルビの特殊文字\r[XX,YY]の部分が文字速度にかかわらず一瞬で表示されてしまいます。
　　Ver3.00以降ではXX部分が文字速度に応じて1文字ずつ表示されます。

●【プレイヤーの画面座標】 座標の更新がVer3.00以降より1フレーム早くなりますが、「イベントコマンドで取得したプレイヤー画面座標」が1フレーム分だけずれるようになります（つまり、ピクチャを重ねてもぴったりの位置に表示されません）。
　Ver3.00以降ではイベントコマンドで取得した位置がプレイヤーぴったりの位置になります。

●【チップ処理】Ver2.29挙動ではオートタイルが0-15番までと想定されてチップ番号が処理されます。
　　（全て「固定値」でチップ番号を指定している場合は自動で補正されるため、Ver3にしても問題ありません）

●【変数操作+】 Ver2.29挙動ではオートタイル15個と想定した場合のチップ番号を返すようになります。

●【ピクチャ】Ver2.29挙動ではピクチャの「角度」を0以外にすると強制的に「縦横同じ拡大率」になります。

●【文字列ピクチャ】Ver2.29挙動では文字列ピクチャの「角度」が反映されません。

●【文字列操作】キーボード入力時の文字入力数が「入力された値の1.5倍」に調整されます。
　　　UTF-8文字コードになった都合上、「全角1文字で3バイト分」になるケースがあるためです。

●【イベント制御】Ver2.29挙動では「キャラ動作指定」において、指定された「変数」として
　　　　　　「その各動作を実行する瞬間」のものが使用されます。
　　　　（たとえば「ジャンプ」の右・下に「3」が入ったセルフ変数1を指定しても、
　　　　　ジャンプ前にセルフ変数が「0」になっていれば移動量「0」のジャンプしか行いません）

-----
【基本システム修正】
  Ver3.00に更新しました。
  自由なゲーム画面サイズにも対応、システム設定画面のキャンセルキー時の質問を追加、
  「主人公ピクセル移動切り替え」コモンイベントを新たに追加、その他、微調整しました。

・見本として「主人公ピクセル移動切り替え」処理を追加  [コモン39]
・初期BGM・BGS・SE音量を50に設定、フォントの太さを設定 [コモン48/218行付近]
・メッセージ/選択肢ウィンドウの表示位置を微調整[コモン63/47・50行目]
・システム設定で「キャンセル」した時、変更を保存するか質問を表示するよう修正
    [コモン95/749～800行  ・  コモン132/多数：「Ver3.00修正」で検索可]
・画面サイズの縦・横の小さい方を参照してフォントサイズを決定するよう修正  [コモン90/192-195行]
・画面サイズ指定によって右寄せで文章を表示している部分がおかしくなるのを修正
  （主に\ax[]を使っている部分をSys119:[読]基本画面倍率x[1-3] に合わせて調整するよう修正)
    [コモン64/547-562行][コモン88/225-239行][コモン90/258-274行・311-327行]
    [コモン93/252-268行・331-347行・621-635行][コモン102/174-190行・231-247行]
・キャラクター欄の顔サイズを画面の縦横の小さい方に合わせて表示するよう修正 [コモン90/192-195行]
・セーブ・ロード画面の名前の\A-(アンチエイリアスなし)を削除[コモン94/403行]
-----

【Ver3.00 「プロ版」の新機能】

　プロ版は有料版のWOLF RPGエディターです。
　主な機能は通常版と同じで、バージョンが同じならファイルにも互換性がありますが、
　セキュリティの都合で通常版では搭載していなかった機能、「ウディタっぽさ」を減らす機能、
　その他プレミアムな機能が使用できます。
　
　【PRO版 販売ページ】https://silversecond.booth.pm/items/4302198

　なお毎年8月頃に行われるWOLF RPGエディター製ゲームのコンテスト「ウディコン」では、
　公平性と安全性のため、「通常版のGame.exe」のみ使用可能となっており、
　【プロ版のGame(Pro).exeは使えません】のであらかじめご了承ください。
　（プロテクトがかかっていなければ、Game.exeを通常版のものに差し替えるだけでOKです）


●【[P]ゲーム設定】ゲーム画面サイズの「ピクセル単位の自由設定」機能が搭載。
　通常版では横1280×縦960までの画面サイズですが、プロ版では最低「横100×縦100」から
　最大「横1920×縦1440」まで1ピクセル単位で自由に画面サイズを設定できるほか、
　1ピクセルを「2～3倍」にすることもできます。
　（従来で言うと、「320×240」が「2倍」モードとして処理されています）
　画面を正方形にしたり、スマートフォンのゲームらしく縦長にしたりすることが可能です。


●【[P]エフェクト】簡単に実行できる割に処理が非常に重い「マップ/画面全体」用のフィルタがプロ版限定で使用可能になります。
　　「マップ全体」あるいは「ピクチャも含めた画面全体」に適用できます。
　　「ソフトウェアモード」で実行した場合や、一部のビジネスノートパソコンなどでは、これらを使うと
　　たった数コマンドで処理が10FPSまで下がってしまうくらい処理が重いので、理解のある方向けです。

【マップ】
 - [P]フィルタ(F)をﾘｾｯﾄ 
 - [P]ﾏｯﾌﾟF/色彩明[重!] 　※色相・彩度・明度です
 - [P]ﾏｯﾌﾟF/モノトーン[重!] 
 - [P]ﾏｯﾌﾟF/ぼかし[超重!!]  
 - [P]全体F/色彩明[重!] 
 - [P]全体F/モノトーン[重!] 
 - [P]全体F/ぼかし[超重!!] 


●【[P]プロ版機能】プロ版専用コマンドが解放されます。現在、以下の機能が実装されています。
　- JPGスクリーンショット機能 ： 緑帯なしでJPGスクリーンショットが撮れます。セーブ画面などにも使えるでしょう。
　- PNGスクリーンショット機能 ： 緑帯なしでPNGスクリーンショットが撮れます。
　- フォルダ作成機能
　- ファイルコピー機能
　- ファイル削除機能 ： Dataフォルダ内は削除できません。主にセーブデータの削除用です。
　- 処理停止ウェイト(ミリ秒) ： 画面更新含め、全処理を指定ミリ秒止められます（実際にウェイトが入るのはフレーム切り替わり時）。ヒットストップ演出やスロー演出、処理落ち再現などに。


●【[P]ゲーム基本設定 プロ版】追加のゲーム設定画面が搭載されます。どれも「ウディタっぽさ」を減らせる機能となっています。

- タイトルバー設定
　ゲームプレイ時や、起動待ち時にタイトルバーに表示される文字列を好きなように変更できます。
　
- 初期ローディング画像設定
　起動時、ゲーム画面が出る前に「画像」と「ロード中ゲージ」を出すことができます。
　起動後の真っ暗な時間が減らせます。ゲージは左側から表示されます。

- ファンクションキーのON/OFF設定
　任意のファンクションキーと、PrintScreenなどのデフォルト機能をオフにできます。
　オフにした後、スクリーンショット機能やリセット機能などを自力で搭載すればウディタらしさが減らせます。


●【[P]ダウンロード】プロ版のみ「ダウンロード機能」で以下の機能が解放されます。

 - プロ版では「連続ダウンロード時に発生する自動ウェイト」がなくなります。
 　（1つのダウンロードが終わるまで他の通信ができないのは従来通りです）

 - 「指定URLをブラウザで開く」機能が使用できます。公式サイトや交流サイトへ誘導することができます。

 - 「指定Zipファイルをダウンロードして解凍（解凍後、Zipは削除）」機能が解放されます。オンラインアップデートに向いています。


●【[P]エディタ設定】エディタのテーマカラーとして、追加で「ネイビーブルー」「パーフェクトダーク」が選べるようになります。
　ただし技術的な都合で、ボタンやチェックボックスなど色が変わらない箇所がありますのであらかじめご了承ください。


●【[P]プロテクト機能】エディタ側でプロテクト用キーを設定することができるようになります。
　「ゲームデータの暗号化」処理がキーに応じて変化するようになり、また、正しいキーなしには基本データが開けなくなります。
　プロテクト用キーを設定すると以下のようになります。
　
　- ゲーム基本設定ファイル、各データベースファイル、コモンイベントファイル、タイル設定ファイル、
　　の基本データが編集段階でも暗号化され、正しいプロテクトキーを入力しなければ読み込みできなくなります。
　（設定したプロテクト用キーはEditor.ini内に書き込まれ、エディタ起動時に自動で読み込まれます。
　　うっかりキーを忘れてEditor.iniを消すと自分でもデータが開けなくなってしまうので注意してください）

　- ゲームデータ作成時、プロテクト用キーによって暗号化のされ方が変わるようになります。


●【[P]ゲームデータ作成】「プロテクト用キーを設定しているとき」だけ、ゲームデータ作成時に以下の設定が可能になります。
　　これらを設定することで、一見したときのファイル構造をウディタっぽく見せないことが可能です。
　　
　- 暗号化データの「拡張子」の変更
　　用意された中から「.wolf」以外の拡張子が選べます。「Data.assets」など他ゲームによくある拡張子に変えられます。

　- 「キーファイル名」の設定
　　用意された中からキーファイル名を選べます（Data2.assetsなど）。
　　このキーファイル内には、上の拡張子変更や暗号化に関するデータが含まれます。


●【[P]ゲームデータ作成】ゲームデータ出力したGamePro.exeのアイコンを、指定した「.ico」ファイルに差し替えることができます。
　　アイコンファイルとしては「32×32の透過アイコン」を強く推奨します。
　　他のサイズでも問題なければ使って構いませんが、64サイズやマルチアイコンは正常に動作しないそうです。
　　またおまけの機能として、アイコンを差し替えると「GamePro.exeの著作権表記も消去される」ようになっており、
　　ウディタ製の痕跡を減らすことができます。

　※この機能を使わずとも、リソースエディタなどを利用したGame.exeのアイコンの差し替えは規約上、許可されています。
　　できる方は、通常版でもご自由にアイコンを差し替えてください。


●【[P]システム変数】プロ版では以下のシステム変数が使用可能になります。

 - Sys139：[P]ｽﾞｰﾑｱｳﾄ時ﾏｯﾌﾟ拡張表示 1:ON
　　「エフェクト」でマップをズームアウトしたとき、通常だと「元画面外のマップは表示されず黒塗りになる」のですが、
　　この値を「1」にするとズームアウトした分だけ「もっと広範囲までマップ表示」されるようになります。
　　ただし、表示されるのはおそらく最大で縦横100～150マス分くらいまでですし、そこまで表示すると負荷が非常に大きいです。
　　プロ版のGame.exeで起動した場合、この値はデフォルトで「1」になっています。

 - Sys141：[P]システム言語[日本語:0/英語:1]
 　 エラー時の文章を日本語・英語で切り替えられます。もっぱら、多言語対応用に用意されています。


●【[P]システム文字列】プロ版では以下のシステム文字列が使用可能になります。

 - SysS57：[P]クリップボード内容
　　クリップボードが読み書きできるようになります。
　　クリップボードに書き込みすれば、クリップボード監視機能がある
　　読み上げソフトなどにテキストを読ませたりすることもできます。

　　ただしセキュリティの都合上、「読み込み」に関しては以下の2点の制限をかけています。
　　
　　1.ゲーム開始時点からクリップボードの内容に変化がない場合は、
　　　<<StartClipBoard>>という文字列が返され、クリップボード内容を読み込むことはできません。

	（「ゲーム開始時のクリップボード内容と同じ内容を何度もコピーした場合」も
	　　変化がない扱いになるので、プレイヤー側にクリップボード読み込み経由での
	　　データ入力をさせたい場合などは、いったんSysS57に空の文字列を代入してから
	　　コピーをうながすなどしてください）
　　　　
　　2.最初にクリップボードを読み込もうとしたときに
　　「ゲーム側がクリップボード情報を要求しています。
　　　クリップボード情報を送信しても問題ありませんか？」
　　とメッセージボックスが表示され、「はい」を押した場合だけクリップボード情報が送信されます。
　　「いいえ」が選ばれると、SysS57は以降ずっと「<<AccessDenied>>」という文字列を返します。
　　（なお、この確認メッセージボックスはテストプレイ時には表示されません）


 - SysS60：[P]タイトルバー上書き
　　タイトルバーに表示される内容を指定文字列で上書きできます。

 - SysS62：[P]基本フォント上書き
 - SysS63：[P]サブ1フォント上書き
 - SysS64：[P]サブ2フォント上書き
 - SysS65：[P]サブ3フォント上書き
　　各フォントをゲーム中に切り替えられます。
　　1ゲームデータ内で多言語対応をする場合に備えて用意されています。
　　入力したフォントが受け付けられなかった場合は「<<NotFound>>」が格納されます。

 - SysS67：[P]キーボード入力用フォント
　　「文字列操作」の「キーボード入力」時の文字として使われるフォントを切り替えられます。
　　入力したフォントが受け付けられなかった場合は「<<NotFound>>」が格納されます。



-------------------------------
　Ver2.296の更新履歴　2022/06/24
-------------------------------

【全体の問題】

・なぜかVer2.295のウディタEXEだけGoogleドライブから
　マルウェア扱いされていたので、バージョン番号だけ変更して
　再コンパイルしました。

　このVer2.296は、アップロード時点ではGoogleドライブにアップしても、
　マルウェア扱いはされていないようです。
　今後は新バージョンを作るたびにGoogle側にアップして、
　テストしてみるようにします。



-------------------------------
　Ver2.295の更新履歴　2022/06/13
-------------------------------

【ゲーム部　バグ修正】

●【ピクチャ】特定の条件下でピクチャが1フレームだけ早く動くバグを修正



【エディター部　バグ修正】

●【コモンイベント　検索】コモンイベントの検索ウィンドウを「空欄」のまま実行すると
　　　　　　コモンイベントのメインウィンドウをクリックできなくなるバグを修正



-------------------------------
　Ver2.294の更新履歴　2022/05/09
-------------------------------

【ゲーム部　バグ修正】

●【エフェクト】「画面のスクロール」にて、「瞬間」スクロールに設定しても
　　　　　　　　特定条件下で最低速度のスクロールになってしまうバグを修正。



【エディター部　バグ修正】

●【コマンド入力ウィンドウ】環境によってコマンド入力ウィンドウの下部分が
　　　　　見えなくなる場合があったようなので表示範囲を拡張。

●【サウンド】「メモリから非使用中音声を全開放」を選択した後に「通常再生」を選ぶと
　　　　　音量・周波数がグレーになったままで設定できなくなるバグ修正



-------------------------------
　Ver2.293の更新履歴　2022/04/19
-------------------------------

【ゲーム部　バグ修正】

●【マップ表示】48×48タイル使用時、「移動時にチップが点滅してしまうバグ」の
　　　　　　　原因になりそうな処理の修正を試みました。


●【マップの基本設定】「遠景設定」で「ファイル名指定」するとき、
　　　　「遠景をマップにリンク」を選んでもマップにリンクしなくなっていたバグを修正。


●【ゲームパッド操作】「起動時にパッドのPOV入力が入りっぱなしだとPOVキーを無効にする処理」が
　こっそり入っているのですが、戻す処理がなかったので
　「パッドのPOV状態がゼロになった時点で十字キーをOKに戻す」処理を追加。
 ※パッドによってはPOV入力が入りっぱなしになる可能性があるらしいため、その対応の処理です。




【エディター部　バグ修正】

●【チップ処理】「チップセットの切り替え」コマンドを「修正」するとき、
　　　　　　　「チップ0」と「変数」しか選べなくなるバグを修正。

●【マップイベントエディタ】マップイベントの「画像」を変更したとき、
　　　　マップ修正フラグが立たなかったバグを修正。
　　　（エディタを閉じるとき、保存するか聞かれないまま終了していました）


-------------------------------
　Ver2.291の更新履歴　2022/04/02　 (Ver2.29 2022/04/02)
-------------------------------

【新機能】

●【キー入力】 以下の受け付け機能を追加。
 + アナログスティック取得機能を追加（ゲームパッド用）
　左右の
　- スティック上下傾き
　- スティック左右傾き
　- スティック角度(右が0)
　- スティック傾き
　- ZL/ZRトリガー押し込み量
　- Z軸値（DirectInput時のZL/ZR押し込み量の合計）
　
 + POV十字キー取得機能を追加（ゲームパッド用）
　- 4方向
　- 8方向
　- 上下・左右
　- 上・下・左・右

 + 複数タッチ認識機能を追加（現状はWindowsタブレット用）
　- タッチX番目のX座標（-1ならタッチなし）
　- タッチX番目のY座標（-1ならタッチなし）
　- タッチX番目の追跡ID（タッチの「X番目」が変わったときにも同じタッチを追跡するためのID）



●【システム変数】システム変数として「Sys134：POVｷｰで方向入力ｵﾝ？[1=ON]」、
　　　　「Sys135：左ｽﾃｨｯｸで方向入力ｵﾝ？[1=ON]」を追加。
　　　　　パッドの十字キーやスティックを方向キーに連動させたくない場合は
　　　　　これらの変数に「0」を代入してください。

　　　※しばらく先のバージョンまでこのシステム変数はセーブされないため、
　　　　起動ごとに再代入してください。



●【文字列操作】文字列の「キーボード入力」時、「自動キー入力」で
　　　　　　　　キーコード「Enter（128）」の入力を受け付けて終了できるように修正。
　　　　　　　　時間制限式の文字入力イベントなどが作れます。


●【エラー表示】 エラー発生時、エラー発生箇所からさかのぼってどの順番に
　　　　　イベントが読み込まれたか表示する機能が追加されました。



●【システム文字列】システム文字列「SysS55：[読]Ev実行経路」を追加。
　　　　　　　上のエラー表示と似たような形で、この文字列が呼び出された位置までの
　　　　　　　呼び出し経路を返します。
　　<見本>　
　　　Ev0 line0 ->
　　　Ev0 Common3 line2 ->
　　　Ev0 Common1 line1
　　　　　　※コモンイベント1の1行目で 「\sysS[55]」 で「文章の表示」をした例




【ゲーム部　修正】

●【エラー表示】 「並列イベント」のエラー発生箇所が検出できるようになりました。
　　　　　　　　（多少のずれなどは発生するかもしれません）

●【ゲームパッド】Ver2.29のみDirectInput方式のコントローラ（PS4用など）が
　　　　　　　　　まったく受け付けできなくなっていた不具合を修正。

●【キー入力】Ver2.29のみShiftキーとテンキーを同時押ししたときの挙動が
　　　　　　おかしくなっていたバグを修正。



【エディター部のバグ修正】

●【暗号化】BasicDataフォルダ内にアイコンファイルの000～999が存在せず、
　　　icon1000以降のアイコンファイルだけが存在する場合、
　　　暗号化したゲームデータで\i[]によってアイコンを読み込めなくなるバグ修正。


●【キー入力】Ver2.29のみ「マウスクリック・座標」の「クリック状態」を選んだとき、
　　　　各クリックのチェックボックスが全て入力不能になっていたバグを修正。



-------------------------------
　Ver2.281の更新履歴　2022/01/12   (Ver2.28 2022/1/9)
-------------------------------

【新機能】

●【ゲーム設定】「タイルサイズ」に「48x48」を追加しました。
　　　　　　これで48x48対応マップチップ素材も使用可能になります。



【ゲーム部　修正】

●【ピクチャ】ピクチャを複数「消去」する処理を大幅に高速化しました。
　　　特に大量のピクチャをまとめて消去するときの処理が非常に高速化されます。

　【例】ID 1～1000の連続した1000枚のピクチャを、1つの「ピクチャ消去 1～1000」コマンドで
　　　　削除するのにかかる処理時間の比較
　　　Ver2.271(従来)　約 210 ms　→　Ver2.28(最新)　 約 4 ms
　　　　※WOLF RPGエディター開発者の環境で、タイトルバーに表示されるイベント処理時間を比較


●【パッド】「ゲーム中」に「ゲームパッド」を挿すとすぐ認識されるようになりました。
　　　　　これはDXライブラリの更新によって搭載された機能です。
　　　　（従来はゲーム「開始前」に挿さないと認識されませんでした）


●【ウィンドウ最大化】F4キーを何度か押してウィンドウを「最大化」した場合だけ、
　　　　　　ボーダーレスウィンドウ（タイトルバーが出ない仮想フルスクリーン）の
　　　　　　全画面表示になるよう修正。
　　　※なおウィンドウ側の「最大化ボタン」を押した場合は「タイトルバーが表示されたまま」です。
　　　　F4を使わずボーダーレスにすると最大化からの戻し方が分からなくなる場合があるためです。




【エディター部のバグ修正】

●【マップ選択】一度マップを読み込むと、マップ選択画面でおこなえる
　　　　「マップ削除」によるShift押しながらのマップファイル削除が
　　　　正常に実行できなくなる不具合を修正。

●【変数呼出値/特殊文字一覧】 「イベントYの座標を取得」内の項目が一部抜けていたのを修正




【ゲーム部のバグ修正】

●【ゲーム設定】「ウィンドウ非アクティブ時の挙動」を「処理を停止」にしている場合、
　　ゲームを非アクティブにしていると、アクティブに戻したときに
　　システム変数の「Sys29：[読]プレイ時間(秒数)」と
　　「Sys30：[読]プレイ時間(ミリ秒単位)」がしばらく正しい値を返さないバグ修正


●【DB操作】「データ名」を「名前指定」している「DBへの書き込み処理」が
　　　　　正常に動作しない可能性があったのを修正。


●【マップイベント】マップイベントの条件判定にて、マップ移動した直後だけ
　　　「前マップのセルフ変数」を参照してしまう可能性があった問題を修正
　　（マップIDの更新が一瞬遅れるバグだったので、それに付随した問題も修正される期待があります）


●【システム変数】Sys52～54のキーボード用キーコンフィグ変数に「テンキーの値」を入力したとき、
　　　「Sys1～4:(決定/ｷｬﾝｾﾙ/ｻﾌﾞ)キー名[ｷｰﾎﾞｰﾄﾞ]」にキー名が表示されないバグを修正

●【システム変数】上記修正の副作用でキーボードの1～9キーが???と表示されてしまうバグが出ていたのを修正
　　　　　　　　[Ver2.281追記]

●【画面最大化】3Dモードでなく「ソフトウェアモード」でゲーム画面を「最大化」した場合だけ
　　　　　　　　ゲーム画面が左に寄ってしまう現象を修正。
　　　　　　　　（DXライブラリ側で対応していただきました）




＜ゲームの動作バージョン別仕様＞
　以下の仕様がVer2.28を境に変更されます。
　戻したい場合は『Game.exe動作バージョン調整』で調整可能です。

●【選択肢】タイルサイズが「40」のとき、選択肢ウィンドウの上下の余白が不均等だったのをVer2.28で修正。

　もし「すでに前の状態に合わせて作っていた」などの理由で以前の挙動のまま使いたい場合は、
　『ゲーム基本設定』から、『Game.exe動作バージョン調整』を
　『旧Ver2.27時点の挙動で動作』に設定してください。




【基本システム修正】

　Ver2.28 に更新。情報をいただいた修正箇所を取り入れさせていただきました。
　貴重な情報、誠にありがとうございます。

・特定の条件下で仲間にカウンター攻撃をするバグを修正[コモン165/16行・706行]
・移動時にサンプルアイテム「ヒールの巻物」を使っても回復しないバグを修正（最も効果が出せるキャラが使うように）[コモン119/180行]
・状態異常変化の全員を対象とした分岐条件にミスがあったのを修正[コモン9/72行]
・敵キャラの追加処理の分岐条件にミスがあったのを修正[コモン29/17行]
・装備変更画面のパラメータの増減表示が正しくないバグを修正[コモン109/127～132行]
・戦闘中のステータス画面の点滅が止まらなくなることがあるバグを修正[コモン159/144行 166行 195行 222行]


-------------------------------
　Ver2.271の更新履歴　2021/07/01
-------------------------------

【重大なバグ修正】

●【ピクチャ】特におかしな操作をしていないにも関わらず、時間の経過で
　「～.pngを読み込みましたが画像データにできませんでした。メモリ不足の疑いがあります」
　　というエラーが出続けてゲームが進行困難になる不具合の修正を試みました。



【新機能】

●【サウンド】SE（効果音）の「チャンネル」機能を搭載。

 - たとえば「1チャンネルと2チャンネルでそれぞれSEを再生」した後に、
 　「1」チャンネルを指定して「SEの停止」をすると、
 　「1チャンネル側のSEだけ停止させ、2チャンネル側はそのまま再生を続けさせる」
 　ということができます。

 - 「停止」する際にチャンネル「-1」を指定すれば、
 　「全チャンネル」のSEを停止させることができます。

 - 従来のSEは「0」チャンネルで再生されるものとして扱われます。
 
　→ 使用例としてはボイス関連が有力で、例えば格闘ゲームで
 　「(打撃音などを止めずに)同じキャラのボイスが重複して再生されないようにする」
 　といった用途で使える場面が多いと思います。



●【文字列操作】 隠し機能として「ファイルの存在確認」ができる機能を追加。
　　　　　　 　使い方は以下の通りです。
　1.「文字列操作」コマンドで「に↓のファイル内容読込」を選ぶ。
　2.「手動入力」欄に「<<GET_FILE_EXIST>>Data/Graphic/Edy.png」などと入れることで、
　　「Data/Graphic/Edy.png」が存在するなら「文字列変数」に「1」が、
　　存在しなければ「文字列変数」に「0」が格納される。

　※画像などのバイナリファイルを読む場合、「ファイル内容読込」できるか否かで
　　存在を確認するより、この機能の方が安全に動作するはずです。




【エディター部　バグ修正】

●【ピクチャ】（マップイベントでなく）「コモンイベントウィンドウ側」だけ、
　　「ピクチャ」コマンドの「読込」時に動画拡張子（avi,mpg,ogv,mp4）のファイルが
　　一覧に表示されなくなっていたバグを修正。



【エディター部　機能追加】

●【リソース】翻訳してくださる方がいらっしゃったので「Editor.Lang.dll」を作成・公開しました。
　　このDLLファイルをEditor.exeと同じ場所に置くと、「DLL側」の「リソース」データが優先して読み込まれます。
　　（Ver2.27で正常に機能していなかったためVer2.271で修正しました）

　→ 何ができるかというと、DLLが読み込めるリソースエディタで「Editor.Lang.dll」のフォームなどを「翻訳」してEditor.exeの場所に置くと、Editor.exeの「翻訳」が可能になります。
　　DLLで分離されていれば、本体のバージョン変更があっても修正が少なく済むでしょう。
　　　※無償であれば、「Editor.exe」と「Editor.Lang.dll」をひとまとめで配布しても構いません。



【ゲーム部　バグ修正】

●【タイトルバー】テストプレイ時のタイトルバーに出る「マウス座標」を、より左に表示するよう修正。
　（環境によっては見えなくなる場合があるため）


●【ピクチャ・動画再生】音量を再調整。
　　同じogv動画を「ムリヤリBGMとして読み込んで再生したとき」と、
　　「ピクチャで動画再生する場合」とで音量比較し、
　　少しだけピクチャ動画の方が大きくなるよう調整してみました。

　　→　ただ「mp4」形式の再生だけは内部的にWindows側の再生機能を使っている？らしく、
　　　　もしかしたら音量などが環境依存になる可能性があるので、
　　　　安定を求める場合はなるべく「ogv形式」を使ってください。



-------------------------------
　Ver2.264の更新履歴　2021/04/20
-------------------------------
【新機能】

●【ピクチャ】動画再生機能を搭載。
　　　　　ピクチャコマンドで「動画ファイル」を読み込むと、
　　　　　ピクチャ同様に動画を再生することができます。

　　　- 読み込める動画は「avi、mpg、ogv、mp4(H.264のみ)」の4つです。
　　　　マニアックなフォーマットですが、「ogv」形式が将来的にも安定して使えるようです。
　　　　（mp4はWindows機能で表示しているのでアップデートで出なくなる可能性があるとか）

　　　- 動画の音声は、効果音のように再生されます。BGM音量補正の影響を受けます。

　　　- 動画ファイル名に「_loop.」か「_LOOP.」が含まれていれば
　　　　その動画は自動ループします。

　　　- セーブ・ロードにはまだ対応していません
　　　　（動画ピクチャ再生中にセーブ後、それをロードすると再生停止状態になります）

　　　- 再生開始時やシーク時にどうしても30～40ミリ秒程度止まってしまうようなので、
　　　　頻繁に表示したり短時間ループするエフェクトとして自然に使用するのは難しいと思います。


●【変数操作＋】 「ピクチャ」の取得内容に以下を追加。
　　　- 動画再生位置[ms]
　　　- 動画総再生時間[ms] ※得られるのはogv、mp4形式のみ


●【エフェクト】 「ピクチャ」エフェクトに以下を追加。
　　　- [動画]再生速度変更機能[%]　※再生速度を「0」にすると一時停止になります。
　　　- [動画]再生位置変更[ms]
　　　- [動画]音声ボリューム変更[%]

●【文字列操作】 隠し機能として音声ファイルの再生時間をミリ秒で得られる機能を追加。
　　　　　　 　使い方は以下の通り。
　1.「文字列操作」コマンドで「に↓のファイル内容読込」を選ぶ。
　2.「手動入力」欄に「<<GET_SOUNDTIME>>Data/SE/effect.ogg」などと入れることで、
　　「文字列変数」に「Data/SE/effect.ogg」の「再生時間（ミリ秒）」が文字列として格納される。
　　（あとは「変数操作」でその文字列変数を数字変数に格納してご利用ください）



【エディター部　バグ修正】

●【暗号化】 2GB程度の巨大なファイルを暗号化しようとすると、
　　　　Editor.exeがクラッシュすることがある問題への対応を試みました。
　　　　
　　（なお4GB以上のサイズだとやはりクラッシュすると思います。
　　　さすがにそこまではサポートできないので、フォルダの「個別暗号化」の方で
　　　うまく行きそうでしたらそちらをご利用ください）


●【エフェクト】「マップ」のエフェクトを選んだ際、エフェクト名のコンボボックスが
　　　　　　　正常でなくなるバグを修正 (2.26～2.262のみで発生)



【ゲーム部　バグ修正】

●【起動時】 サイズの大きい暗号化フォルダがあると、起動時にずっと停止状態に
　　　　　なってしまうことがある現象への修正を試みました。

●【グラフィック】 画像読み込み時、正常に読み込みできなかった場合の処理を修正。

●【サウンド】音声再生したとき、「音声と認識できないファイル」を無理に読み込んだ場合に、
　　　　　Windowsのサウンドデバイスが未設定だと常にエラーが出てしまうので、
　　　　　そもそもエラー表示されないよう修正。

●【文字表示】 文字列ピクチャ・文章表示が文字化けするバグが起きる可能性があったことへの
　　　　　　対応を試みました。

●【特殊文字】ルビの特殊文字\r[,]のうち「]」なしで入力されていた場合などで、
　　　　　　　クラッシュするバグを修正(2.26～2.261のみで発生)

●【ピクチャ】動画再生時、動画ピクチャ側の音量を下げるとすぐ無音になってしまい、
　　　　　BGM側の音量バランスと全然合っていなかったのを修正しました。
　　　　　完全一致ではありませんが、少し数値を減らしただけで無音になることはなくなります。
　　　　　(2.26～2.263のみで発生)


-------------------------------
　Ver2.255の更新履歴　2021/02/27
-------------------------------
【ゲーム部　バグ修正】

●【総合】Windows7～8上でゲームを起動した後、何もしなくても10数分後に
　　　　「応答なし」になる場合がある重大な不具合を修正。



【新機能】

●【変数操作＋】「その他」に「消費メモリ量（MB）」「残り物理メモリ量（MB）」を追加。
　　　巨大な画像を複数読み込んだ際にフリーズするので残りメモリに応じて分岐させたい、
　　　メモリ負荷が高そうな状況を確認したい、など、
　　　メモリ不足に起因しそうなバグを避ける用途で使えると思います。



【ゲーム部　修正】

●【暗号化ファイル】起動時の空き物理メモリ「60％以内」の範囲で
　　.wolf形式の暗号化ファイルを可能な限りメモリに先読みするよう修正。
　　十分なメモリがある環境ならばファイル読み込み遅延がほぼゼロになります。
　　
　→　ただしメモリに読み込まれるためには以下の条件を満たす必要があります。

　　- 暗号化フォルダが1つ128MB以下であること（丸ごと・個別、どちらも）。


●【画面サイズ】Windows側のテキストサイズ設定が100％以外の場合、
　　　　　起動時に画面サイズがちょうど1.0倍にならずに画面がガタガタに
　　　　　なってしまうことがある現象の修正を試みました。


●【使用可能メモリの拡大】
　　64bitのOSで起動した場合は最大4GBまでメモリが使えるよう修正しました。
　　32bitOSなら従来通り最大2GBまでです。
　（といっても2GBも使うゲームの時点で動作環境がかなりシビアなので、
　　最大でも500MB以内くらいが望ましい気がします）


●【起動時】起動の進行状況をタイトルバーに表示するよう修正


●【文字列操作】「キーボード入力」で256文字以上を代入しようとすると
　　 フリーズするバグが発生していたので修正(一時公開の2.254にて)


●【音声再生】音声再生時、再生できないフォーマットだった場合は
　　「音声ファイルとして認識できませんでした」というエラーを出すよう修正
　（従来はライブラリ的に再生できないファイルでも無理に
　　再生しようとしてしまうため、クラッシュに繋がる危険性がありました）


-------------------------------
　Ver2.253の更新履歴　2021/02/18
-------------------------------

●【大きいサイズの文字を使ったときにクラッシュする現象を修正】
　ライブラリの最新化により、大きい文字を使った場合や多くの文字を使った場合に
　フォントキャッシュがあふれてクラッシュする状況が発生していたため、
　以下の2点でフォント周りの制約を厳しくしました。

　- 最大フォントサイズを、
　　画面サイズ320x240時は「64」まで、それ以外の画面サイズでは「128」までに制限。
　　大きい文字を表示されていた場合、Ver2.253以降では文字が小さく表示される場合がございます。
　　（旧バージョンでは最大フォントサイズを200（320x240時）あるいは400にしていました。文字を大きく表示したい場合は、文字列ピクチャの「拡大率」を上げて表示してください）

　- フォントキャッシュ文字種を300から200に減少させました。
　　→　つまり「画面内に一度に表示される文字の種類」が200種類までなら軽快に動作します。
　 　　フォントサイズやフチ（\E）の有無が違うと、「別の文字種」と認識されます。


-------------------------------
　Ver2.252の更新履歴　2021/02/13
-------------------------------
最新の「Micorsoft IME」使用時に発生していた文字入力の不具合に対応しました。


【大きな注意点】
・ライブラリを最新にした都合で暗号化方式が変わったため、
　過去のバージョンとは【暗号化ファイルの互換性がなくなりました】。

　特に影響が出るのがオンラインアップデートで、
　Ver2.252とそれ以前の暗号化ファイルが混ざっていると
　ゲームが正常に動作しなくなりますのでご注意ください。



【エディター部　修正】
●【暗号化】ゲームデータ作成時の暗号化処理が変わりました。

●【場所移動】場所移動先選択画面でX0の列が選択できなくなっていたバグを修正(これだけVer2.25→2.251で追加修正)。



【ゲーム部　修正】
●【暗号化】Ver2.24以前で作られた暗号化ファイルが読み込めなくなります。

●【文字列操作】キーボード入力時、最新のMicrosoft IMEで正常に文字列が入力できないバグを修正

●【音声】LOOPLENGTHを含んだ音声ファイルが正常にループしなくなっていたバグを修正(これだけVer2.251→2.252で追加修正)

-------------------------------
　Ver2.24の更新履歴　2018/06/22
-------------------------------

【エディター部　バグ修正】　Ver2.23に対し、以下の1点のみ追加修正しました。

●【ピクチャ】自由変形のY座標入力欄でCtrl+Aを押すとフリーズするバグを修正。



【基本システム　Ver2.24】

・ランダムエンカウント処理の敵出現フラグを初期化していなかったバグを修正[コモン37/2行]


-------------------------------
　Ver2.23の更新履歴　2018/06/06
-------------------------------

【ゲーム部　バグ修正】　Ver2.22に対し、緊急で以下の2点のみ追加修正しました。

●【サウンド】SEとしてWAVファイルを再生した際、ループ情報が含まれていると
　　　　　　　SE（効果音）なのにループしてしまうバグを修正。
　　　　　　→　WAVファイルをご利用になっていない場合は問題ございません。

●【文字列操作】マップ並列イベントでキーボード入力を受付中にマップ移動などをおこなうと
　　　　　　　コマンドによる「キー入力受け付け」を一切受け付けなくなるバグを修正。



【基本システム　Ver2.23】

・テスト用に入れていた「文章」コマンドが残っていたのを削除[コモン5/88行]
　→　導入が面倒な場合はコモン5、88行目にある文章コマンドを
　　　削除してくだされば問題ございません。


-------------------------------
　Ver2.22の更新履歴　2018/06/01
-------------------------------

【Ver2.22の導入時にデータ修正が必要になる箇所】

●【文字列ピクチャ】 以下の条件を全て満たす「文字列ピクチャ」の表示座標が
　　　　　　　Ver2.22導入で少しずれてしまうため、調整が必要になります。

　- 「ゲームの基本設定」にて、「フォントのアンチエイリアス」が
　　「無し＆倍角」に設定されているゲーム内。
　- 文字列ピクチャにて「\i[?]によるアイコンや\img[?]の画像が行末に存在」しており
　　そのピクチャの基本位置が「中心」「右上」「右下」位置のいずれかに設定されている。

上記の条件下では「行末のアイコンや画像の横サイズが半分」として認識されており
文字列ピクチャの横サイズが本来より小さめに計算されてしまっていたため、
Ver2.22の導入で表示座標が少しずれてしまう場合があります。
お手数をお掛けして申し訳ございませんが、必要に応じて調整をおこなってください。



【新機能】

●【Config】 描画に関するオプションを追加しました（Config.exeで設定可能）

　- 「使用するDirectXのバージョン」が「DirectX 11」と「DirectX 9」から選べるようになりました。
　　「DirectX 11」にすると「ウィンドウ拡大時になめらか拡大」できます。
　　　※3Dモード、かつゲーム設定側でピクチャ拡大が「なめらか＆ぼんやり」に設定されている場合のみ。

　- 「全画面モード」をA、Bの2種に分けました。
　　・Aモード：「縦横比を維持して全画面サイズに拡大[標準]」
　　・Bモード：「画面解像度ごと変更」
　　全画面時に正常に画面表示されない方がいらっしゃるようなのでその気休め対策です。



【ゲーム部 仕様変更】

●【ウィンドウ拡大】 F4キーを押したとき、ウィンドウサイズが
　　　　1倍→2倍→（以降、+1倍にできるなら+1倍ずつ）→全画面→1倍→2倍……
　　と切り替わるように修正しました。

●【文字列】フォントキャッシュを約300文字種分まで記憶するようにしました
　　　→　「サイズ・フォント・フチの有無」が同じ文字がたぶん最新300文字まで記憶され、
　　　　　表示が高速化されます。



【エディター部 仕様変更】

●【テキスト入力】 「Ctrl+A」で文章を全選択にする処理が有効なテキストボックスにて、
　　　　　　ShiftやAltも一緒に押しながらCtrl＋Aキーを押した場合は全選択しないよう修正。
　　　　　（一部の外国語を入力する際、Alt Grキーで入力できなくなっていたらしいため）

--------

【ゲーム部 バグ修正】

●【ピクチャ】文字列ピクチャでアイコンを使用したとき、一定条件でアイコンの
　　　　　　縦サイズが2倍以上に引き延ばされてしまうことがあるバグを修正。


●【ウィンドウ拡大】 画面サイズ変更後、ウィンドウのタイトルバーに出る
　　　　　　　　「画面が停止した場合は～[消去まで0秒]」
　　　　　　　　のメッセージが消えずにいつまでも表示されてしまうバグを修正。

●【セーブデータ】 Ver2.10以前の古いGame.exeでセーブした文字列の中で、
　　　\f[？]で設定されていたフォントサイズが、Ver2.20以降のGame.exeで開くと
　　　64倍のサイズになってしまっていたバグを修正
　　→　これの影響で、旧Verのセーブデータの読み込みに
　　　　異常な時間がかかる現象も発生していました。

●【システム変数】 Sys71:マウスX位置、Sys72:マウスY位置にマウス位置を格納し直すたびに
　　　　　画面上のマウス座標が1ピクセルずつずれてしまうことがあったバグを修正

●【文字列ピクチャ】「ゲームの基本設定」でフォントのアンチエイリアスが
　　　　「無し＆倍角」になっている時、行末にある
　　　　\i[]や\img[]による画像のサイズが正しく計算されていなかったバグを修正
　　　　（最初に述べた通り、修正が必要です）

●【場所移動】 場所移動コマンド使用時、「対象」を変数で指定して
　　　「-2」を対象に実行したとき、「主人公」がマップ0番に場所移動させられるバグを修正。
　　　（現在は同じマップ内に移動するようになりました）

●【F11処理】テストプレイ中、F9キーなどを押した後にF11を押すと
　　　　　　更新画面の文字サイズが大きくなってしまうバグを修正

●【キーの禁止】キーの禁止でPrintScreenを禁止してもスクリーンショット撮影が
　　　　　　　　できてしまっていたバグを修正。



【エディター部 バグ修正】

●【コモンイベント】「変数」や「このコモンから±X個上下のコモンEv」で
　　指定していた「コモンイベント」コマンドを編集しようとしただけで
　　まれに強制終了するバグの修正を試みました。

●【マップ選択】 マップツリー上で、マップファイルが設定されていないマップに
　　　　　　「コピーしたマップ」を貼り付けしようとするとフリーズし、
　　　　　　強制終了するしかなくなってしまうバグを修正。

●【マップ】 1マップにイベントを約1024個以上設置しようとすると強制終了するバグを修正。
　　　　　　今は5120個まで置けるようになり、オーバーしそうになるとエラーが表示されます。

●【ファイル・画像選択】 ファイルや画像の選択を行う際、ファイルの拡張子が大文字だと
　　　　　　　一覧に表示されなくなっていたバグを修正。


※今回おこなわれたバグ修正は、重大なものか低コストで修正できるもののみです。
　「バグ報告スレッド12　>>72～」以降のものに未対応バグや要検証事項が
　多数残っているため、追ってその修正もおこなっていきます。




【基本システム　Ver2.22 に更新】

 ・スキルに攻撃力影響度と精神力影響度が両方入っていると、状態設定で「受ける攻撃力ダメージ率」と
   「受ける精神攻撃ダメージ率」共に0％にした状態になっててもダメージが通るバグ修正[コモン165/501行-543行]
 ・戦闘中、コマンド選択後にパーティから主人公を外すとコマンド使用者がずれるバグを修正[コモン5/96-127行]
 ・戦闘中、コマンド選択中にパーティから主人公を外すと行動決定処理が飛ぶバグを修正
     [コモン5/86-95行、コモン191/入力追加+5-17行、コモン192/入力追加+10-29行]
 ・戦闘中にコモンの呼び出しによる最大ＨＰ(ＳＰ)の変更でステータス画面のゲージが異なる値で表示されるバグ修正
     [コモン178/319行、376行]
 ・コモンの呼び出しで装備変更などを行った時にパラメータが更新されないバグ修正
　　[コモン11/16行、コモン12/16行]
 ・コモン「◆[戦闘用]ダメージ処理」でダメージ量の設定がマイナス値の場合、
   回復表示になっていなかったのを修正[コモン31/100～138行]
 ・コモン「○装備防具の変更」の入力「装備位置」の初期値が空白になっていたミスを修正[コモン12]
 ・コモンイベントの「メモ」欄が他のコピーのままになっていた場所を修正[コモン15、20]
 ・コモン「◇ランダムエンカウント処理」で出現時に返り値を返していなかったバグを修正[コモン37/55行]
 ・装備欄のキャラ選択をキャンセルしたときの効果音が重複再生されてたのを修正[コモン130/24行]





-------------------------------
　Ver2.21の更新履歴　2017/04/10
-------------------------------

【ゲーム部 仕様変更】

●【タイトルバー】描画ms（ミリ秒）とイベント処理時間msを小数点1桁まで表示するように修正。

●【マップ描画】描画ms（ミリ秒）とイベント処理時間msを小数点1桁まで表示するように修正。



【ゲーム部 バグ修正】

●【アイコン】\i[?]や\img[?]で表示するアイコンや画像が、タイルサイズやゲーム画面サイズ、
　　　　　　フォントの「倍角」オンオフに応じて縦方向に伸縮することがあったバグを修正。


-------------------------------
　Ver2.20の更新履歴　2017/03/18
-------------------------------

【新機能】

●【ゲーム基本設定】新たな「ゲーム画面サイズ」が選択できるようになりました。
　　　320x240（倍）・640x480・800x600・848x480（16:9）・854x480（16:9）・960x720・960x540（16:9）・
　　　1024x768・1024x576（16:9）・1280x960・1280x720（16:9）　から選択可能です。

●【ゲーム基本設定】「タイルサイズ」と「ゲーム画面サイズ」を個別に設定できるようになりました。
　　　　　　　　　タイルは「32x32」でゲーム画面サイズは「1280x720」といった設定も可能です。

●【ゲーム基本設定】「ゲーム内の２バイト文字の言語」に「１バイト文字のみ[英語など]」を追加。
　　　　　　　　　　英語など、完全に1バイト文字だけで実行するゲームの場合はこれを選択してください。

●【ゲーム基本設定】「ゲーム内の２バイト文字の言語」内に「システム言語」の設定を追加。
　　　　　　　　　　海外展開時など、タイトルバーやエラー文などを英語にしたい場合は「英語」にしてください。

●【システム変数】システム変数「Sys115:Game.exeバージョン（x100）」を追加。
　　　　　　　　　Game.exeのバージョン番号の100倍の値を返します。
　　　　　　　　　→　あまり使わないと思いますが、配布するコモンイベントを
　　　　　　　　　　　指定バージョン以降のみに対応させる場合などに使用できます。

●【システム変数】システム変数「Sys116：画面サイズX」「Sys117：画面サイズY」を追加。
　　　　　　　　　ゲームの画面サイズを返します。

●【システム変数】システム変数「Sys120：ﾘｾｯﾄ履歴 0=ﾅｼ/1=F12/2=ｺﾏﾝﾄﾞ」を追加。
　　　起動後に「F12リセット」あるいはコマンドで「タイトルに戻る」したのを検出することができます。

●【サウンド】ツクールシリーズと同じく、音声ファイルの「LOOPLENGTH=～～」機能に対応。
　　　　　　　今後は音声ファイルの最後をカットしなくてもループが可能です。

●【ルビのサイズ】ルビ振りの特殊文字\r[～,～]に使われるルビの文字サイズを
　　　　　　　　　システム変数「Sys23：ルビのフォントサイズ」で設定できるよう修正

●【ゲーム画面】プレイヤーがゲームウィンドウ端をドラッグすることで、
　　　　　　　　ウィンドウサイズの倍率を自由に変更できるようになりました。

●【デバッグウィンドウ】F3キーを押すたびに、ゲーム途中でもデバッグウィンドウ表示の有無を
　　　　　　　　　　　切り替えられるよう修正。

●【デバッグウィンドウ】ボタンを押して「ログ保存」できるように修正。
　　　　　　　　　　　　（F3キーによる出力ができなくなったため）

●【サウンド】「メモリから未使用音声を全解放」機能を追加

●【エフェクト】 スクロール移動速度に、32倍速、64倍速を追加


＜エディタの新機能＞

●【コモンウィンドウ・セルフ変数使用状況】 新たに「未使用分だけリセット」ボタンを実装


●【コモンイベント・破損対策】コモンイベントファイル（CommonEvent.dat）が破損していた場合、
　　　　　復旧可能な部分まで抽出して保存し直す処理を追加。
　（例：コモン80以降が破損していた場合、コモン79までを抽出して保存し直します）


●【コモンウィンドウ・検索機能】 「コモンイベント名のみ」の検索オプションも付けました。

●【自動バックアップ】「DATファイル自動バックアップ機能」を追加。エディターオプションから設定可能です。
　エディタの毎起動時、Basicdata内のdatファイルだけをバックアップフォルダに1段階コピーします。
　データが壊れてエディタが起動しない場合や、致命的な間違いをおかした場合などに希望になると思います。
　バックアップは最大で5バージョン前まで保存できます。
　例：「Data/Basicdata/AutoBackup3/」フォルダに3回前に起動したときのバックアップファイルが保存されています。「AutoBackup1」なら今回起動したときのバックアップです。

　また、毎月1日と15日に定期保存されるモードも選べます。
　
　例：2016年の12月6日に起動すると「Data/Basicdata/AutoBackup_2016_12_01/」という
　　　フォルダが作られ、DATファイルがバックアップされます。
　　　15日以降なら「Data/Basicdata/AutoBackup_2016_12_15/」になります。


＜ゲームの動作バージョン別仕様＞

　以下はゲーム基本設定の「動作バージョン調整」を「最新」か「Ver2.20以降」に設定した場合に反映されます。
　※Ver2.10以下に設定すると従来通りになります。

●【文字表示】 フォントサイズより大きなアイコンを使い「\i[??]\ay[0]～～」と入力すると
　　　　　　　「～～」部分の文章のY座標が0になります。
　　　　　※2.10以前では微妙にY座標0になりませんが、それに合わせて作っていた場合、最新版の導入によって
　　　　　　文字の縦位置がズレると思います。その場合は「Ver2.10の挙動」に切り換えてみてください。

●【文字表示】Ver2.20の挙動から使用可能なフォントサイズの制限が最大400ピクセルまで拡張されます。
　　　　　※「Ver2.10以前の挙動」にするとフォントサイズはこれまで通り100前後以下に制限されます。
　　　　　　この制限は、古いWindowsで大きなサイズを表示しようとするとクラッシュすることがあったのを
　　　　　　回避する目的で設定されていました。なお今でも500以上にしようとすると止まるようです。

●【音量】 DXライブラリ側で新たな音量設定が行われたため、BGM音量が
　　　　　音量値の減少に応じて、なんとなく数値通りに減っていく聞こえ方になります。
　　　※「ゲーム基本設定」でGame.exe動作バージョン調整を「Ver2.10の挙動」以下にすると
　　　　　以前通りの音量で再生されますが、これまでの音量は最小値近くでもだいぶ大きく聞こえたりして
　　　　　おかしかった気がするのであまりおすすめしません。

●【動作指定】「主人公から離れる」「逆を向く」を行った場合、従来は4方向移動しかしなかったのを
　　　　　　　8方向に移動するよう修正
　　　　※「Ver2.10以前の挙動」に戻すと四方向移動のみになります

--------

【ゲーム部 仕様変更】

●【暗号化】 Ver2.00、Ver2.10時点の暗号化データも読み込めるように修正。

●【ゲームデータ】暗号化方式が変更されました。Ver2.10以前で暗号化した.wolfファイルは
　　　　　　　　　Ver2.20以降のGame.exeではプレイできなくなります。

●【多重起動】別のゲーム名なら複数の「Game.exe」を同時起動できるよう修正。
　　　　　　　（従来は別ゲームでもGame.exeを2つ以上立ち上げることができませんでした）

●【システム】Alt+Enterの全画面化が使えなくなりました。
　　　　　　代わりに、F11キーに全画面化を割り当てました
　　　　　　（F11は非テストプレイ時のみ有効、テストプレイ時ではShift＋F11で全画面化切り換えができます）

●【システム変数】Sys84:画面解像度、は320x240、640x480、800x600以外の画面サイズなら－1を返すよう修正。

●【サウンド】ライブラリの更新により、高い数値の「周波数」に設定して再生してた音が
　　　　　　　元よりさらに高く聞こえる場合があります。これは周波数の上限値が増えたためです。
　　→　たとえば、周波数200超に設定した音が、以前より高く聞こえる可能性がございます。
　　　　その場合は「200」に設定すると従来通りに聞こえると思います。必要に応じて調整してください。

●【画面】フルスクリーンにしたとき、16:9のモニターでもゲーム画面解像度が4:3ならなるべく
　　　　　端を黒帯にして4:3で表示されるようになります。ライブラリ側の更新による機能です。

●【アイコン】使用可能なアイコン番号を1000～9999にも拡大（3桁の場合のファイル名はicon001～999.pngのままです）。

●【リセット】テストプレイ時のみ、F12リセット時に文字色やアイコンの変更・追加分を反映するよう修正

●【特殊文字】 \mx \my \ax \ay の限界値が±1000から±5000まで拡張されました。

●【乱数】 「Sys110：現在の乱数のシード」に0を代入すると、以後ずっと乱数が機能しなくなるので
　　　　　　シード値が0になった場合は自動で新たなシードを再生成するよう修正

●【エラー】 緑帯エラーが出た場合、「Game_ErrorLog.txt」ファイルにエラー文を出力する機能を追加

●【画像】F12リセット、あるいは「タイトルに戻る」したとき、ピクチャやキャラクター画像が
　　　　　メモリから解放されるように修正。ダウンロードした画像などにおいて、
　　　　　「同じファイル名だが中身が変わった画像」を再読込できない問題があったため。

●【特殊文字】\-[？]の数値がマイナス10くらいになると数値が反転してしまっていたので、
　　　　　　　±100の値まで反映されるよう修正。

●【システム文字列】システム文字列1～3で取得できるキー名について、
　　キーコード139「;」151「,」246「:」の3つの名前を全角から半角に修正。

●【ジョイパッド】POVキー（アナログスティックと十字キーがある場合の十字キー）を
　　　　　　　　　方向キーとして認識するように修正。
　　　　　　　　　XBOXコントローラの後ろトリガー部分を認識するよう修正

●【画面】 Game.exe起動時、マウスカーソルのある場所のディスプレイを自動判別して
　　　　　そのディスプレイにゲーム画面を表示するよう修正。ディスプレイ2つまでの環境に対応。
　　　　　（ディスプレイが3つ以上の場合はGame.iniにディスプレイ番号として
　　　　　　「Display_Number=3」などと指定することで指定可能です）

●【ピクチャ】総スプライト数が約32000を超えると正常に描画されなくなるため、
　　　　　　ピクチャ表示時にその量をオーバーした際に警告を表示し、新たに描画しないよう修正。

●【サウンド】 BGSでMIDIファイルが再生されそうになった場合にエラーを出すよう修正。
　　　　　　　MIDIファイルを再生しようとした場合、不具合に繋がる可能性がありました。

●【文字列操作】 Basicdataと付くフォルダ内に.datファイルや.projectファイルを出力しようとした場合、
　　　　　　　　エラーになるよう修正（データベースファイルなどが上書きされてしまう可能性があるため）。

●【セーブ】Save以外のセーブ先のフォルダを文字列で指定したとき、フォルダを自動生成するように修正。

●【文字列操作】 <をファイル↓に出力>コマンドでテキストファイルを出力する際、
　　　　　　　　　フォルダを自動生成する機能を追加

●【エフェクト】フラッシュの色指定が変だったバグを修正
　　　　元々数値が最大100までしか有効になっておらず、100超の値だと
　　　　オーバーフローして色指定がおかしくなるようでした。
　　　　数値に対する効果はそのままですが、100超に設定してあった場合の挙動が
　　　　変化している可能性があります。

●【画面拡大縮小】ウィンドウサイズを拡大縮小したときにグラフィックスドライバの問題で
　　　　　　画面更新が停止する場合があるらしいため、画面サイズ変更時はタイトルバーに15秒間
　　　　　「画面が停止した場合は、『F4:元サイズ』か『F11：全画面化』を押してプレイを続けてください」
　　　　　という警告文を表示するよう修正。

●【ダウンロード】ダウンロード時、「一時ファイル『～_TMP』ファイルが作成できなかった」
　　　　　　　　というエラーが出ないように修正。
　　　　　　→　もし書き込めない_TMPファイルが作られていた場合は、_TMP1や_TMP2などを作ります。

----------------

【ゲーム分　バグ修正】

●【画面】フルスクリーンとウィンドウモードをゲーム中に切り換えると画面更新頻度が
　　　　　最大45FPSほどに下がってしまうバグ修正。

●【描画】Windowsの拡張スクリーン使用時、画面が表示されなくなる場合がある不具合が減少。
　　　　　（DXライブラリ側の更新によるもの）

●【マップ描画】800x600（40pxタイル）環境下で▲チップの表示優先順位が想定外に前後してしまうバグを修正。

●【フルスクリーン化】ゲーム中にフルスクリーンにすると以降のトランジションが機能しなくなるバグ修正。

●【フレームスキップ】Config.exeで「処理の重さ」を「高」以外にしたり、プレイ中にF5で変更しても、
　　　　　　　　　　　終了したりロードしたりすると「高」に戻ってしまうバグを修正。

●【遠景】文字列で「SysS30：遠景の画像ファイル名」に「BG1.jpg(改行)0(改行)0(改行)3」などと入れてセーブし、
　　　　　ロードするとエラーが出る可能性があった不具合を修正。

●【フォグ】放置し続けているとフォグの座標がオーバーフローして表示が変になる可能性があったバグを修正（たぶん）。

●【ゲーム基本設定】「ゲーム内の2バイト文字の言語」まわりの挙動を修正しました。
　　　　　　　　　　日本語以外でのGame.exeでの安定性が少しだけ向上していると思います。

●【音量】再生中に「Sys95：再生中BGM音量」を変更すると音量が変更されるが、
　　　　　その後に「Sys100：BGM音量補正」を変更するとSys95の音量値でなく「再生開始時」の音量をベースに
　　　　　補正がかかった音量になってしまうバグを修正。

●【文字描画】大きなフォントを多数表示させるとエラーになる可能性があったバグを修正。

●【影画像】「～$.png」の非分割キャラ画像に6x4分割の影画像を使い、
　　　　　　途中でキャラ画像の方を「$」と「$なし」同士で切り換えたに「24分割された影画像」が
　　　　　　そのまま表示される現象があったため、起きにくくなるよう修正。

●【イベント描画】タイルセットで下半分が半透明になるよう設定したタイル上にキャラがいる場合、
　　　　　　　　そのキャラにはエフェクトの点滅が適用されなくなるバグを修正。

●【イベント画像】ループ設定したマップに大型のグラフィックを設定したイベントを設置したとき、
　　　　　　　　主人公の場所によって表示されない状況が減るよう修正。

●【イベント画像】キャラクターの移動速度を最低値にしたイベントに、～T.png及び～TX.pngの画像を
　　　　　　　　　マップイベントとして使用すると移動時に一瞬カクつくバグを修正。

●【システム変数】「Sys17～19：選択肢SE番号～」に「-1」が設定されている場合、
　　　　　　　　　そのSEが再生されようとすると全SEが止まってしまう（SEの「停止」と同じになる）バグを修正。

●【フォント】画面サイズが320x240以外（640x480、800x600）の時に
　　　　　　「ゲームの基本設定」→フォントのアンチエイリアスを「無し&倍角」にして
　　　　　　\i[]か\img[]を使うと、呼び出されたアイコンが縦に伸びるバグを修正

●【変数操作】「整数をコモンセルフの文字列域に代入しようとしました」　のエラー時に
　　　　　　　エラー行が表示されなかったのを修正

●【変数操作+】下のレイヤーに通行不可のマップチップを、
　　　　　　上のレイヤーに1/4ずつ通行可能にさせたマップチップを置いて
　　　　　　変数操作+の「位置X・Yの通行可能（タイル）」を「精密座標」で得ようとした場合、
　　　　　　正しいタイル通行可能状態が得られなかったバグを修正。

●【変数操作＋】歩行グラフィックファイル名の末尾にT.pngなどがつく素材を使用した際、
　　　　　　　　変数操作＋でキャラクターの「アニメパターン」番号を正確に取得できなかった現象を修正。

●【文字列操作】 並列イベント内で、変数呼び出し値9100009などを使用し、
　　　　　　　　存在しないイベントIDの画像名を間接読み込みしようとすると強制終了するエラーを修正

●【文字列操作】＜の指定文字以降を切り出し＞がダメ文字が入っている文字列に対して
　　　　　　　　正しく動作しないバグを修正。
　　　　　例：「あい[ゾル]うえお」と入れた文字列から「]」以降を切り出すと「ル]うえお」が出ていました
　　　　　　　　期待通りなら「うえお」のみ。

●【文字列操作】テストプレイ中、文字列のキーボード入力中にF11でデータの再読み込みを行った後に
　　再びキーボード入力させるとイベントがフリーズするバグを修正

●【DB操作】 ゲーム中のCSV出力で、出力データ数の指定が機能していなかったバグを修正

●【DB操作】 CSVファイルの読み込み時、1項目のデータ量が10KB以上になると
　　　　バッファオーバーランでクラッシュが発生する可能性があったバグを修正

●【DB操作】コモンイベント内にタイプ番号マイナスを指定したコマンド（DB[-99:0:0] = 0など）があると
　　　　　起動時にクラッシュする場合があるバグへの対処を試みました

●【DB操作】特殊文字をCSVから読み込んだときにフリーズする問題が起きにくくなるよう修正

●【DB操作】 データ番号を変数で指定して「全項目初期化」を実行した際、
　　　　　　　変数の値がマイナスだとそのままゲームが強制終了するバグを修正。

●【セーブロード】文章の表示中にロードすると、ロード後にもその文章が表示されてしまうバグを修正

●【セーブロード】選択肢が表示された状態でロードすると、ロード後も選択肢が残ったままになるバグを修正

●【セーブロード】 セーブファイルが30MBを超えるとセーブできなくなることがあるバグを修正

●【セーブロード】特殊な条件下でロード時に「サウンドデータが読み込めませんでした」と
　　　　　　表示されることがあるバグを修正。

●【セーブロード】別ゲームのセーブデータを読み込んだときにクラッシュする確率を減少。

●【ピクチャ】基準位置を「中心」にして画像を「表示」してセーブし、一旦ロードした後に
　　　　　　「移動」させると移動前の画像サイズが0として扱われていたバグを修正（移動時などにズレる）。

●【ピクチャ】特殊文字などが含まれたファイル名を読み込むとフリーズする不具合が起きにくくなるよう修正。

●【ピクチャ】ディレイを設定した「表示」待ちのピクチャがある状態でセーブすると
　　　　　　　ロード時に緑帯エラーが出るバグを修正。

●【ピクチャ】「自由変形」をつかってピクチャを１フレーム以上かけて「新規表示」すると
　　　　　　　-10000度分回転しながらの表示になってしまうバグを修正。

●【ピクチャ】10000枚以上のピクチャを一気に表示しようとした場合にエラーを表示するよう修正。
　　　　　　（あまりにたくさんのピクチャを表示しようとするとフリーズするため）

●【ピクチャ】角度の「同値」のチェックを入れて呼び出したファイル読込ピクチャを
　　　　　　「エフェクト」の座標シフトで動かすと、「変数操作＋」の「マウスカーソルと重なってる」の
　　　　　　判定座標が元の位置のまま動かないバグを修正。

●【サウンド】Sys95：再生中BGM音量（Sys96：再生中BGS音量）を毎フレーム操作してると
　　　　　　BGM/BGSの再生をストップさせてもBGM/BGSが止まらないバグを修正。

●【サウンド】「ファイル名指定」で読み込みした場合の音声ファイル内に書かれた
　　　　　　　ループ設定（LOOPSTART）が効かなくなっていたバグを修正。

●【サウンド】BGS再生前に「Sys101:BGS音量補正[%]」を0にするとごく小さい音で再生されてしまうバグを修正

●【キー入力】キーボードの全キー読み込みで244（^）、245（＠）、246（：）番のキーなどが
　　　　　　　受け付けられなかったのを修正

●【動作指定】「動作指定」で「主人公・仲間」の「セルフ変数」を読み込もうとした場合はエラーを出すよう修正。
　　　　　　　　（主人公や仲間はセルフ変数を持たないため、指定しても動作しない）

●【動作指定】マップを移動した先で「動作指定」で「このイベント」を指定すると、
　　　　　　　処理中の移動前イベントと同じ番号のイベントが存在しなかった場合、
　　　　　　　エラーもなくクラッシュするバグを修正。

●【パーティ画像】「仲間と主人公の動きのシンクロ開始」をして50歩あるいは100歩移動した後に
　　　　　「シンクロ解除」をすると、プレイヤーがどんな移動をしても
　　　　　「仲間全員を主人公の位置にワープ」をするまで
　　　　　仲間が今向いている方向にまっすぐ歩き続けていってしまうバグを修正。

●【イベントの挿入】 マップイベントのページ０（現在のページ）を指定して「イベントの挿入」を
　　呼び出そうとした際、そのマップイベントの全てのページの条件が満たされていない場合に
　　クラッシュしてしまうバグを修正

●【イベントの挿入】ゲーム中にコモンイベントの名前を修正した場合、ゲームをロードしても、
　　　　　　　　「名前呼び出し」によるコモンイベント呼び出し先がロード前のままから変わらないバグを修正。
　　　　　（テストプレイでプレイしている場合のみ。それ以外の場合は速度確保のため読み込みし直しはしません）


----------------

【Editor.exe仕様変更】

●【エディタ起動】同じEditor.exeを多重起動しようとすると警告が出るように修正。
　　　　　　　　　多重起動させること自体は可能です。

●【エディタ全般】 読み込みが高速化されるよう描画処理周りを修正。
　　　　　　　　　ちらつきが少し増えたかもしれませんが、マップイベントやコモンイベントのコマンド一覧、
　　　　　　　　　データベース、各種変数リスト、画像やファイルを開く際のフォルダ切換時などにおける
　　　　　　　　　表示速度が上がりました。

●【エディタ全般】一部のテキスト入力欄でCtrl+Aによって選択中のテキストを
　　　　　　　　　全選択できるように修正

●【ファイル選択ウィンドウ】大量のファイルが入っているフォルダの読込を高速化。

●【コモンイベントウィンドウ】「入力内容の設定」で文字制限が入力ボックスの幅までだったのを撤廃。
　　　あふれてもスクロールするように。

●【グラフィック選択ウィンドウ】グラフィック選択ウィンドウの幅を少し増やしました。

●【グラフィック選択ウィンドウ】グラフィック選択ウィンドウの初期フォルダ読み込み挙動が
　　　　　　　　　　　　　　　　統一されてなかったのを修正。

●【データベースウィンドウ】 Ctrl+Rで一つ前に選択していた「タイプ」「データ」に戻れるよう修正

●【コモンウィンドウ・検索機能】 コモンイベントの検索機能が高速化し、検索語の長さ制限がなくなりました。

●【コモンウィンドウ】コモンイベントのイベント切り換えショートカットを「Ctrl＋Alt＋↑・↓」から
　　　　　　　　「Ctrl＋Shift＋↑・↓」に変更（画面回転のショートカットに使われているケースがあったため）。

●【マップ選択】マップを削除した後、編集中のマップが表示されなくなるよう修正。
　　　　　　　　ファイルを消しても編集中のマップがそのまま表示され続けてしまい、
　　　　　　　　そこで「保存」ボタンを押すとマップファイルがまた生成されてしまうため。

●【マップ作成】マップ新規作成時のサイズは、タイルサイズと画面サイズによって
　　　　　　　　初期値が変わるよう修正。また、マップサイズの最小値を8x6に変更。
　　　例：タイルサイズ16で画面サイズ800x600なら基本マップサイズが50x38になります。

●【ゲーム基本設定】「Game.exe動作バージョン調整」に「現Ver2.20時点の挙動のみで動作」と
　　　　　　　　　　「旧Ver2.10時点の挙動で動作」の選択肢を追加。

●【データベース設定】データベースの「タイプの設定」を改良。番号が離れた変数・文字列ボタンも
　　　　　　　　　押せるようにし、まとめて項目のタイプを設定できるように変更。
　　　　　　（例えば項目40番まで入れている状態で99番の「変数」を押すと、
　　　　　　　41～99まで全部「変数」が入力されるようになります）

●【変数操作＋】「移動中？[YES=1、NO=0]」に「主人公は1ﾌﾚｰﾑ以上止まらない限り1」の文を追記
　　　　　　　　この変数読み込みは、主人公のみ、明確に止まらないと0にならないようにしています。
　　　　　　　（具体的には、「イベント接触」直後に判定すると主人公は移動中（1）扱いになります）

●【DB操作】「数値または代入先」処理の「＝」や「＋＝」の一覧表示の行数を１行増加。
　　　　　　（1行だけスクロール外に行ってしまっていたため）

●【DB操作】下部の文字列入力欄に縦スクロールバーを追加

●【文字列分岐】 文字列欄に改行付きのテキストが入れられるように修正。
　　　　　　　　　改行1個だけをチェックする処理でいったん文字列変数に入れて比較する必要がなくなります。

●【ピクチャ】自由変形の座標の上下ボタンでマイナスの値を指定できるように修正。

●【サウンド】 「メモリから手動解放（SEのみ）」機能を削除。
　　　　　　ファイル名直接指定に対応していないのと、そもそも正常に動作していないため。
　　　　　　これまでにこのコマンドが指定されている分は動作するかもしれませんが、サポートはいたしません。

●【サウンド】 効果音の途中再生がそもそも反映できなかったので、
　　　　　　　　SE選択時はエディタ欄から「途中再生」を入力できないよう修正

●【イベント制御】 ウェイト値を上下ボタンを押して0まで下げられるように修正。

●【動作指定】動作指定の左欄をもっと大きく修正。
　　　　　　　（引数が2つ入るときにセルフ変数を2つ指定すると見えないため）

●【コモンイベント】「入力内容の設定」をしたとき、「結果を返す」に指定したコモンセルフ変数にも
　　　　　　　　　　　自動で名前を付けるよう修正。

●【コモンイベント】 「コモンEv名で呼出」の欄に文字数制限がかかっていたので解除。
　　　　　　（コモンイベント名を直打ちしようとすると引っかかっていました、リスト選択なら問題なかったようです）

--------------

【Editor.exeバグ修正】

●【各種ウィンドウ】マップイベントウィンドウ、コモンイベントウィンドウ、データベースウィンドウの
　　　　　　　最小化ボタンを使用できないように修正（環境によっては押すと行方不明になる場合があるため）。

●【言語】Windows側のシステムロケールが日本語以外の場合、起動時にシステムロケールを日本語にしてくださいと
　　　　　警告表示する機能を追加。そうでないとエディタが文字化けするため。

●【マップ処理】「この位置をDBに保存」時、記録先を切り換えたときのマップ名がおかしいバグを修正

●【マップ作成】マップを新規作成すると区切り文字が「\」になってしまうのを「/」に修正

●【マップ作成】新規マップを作成する時に存在しないフォルダ名を指定すると、
　　　　　　　　フォルダが作られずマップデータを作成できないバグを修正

●【マップファイル】マップファイルが一定以上のサイズになるとファイルが破損する可能性があったバグを修正。

●【マップ描画】タイルセット番号がオーバーしているマップに切り換えたときの描画バグを修正。

●【データベース】 データベースのデータ名呼び出しが無限に循環してクラッシュするケースがあったバグを修正。
　　　　　　　　循環が50回以上になった場合はデータ名に「× LoopError」と表示されるように。

●【ゲーム基本設定】「ゲームの基本設定」画面で「キャンセル」すると、次に他のウィンドウで「保存」しようとしたり
　　　　　　　　　　タイルセット画面を開いたりするとおかしな挙動になるバグを修正

●【テストプレイ】テストプレイ実行を行ったとき、関係ないゲームが起動することがあったバグを修正。

●【ゲームデータの作成】出力先のファイルが使用中（ゲーム動作中）のときにゲームデータを
　　　　　　　　　　　作成しようとするとエディタが強制終了するバグを修正。

●【ゲームデータの作成】ゲームデータを作成する際、ゲームフォルダ名を空欄にしたまま作成できないよう修正。
　　　　　　　　　（空欄のままにすると本体のDataフォルダがそのまま暗号化されてしまうバグがあったため）

●【ゲームデータの作成】「作成するゲームフォルダ名」の先頭か末尾に半角スペースがあると
　　　　　　　　　　　正常にゲームデータが作成されないバグを修正。
　　　　　　　　　→　自動的に先頭と最後尾のスペースをカットするようにしました。

●【マップ作成】Shiftキーを押しながらマップを描いたとき、最初の1マス目だけオートタイル機能が
　　　　　　　　オフにならないことがあったバグを修正。

●【マップ選択】マップファイルごと削除しようとしたとき、ファイルが削除できないことが多かったので
　　　　　　　　削除に失敗した場合は手動削除をうながし、マップファイルが存在するフォルダを自動で開くよう修正。

●【マップ選択】マップ選択ウィンドウで「データ更新」した際、マップ数が変わっても
　　　　　　　　「ツリー構造セーブ」が押せるようにならないバグを修正。

●【イベントウィンドウ】「"」の文字が含まれるコマンドを「コマンド文→クリップボードへコピー」し、
　　　　　　　　　「クリップボード→コード貼り付け」にすると「"」が「<dqrt>」という文字列になってしまうバグ修正。

●【イベントウィンドウ】マップイベントエディタ、コモンイベントエディタのコマンドリスト中に
　　　　　　　　　　　コマンドが1個しかない場合、「全て選択」でコマンドを選択できなくなるバグを修正。

●【イベントウィンドウ】 イベントコマンド欄で「全て選択」をした後、右クリックでメニューを開くと
　　　　　　　　　　　　選択範囲が最後に左クリックした行までで終わってしまうバグ修正。

●【イベントウィンドウ】Windows10などではイベントコマンド欄に全角スペースが
　　　　　　　　　　　　□□□のように表示されてしまう現象を修正。

●【マップイベントウィンドウ】マップイベントエディタ上からイベントを選択したとき、
　　　　　　　　　　　　　　状況によってはイベントが切り替わらないことがあるバグを修正

●【マップイベントウィンドウ】ゲーム基本設定で歩行キャラチップ画像を「4方向対応」などに設定していても、
　　　　　　　　　　　　　　編集中のマップ上で表示されるイベント画像に反映されてなかったのを修正。
　
●【マップイベントウィンドウ】 不要な再描画を減少させました。

●【マップイベントウィンドウ】320x240以外のゲーム画面サイズの場合、イベント編集で
　　　　　　　　　ある程度大きな歩行チップが正常に描画されなくなるバグを修正

●【マップイベントウィンドウ】キャラチップの方向指定をする四角の枠の位置が、
　　　　　　　　　　　　　　　修正時に開いた直後のみおかしな場所になることがあったバグを修正。

●【コモンイベントファイル】CommonEvent.datが50MB以上のサイズになるとファイルが破損する可能性があったバグを修正。

●【コモンイベントウィンドウ】総コモンイベント数より多いコモンが入ったcommonファイルをコモンイベントエディタ上に
　　　　　　　　ドロップして、読み込みの際に出てくる確認画面でキャンセルを押したあとにCtrl+Shift+F6で
　　　　　　　　コモンの数を増やすとコモンの数が通常より多く増えてしまうバグを修正。

●【コモンイベントウィンドウ・検索】何を検索しても特定の動作指定コマンドにヒットするようになってしまったり、
　　　　　動作指定内容によってはエラー落ちすることがあるバグを修正。

●【コモンイベントウィンドウ】「セルフ変数使用状況」を変更しても「更新」ボタンが押せる状態に
　　　　　　　　　　　　　　　ならなかったバグを修正

●【コモンイベントウィンドウ】「入力内容の設定」をしたとき、「入力する値の意味」にチェックが付いていなくても
　　　　　　　　　　　　　　　文字列が入っているとコモンセルフ名にセットされてしまうバグを修正。

●【コモンイベントウィンドウ】コモンイベントの「読込」を使った場合、「入力内容の設定」内容が
　　　　　　　　　　元あったコモンイベントの内容に追記されてしまうことがあるバグを修正。

●【コモンイベントウィンドウ】「入力内容の設定」の「全コピー」が全てのページの選択肢を保存していたバグを修正。

●【データベース】 タイプの複数コピー時、表示されるタイプ名が正常でなかったバグを修正。

●【データベース】UDB・CDB・SDBで『タイプ』を削除しても、「データIDの設定方法」の設定だけリセットされないバグ修正。

●【データベース　タイプ設定】項目名の名前に入る文字数が奇数番と偶数番で違っていたのを修正。

●【データベース　タイプ設定】 2ページ目以降の項目に「データ内容の特殊設定」で
　　　　　　　　　　「ファイル読み込み（文字列）」を設定すると、データ形式が数値と文字列の間の
　　　　　　　　　　あいまいな状態になることがあったバグを修正。

●【ゲーム基本設定】「キャラクターの移動速度設定」でイベントの速度を「カスタム」にして
　　　　　　　　　　入力したとき、再び開いたときに全て速度が0になるバグを修正

●【INIファイル】特定の方法でEditor.exeを起動させると、Editor.iniがEXEのある場所と違うフォルダに
　　　　　　　　作成されるバグへの修正を試みました

●【マップ選択】起動時にマップが何も読み込まれていない場合、何も選択せずにマップ選択ウィンドウから
　　　　　　　　右クリックしてマップを作成するとフリーズする不具合を修正。

●【変数操作】下部の2項目のうち左の欄だけ、変数が選択されている状態を「修正」して
　　　　　　　「変数」から「数値」に切り換えても元の変数値に該当する値が入っていないバグ修正。

●【文字列分岐】 イベントコマンド一覧側の表示において、コモンセルフ変数の名前が表示されていなかったのを修正。

●【DB操作】「全項目初期化」「データ数取得」「データ名取得」を使用したとき、
　　　　　　特定条件下においておかしな入力値になるバグを修正。
　　　　　　もし挙動が怪しい箇所があれば、コマンドを修正して保存しなおしてくだされば解消されます。

●【DB操作】「タイプ名取得[文字]」を選択した後、イベントコマンドの修正すると
　　　　　　データ番号や項目番号に－3が入ってしまったり複数にチェックが入ってしまうバグを修正。
　　　　　「データ数取得[数値]」や「データ名取得[文字]」に切り換えると0以上になるように。

●【DB操作】CSVの入出力を選択した際、タイプ番号の下に「タイプ名取得」のチェックボックスが現れてしまうバグを修正

●【キー入力】 キーボード入力のキーコード183が<ERROR STRING>になっていたバグを修正。
　　　　　　　　実際は「テンキーの. 」。

●【ピクチャ】 表示タイプを[1],[2]のどちらかに設定してから、座標の自由変形にチェックを入れ、
　　　　　　　そのまま表示タイプを[4]または[5]のお手軽ウィンドウに設定すると表示がおかしくなるバグを修正

●【場所移動】 「移動先を見ながら指定」画面で、存在しないマップファイルが設定されたマップが
　　　　　　　　初期選択されているとフリーズするバグを修正。

●【場所移動】「登録位置」を「変数」で指定して入力した場合、そのイベントコマンドの修正をすると
　　　　　　　位置設定リストの0番が指定されてしまうバグを修正。

●【キャラ動作指定】指定してあるイベントが存在しないマップを開いている状態で修正を行うと
　　　　　　　　　　極端なキャラ番号になったりゲームが強制終了するバグ修正。
　　　　　　　　存在しないマップイベントが設定されてるときは、キャラ指定コンボボックスに
　　　　　　　　「Ev19：存在せず」といった選択肢が追加されます。

●【キャラ動作指定】動作指定ウィンドウの右枠のグラフィックや効果音名の情報が
　　　　　　表示されている枠がコモンイベントでは機能しなかったバグを修正。

●【コモンイベント】「イベントの挿入」コマンドを「クリップボード→コード貼り付け」した後に修正すると、
　　　　　　　　　各「入力文字列」の改行が消えて見える現象を修正

●【コモンイベント】「名前呼び出し」でコモンイベントを呼び出そうとしたとき、「入力」の文字列を
　　　　　　　　　　直接入力していても内部的に数値が指定されたことになっているバグを修正。
　　　　　　　　（たとえば文字列の数値側にコモンセルフ5が選ばれた状態で直接入力チェックを付けて
　　　　　　　　　文字列を指定すると、コモンセルフ変数5が使用されている扱いになってしまう）

●【コモンイベント】「結果」部分でコモンセルフ変数文字列だけ名前が表示されていなかったのを修正

●【コモンイベント】コマンド「コモンイベント」を番号呼び出しで入力した後で、
　　　　　　　　　イベントコマンド修正で名前呼び出しに変更して同一のコモンイベントを呼び出し
　　　　　　　　「入力」すると、コモンEv入力のうちプルダウンリストになっているものの
　　　　　　　　値が初期化されていないバグを修正

●【コモンイベント】 起動直後に「イベントの挿入」しようとしたとき、
　　　　　　　　引数の入力可能状態が正常に読み込まれていないバグを修正

●【ダウンロード】ダウンロード機能のURLに長いURLを貼り付けると
　　　　　　　　　エディタごとクラッシュする可能性があったバグを修正。

-------------------------

 2017/03/18  基本システム　Ver2.20 に更新
 
 ●【重要】属性が複数ある場合の補正を少しまともっぽくなるよう修正。
   耐性を持つ属性が複数重なると0％以下になり「吸収」になってしまう場合がありましたが、
   今後は耐性と弱点のそれぞれの最大補正を足した値が最終補正率になるようにしました。[コモン165]
 ※例：炎30％（-70％耐性）、雷90％（-10％耐性）、物理140％（＋40％弱点）だけ与えられる敵に
       炎・雷・物理の3属性まとまった一撃で攻撃すると、
       最大の耐性である炎と、最大の弱点である物理が採用され-70％＋40％＝-30％となり、
       最終結果として100％-30％＝70％のダメージを与えられるようになります。
  
 ・これまで「座標倍率」1つだけで縦横のウィンドウサイズ・位置などを計算していたのを、
   縦・横サイズそれぞれに座標倍率をかけるように修正。
   これにより、どんな解像度でも、それなりにまともに表示されるようになりました。
   [コモン48・63・64・67・85・88・90・91・93・94・95・96・97・98・99・100・101・102・
           128・129・158・159・174・175・178・179・180・181・182・183・184・185・186・191・192]
 ・お店の品数を極端に増やすと50万回エラーが表示される場合がある不具合を修正[コモン86]
 ・"[-2]:全回復[死亡抜き]" のアイテムを戦闘中に使うと死亡が回復する不具合を修正[コモン165/105,120,135 行目]
 ・HP・SPの%(割合) を維持して変身すると敵の HP がおかしくなる不具合を修正[コモン168/121-122行、125-129行]
 ・状態設定の行動制限にて「ランダム敵にコマンド」の状態異常を使用すると敵の場合は敵パーティを攻撃し、
   味方の場合は技能コードが-1になりなにもしなくなる不具合を修正[コモン196]
 ・行き先のない「ラベルに飛ぶ」処理があったのを削除 [コモン159]
 ・パーティー情報計算処理の前詰め処理が正常に動作しないケースや変数ミスがあったのを修正[コモン79/42、66行]
 ・勝敗判定が敵全滅・味方全滅、になっていたのを味方全滅、敵全滅の順に変更[コモン172/13-60行]
 ・変身判定の処理に計算処理間違いや描画座標算出処理の間違いが含まれていたのを修正[コモン168]
 ・メッセージウィンドウコモンのコメントが古いままだったのを修正
   （「メッセージウィンドウ画像はユーザデータベース  ×「システム設定」→○「画像/音声設定」
     で設定してください」に変更） [コモン63/17行]
 ・状態設定の「行動制限」がうまく機能していなかったバグを修正 [コモン196]
 ・マップ移動中、技能の「自分自身のみ回復」が正常に自分自身を選択していないバグを修正[コモン119/51-64行]
 ・エラーで表示される変数が一部間違っていたのを修正[コモン150の7行・コモン151の7行]
 ・戦闘中のキー記憶処理の変数指定が間違っていたのを修正[コモン155、156]
 ・お店で売却を行う際、一番下の項目を売り尽くすとカーソルが一つ上に移動し、その際、
   所持数が「0」個と表示されてしまうバグを修正[コモン85]
 ・戦闘中に「最大値の～パーセントが回復するアイテム」を使った場合、1万を超える回復量にならず、
   9999になってしまうのを修正[コモン165]
 ・万能ウィンドウのスクロールバーが表示される個数判定にミスがあったのを修正[コモン64 825行]
 ・セーブ処理のカーソルを描画すべきところでウィンドウを描画しているバグを修正[コモン94/221行]
 ・セーブ処理のカーソルを描画すべきところでウィンドウを描画しているバグを修正[コモン94/221行]
 ・移動中、HP消費の技を連続で使うとHPが0になる状態でも発動してしまうバグを修正[コモン121]
 ・コマンド登録の1つ戻る処理で初期化している先が1つずれていたバグを修正[ｺﾓﾝ157 13行]
 
 提供してくださった多くの修正済コモンイベントを使用させていただきました。
 皆さまのご協力、誠にありがとうございます。
